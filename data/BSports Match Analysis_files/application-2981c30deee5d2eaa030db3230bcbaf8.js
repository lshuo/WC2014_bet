/*!
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */
!function(t,e){function n(t){var e=t.length,n=ue.type(t);return ue.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t){var e=ke[t]={};return ue.each(t.match(de)||[],function(t,n){e[n]=!0}),e}function r(t,n,i,r){if(ue.acceptData(t)){var o,s,a=ue.expando,l=t.nodeType,c=l?ue.cache:t,u=l?t[a]:t[a]&&a;if(u&&c[u]&&(r||c[u].data)||i!==e||"string"!=typeof n)return u||(u=l?t[a]=ee.pop()||ue.guid++:a),c[u]||(c[u]=l?{}:{toJSON:ue.noop}),("object"==typeof n||"function"==typeof n)&&(r?c[u]=ue.extend(c[u],n):c[u].data=ue.extend(c[u].data,n)),s=c[u],r||(s.data||(s.data={}),s=s.data),i!==e&&(s[ue.camelCase(n)]=i),"string"==typeof n?(o=s[n],null==o&&(o=s[ue.camelCase(n)])):o=s,o}}function o(t,e,n){if(ue.acceptData(t)){var i,r,o=t.nodeType,s=o?ue.cache:t,l=o?t[ue.expando]:ue.expando;if(s[l]){if(e&&(i=n?s[l]:s[l].data)){ue.isArray(e)?e=e.concat(ue.map(e,ue.camelCase)):e in i?e=[e]:(e=ue.camelCase(e),e=e in i?[e]:e.split(" ")),r=e.length;for(;r--;)delete i[e[r]];if(n?!a(i):!ue.isEmptyObject(i))return}(n||(delete s[l].data,a(s[l])))&&(o?ue.cleanData([t],!0):ue.support.deleteExpando||s!=s.window?delete s[l]:s[l]=null)}}}function s(t,n,i){if(i===e&&1===t.nodeType){var r="data-"+n.replace(_e,"-$1").toLowerCase();if(i=t.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Be.test(i)?ue.parseJSON(i):i}catch(o){}ue.data(t,n,i)}else i=e}return i}function a(t){var e;for(e in t)if(("data"!==e||!ue.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return J.activeElement}catch(t){}}function h(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function d(t,e,n){if(ue.isFunction(e))return ue.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ue.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(Re.test(e))return ue.filter(e,t,n);e=ue.filter(e,t)}return ue.grep(t,function(t){return ue.inArray(t,e)>=0!==n})}function p(t){var e=Ye.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function f(t,e){return ue.nodeName(t,"table")&&ue.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function m(t){return t.type=(null!==ue.find.attr(t,"type"))+"/"+t.type,t}function g(t){var e=on.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function v(t,e){for(var n,i=0;null!=(n=t[i]);i++)ue._data(n,"globalEval",!e||ue._data(e[i],"globalEval"))}function y(t,e){if(1===e.nodeType&&ue.hasData(t)){var n,i,r,o=ue._data(t),s=ue._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)ue.event.add(e,n,a[n][i])}s.data&&(s.data=ue.extend({},s.data))}}function b(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ue.support.noCloneEvent&&e[ue.expando]){r=ue._data(e);for(i in r.events)ue.removeEvent(e,i,r.handle);e.removeAttribute(ue.expando)}"script"===n&&e.text!==t.text?(m(e).text=t.text,g(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ue.support.html5Clone&&t.innerHTML&&!ue.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&en.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function w(t,n){var i,r,o=0,s=typeof t.getElementsByTagName!==U?t.getElementsByTagName(n||"*"):typeof t.querySelectorAll!==U?t.querySelectorAll(n||"*"):e;if(!s)for(s=[],i=t.childNodes||t;null!=(r=i[o]);o++)!n||ue.nodeName(r,n)?s.push(r):ue.merge(s,w(r,n));return n===e||n&&ue.nodeName(t,n)?ue.merge([t],s):s}function x(t){en.test(t.type)&&(t.defaultChecked=t.checked)}function S(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=kn.length;r--;)if(e=kn[r]+n,e in t)return e;return i}function T(t,e){return t=e||t,"none"===ue.css(t,"display")||!ue.contains(t.ownerDocument,t)}function C(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(o[s]=ue._data(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&T(i)&&(o[s]=ue._data(i,"olddisplay",M(i.nodeName)))):o[s]||(r=T(i),(n&&"none"!==n||!r)&&ue._data(i,"olddisplay",r?n:ue.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function k(t,e,n){var i=yn.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function B(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ue.css(t,n+Cn[o],!0,r)),i?("content"===n&&(s-=ue.css(t,"padding"+Cn[o],!0,r)),"margin"!==n&&(s-=ue.css(t,"border"+Cn[o]+"Width",!0,r))):(s+=ue.css(t,"padding"+Cn[o],!0,r),"padding"!==n&&(s+=ue.css(t,"border"+Cn[o]+"Width",!0,r)));return s}function _(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=hn(t),s=ue.support.boxSizing&&"border-box"===ue.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=dn(t,e,o),(0>r||null==r)&&(r=t.style[e]),bn.test(r))return r;i=s&&(ue.support.boxSizingReliable||r===t.style[e]),r=parseFloat(r)||0}return r+B(t,e,n||(s?"border":"content"),i,o)+"px"}function M(t){var e=J,n=xn[t];return n||(n=A(t,e),"none"!==n&&n||(un=(un||ue("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(un[0].contentWindow||un[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=A(t,e),un.detach()),xn[t]=n),n}function A(t,e){var n=ue(e.createElement(t)).appendTo(e.body),i=ue.css(n[0],"display");return n.remove(),i}function D(t,e,n,i){var r;if(ue.isArray(e))ue.each(e,function(e,r){n||_n.test(t)?i(t,r):D(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==ue.type(e))i(t,e);else for(r in e)D(t+"["+r+"]",e[r],n,i)}function L(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(de)||[];if(ue.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function E(t,e,n,i){function r(a){var l;return o[a]=!0,ue.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=t===zn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function N(t,n){var i,r,o=ue.ajaxSettings.flatOptions||{};for(r in n)n[r]!==e&&((o[r]?t:i||(i={}))[r]=n[r]);return i&&ue.extend(!0,t,i),t}function I(t,n,i){for(var r,o,s,a,l=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),o===e&&(o=t.mimeType||n.getResponseHeader("Content-Type"));if(o)for(a in l)if(l[a]&&l[a].test(o)){c.unshift(a);break}if(c[0]in i)s=c[0];else{for(a in i){if(!c[0]||t.converters[a+" "+c[0]]){s=a;break}r||(r=a)}s=s||r}return s?(s!==c[0]&&c.unshift(s),i[s]):void 0}function P(t,e,n,i){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=c[l+" "+o]||c["* "+o],!s)for(r in c)if(a=r.split(" "),a[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[r]:c[r]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function H(){try{return new t.XMLHttpRequest}catch(e){}}function $(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function O(){return setTimeout(function(){Kn=e}),Kn=ue.now()}function j(t,e,n){for(var i,r=(oi[e]||[]).concat(oi["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function F(t,e,n){var i,r,o=0,s=ri.length,a=ue.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Kn||O(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,o=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),1>o&&l?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:ue.extend({},e),opts:ue.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Kn||O(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ue.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),u=c.props;for(G(u,c.opts.specialEasing);s>o;o++)if(i=ri[o].call(c,t,u,c.opts))return i;return ue.map(u,j,c),ue.isFunction(c.opts.start)&&c.opts.start.call(t,c),ue.fx.timer(ue.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function G(t,e){var n,i,r,o,s;for(n in t)if(i=ue.camelCase(n),r=e[i],o=t[n],ue.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=ue.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function R(t,e,n){var i,r,o,s,a,l,c=this,u={},h=t.style,d=t.nodeType&&T(t),p=ue._data(t,"fxshow");n.queue||(a=ue._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ue.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===ue.css(t,"display")&&"none"===ue.css(t,"float")&&(ue.support.inlineBlockNeedsLayout&&"inline"!==M(t.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",ue.support.shrinkWrapBlocks||c.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],ei.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(d?"hide":"show"))continue;u[i]=p&&p[i]||ue.style(t,i)}if(!ue.isEmptyObject(u)){p?"hidden"in p&&(d=p.hidden):p=ue._data(t,"fxshow",{}),o&&(p.hidden=!d),d?ue(t).show():c.done(function(){ue(t).hide()}),c.done(function(){var e;ue._removeData(t,"fxshow");for(e in u)ue.style(t,e,u[e])});for(i in u)s=j(d?p[i]:0,i,c),i in p||(p[i]=s.start,d&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function V(t,e,n,i,r){return new V.prototype.init(t,e,n,i,r)}function z(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=Cn[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function W(t){return ue.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var Y,q,U=typeof e,X=t.location,J=t.document,Z=J.documentElement,Q=t.jQuery,K=t.$,te={},ee=[],ne="1.10.2",ie=ee.concat,re=ee.push,oe=ee.slice,se=ee.indexOf,ae=te.toString,le=te.hasOwnProperty,ce=ne.trim,ue=function(t,e){return new ue.fn.init(t,e,q)},he=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=/\S+/g,pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,me=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ge=/^[\],:{}\s]*$/,ve=/(?:^|:|,)(?:\s*\[)+/g,ye=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,be=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,we=/^-ms-/,xe=/-([\da-z])/gi,Se=function(t,e){return e.toUpperCase()},Te=function(t){(J.addEventListener||"load"===t.type||"complete"===J.readyState)&&(Ce(),ue.ready())},Ce=function(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",Te,!1),t.removeEventListener("load",Te,!1)):(J.detachEvent("onreadystatechange",Te),t.detachEvent("onload",Te))};ue.fn=ue.prototype={jquery:ne,constructor:ue,init:function(t,n,i){var r,o;if(!t)return this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:fe.exec(t),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(t):this.constructor(n).find(t);if(r[1]){if(n=n instanceof ue?n[0]:n,ue.merge(this,ue.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:J,!0)),me.test(r[1])&&ue.isPlainObject(n))for(r in n)ue.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(o=J.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(t);this.length=1,this[0]=o}return this.context=J,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ue.isFunction(t)?i.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),ue.makeArray(t,this))},selector:"",length:0,toArray:function(){return oe.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=ue.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ue.each(this,t,e)},ready:function(t){return ue.ready.promise().done(t),this},slice:function(){return this.pushStack(oe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(ue.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:re,sort:[].sort,splice:[].splice},ue.fn.init.prototype=ue.fn,ue.extend=ue.fn.extend=function(){var t,n,i,r,o,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||ue.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(o=arguments[l]))for(r in o)t=a[r],i=o[r],a!==i&&(u&&i&&(ue.isPlainObject(i)||(n=ue.isArray(i)))?(n?(n=!1,s=t&&ue.isArray(t)?t:[]):s=t&&ue.isPlainObject(t)?t:{},a[r]=ue.extend(u,s,i)):i!==e&&(a[r]=i));return a},ue.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===ue&&(t.$=K),e&&t.jQuery===ue&&(t.jQuery=Q),ue},isReady:!1,readyWait:1,holdReady:function(t){t?ue.readyWait++:ue.ready(!0)},ready:function(t){if(t===!0?!--ue.readyWait:!ue.isReady){if(!J.body)return setTimeout(ue.ready);ue.isReady=!0,t!==!0&&--ue.readyWait>0||(Y.resolveWith(J,[ue]),ue.fn.trigger&&ue(J).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===ue.type(t)},isArray:Array.isArray||function(t){return"array"===ue.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?te[ae.call(t)]||"object":typeof t},isPlainObject:function(t){var n;if(!t||"object"!==ue.type(t)||t.nodeType||ue.isWindow(t))return!1;try{if(t.constructor&&!le.call(t,"constructor")&&!le.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ue.support.ownLast)for(n in t)return le.call(t,n);for(n in t);return n===e||le.call(t,n)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||J;var i=me.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=ue.buildFragment([t],e,r),r&&ue(r).remove(),ue.merge([],i.childNodes))},parseJSON:function(e){return t.JSON&&t.JSON.parse?t.JSON.parse(e):null===e?e:"string"==typeof e&&(e=ue.trim(e),e&&ge.test(e.replace(ye,"@").replace(be,"]").replace(ve,"")))?new Function("return "+e)():(ue.error("Invalid JSON: "+e),void 0)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{t.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=e}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ue.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(e){e&&ue.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(we,"ms-").replace(xe,Se)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,o=0,s=t.length,a=n(t);if(i){if(a)for(;s>o&&(r=e.apply(t[o],i),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],i),r===!1)break}else if(a)for(;s>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:ce&&!ce.call("﻿ ")?function(t){return null==t?"":ce.call(t)}:function(t){return null==t?"":(t+"").replace(pe,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ue.merge(i,"string"==typeof t?[t]:t):re.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(se)return se.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,n){var i=n.length,r=t.length,o=0;if("number"==typeof i)for(;i>o;o++)t[r++]=n[o];else for(;n[o]!==e;)t[r++]=n[o++];return t.length=r,t},grep:function(t,e,n){var i,r=[],o=0,s=t.length;for(n=!!n;s>o;o++)i=!!e(t[o],o),n!==i&&r.push(t[o]);return r},map:function(t,e,i){var r,o=0,s=t.length,a=n(t),l=[];if(a)for(;s>o;o++)r=e(t[o],o,i),null!=r&&(l[l.length]=r);else for(o in t)r=e(t[o],o,i),null!=r&&(l[l.length]=r);return ie.apply([],l)},guid:1,proxy:function(t,n){var i,r,o;return"string"==typeof n&&(o=t[n],n=t,t=o),ue.isFunction(t)?(i=oe.call(arguments,2),r=function(){return t.apply(n||this,i.concat(oe.call(arguments)))},r.guid=t.guid=t.guid||ue.guid++,r):e},access:function(t,n,i,r,o,s,a){var l=0,c=t.length,u=null==i;if("object"===ue.type(i)){o=!0;for(l in i)ue.access(t,n,l,i[l],!0,s,a)}else if(r!==e&&(o=!0,ue.isFunction(r)||(a=!0),u&&(a?(n.call(t,r),n=null):(u=n,n=function(t,e,n){return u.call(ue(t),n)})),n))for(;c>l;l++)n(t[l],i,a?r:r.call(t[l],l,n(t[l],i)));return o?t:u?n.call(t):c?n(t[0],i):s},now:function(){return(new Date).getTime()},swap:function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r}}),ue.ready.promise=function(e){if(!Y)if(Y=ue.Deferred(),"complete"===J.readyState)setTimeout(ue.ready);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",Te,!1),t.addEventListener("load",Te,!1);else{J.attachEvent("onreadystatechange",Te),t.attachEvent("onload",Te);var n=!1;try{n=null==t.frameElement&&J.documentElement}catch(i){}n&&n.doScroll&&function r(){if(!ue.isReady){try{n.doScroll("left")}catch(t){return setTimeout(r,50)}Ce(),ue.ready()}}()}return Y.promise(e)},ue.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){te["[object "+e+"]"]=e.toLowerCase()}),q=ue(J),/*!
 * Sizzle CSS Selector Engine v1.10.2
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03
 */
function(t,e){function n(t,e,n,i){var r,o,s,a,l,c,u,h,f,m;if((e?e.ownerDocument||e:F)!==E&&L(e),e=e||E,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(I&&!i){if(r=be.exec(t))if(s=r[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&O(e,o)&&o.id===s)return n.push(o),n}else{if(r[2])return te.apply(n,e.getElementsByTagName(t)),n;if((s=r[3])&&T.getElementsByClassName&&e.getElementsByClassName)return te.apply(n,e.getElementsByClassName(s)),n}if(T.qsa&&(!P||!P.test(t))){if(h=u=j,f=e,m=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=d(t),(u=e.getAttribute("id"))?h=u.replace(Se,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+p(c[l]);f=pe.test(t)&&e.parentNode||e,m=c.join(",")}if(m)try{return te.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{u||e.removeAttribute("id")}}}return x(t.replace(ce,"$1"),e,n,i)}function i(){function t(n,i){return e.push(n+=" ")>k.cacheLength&&delete t[e.shift()],t[n]=i}var e=[];return t}function r(t){return t[j]=!0,t}function o(t){var e=E.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var n=t.split("|"),i=t.length;i--;)k.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function l(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function c(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return r(function(e){return e=+e,r(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function h(){}function d(t,e){var i,r,o,s,a,l,c,u=z[t+" "];if(u)return e?0:u.slice(0);for(a=t,l=[],c=k.preFilter;a;){(!i||(r=he.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=de.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ce," ")}),a=a.slice(i.length));for(s in k.filter)!(r=ve[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return e?a.length:a?n.error(t):z(t,l).slice(0)}function p(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=R++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,c,u=G+" "+o;if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(c=e[j]||(e[j]={}),(l=c[i])&&l[0]===u){if((a=l[1])===!0||a===C)return a===!0}else if(l=c[i]=[u],l[1]=t(e,n,s)||C,l[1]===!0)return!0}}function m(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,c=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),c&&e.push(a));return s}function v(t,e,n,i,o,s){return i&&!i[j]&&(i=v(i)),o&&!o[j]&&(o=v(o,s)),r(function(r,s,a,l){var c,u,h,d=[],p=[],f=s.length,m=r||w(e||"*",a.nodeType?[a]:a,[]),v=!t||!r&&e?m:g(m,d,t,a,l),y=n?o||(r?t:f||i)?[]:s:v;if(n&&n(v,y,a,l),i)for(c=g(y,p),i(c,[],a,l),u=c.length;u--;)(h=c[u])&&(y[p[u]]=!(v[p[u]]=h));if(r){if(o||t){if(o){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(v[u]=h);o(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=o?ne.call(r,h):d[u])>-1&&(r[c]=!(s[c]=h))}}else y=g(y===s?y.splice(f,y.length):y),o?o(null,s,y,l):te.apply(s,y)})}function y(t){for(var e,n,i,r=t.length,o=k.relative[t[0].type],s=o||k.relative[" "],a=o?1:0,l=f(function(t){return t===e},s,!0),c=f(function(t){return ne.call(e,t)>-1},s,!0),u=[function(t,n,i){return!o&&(i||n!==A)||((e=n).nodeType?l(t,n,i):c(t,n,i))}];r>a;a++)if(n=k.relative[t[a].type])u=[f(m(u),n)];else{if(n=k.filter[t[a].type].apply(null,t[a].matches),n[j]){for(i=++a;r>i&&!k.relative[t[i].type];i++);return v(a>1&&m(u),a>1&&p(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ce,"$1"),n,i>a&&y(t.slice(a,i)),r>i&&y(t=t.slice(i)),r>i&&p(t))}u.push(n)}return m(u)}function b(t,e){var i=0,o=e.length>0,s=t.length>0,a=function(r,a,l,c,u){var h,d,p,f=[],m=0,v="0",y=r&&[],b=null!=u,w=A,x=r||s&&k.find.TAG("*",u&&a.parentNode||a),S=G+=null==w?1:Math.random()||.1;for(b&&(A=a!==E&&a,C=i);null!=(h=x[v]);v++){if(s&&h){for(d=0;p=t[d++];)if(p(h,a,l)){c.push(h);break}b&&(G=S,C=++i)}o&&((h=!p&&h)&&m--,r&&y.push(h))}if(m+=v,o&&v!==m){for(d=0;p=e[d++];)p(y,f,a,l);if(r){if(m>0)for(;v--;)y[v]||f[v]||(f[v]=Q.call(c));f=g(f)}te.apply(c,f),b&&!r&&f.length>0&&m+e.length>1&&n.uniqueSort(c)}return b&&(G=S,A=w),y};return o?r(a):a}function w(t,e,i){for(var r=0,o=e.length;o>r;r++)n(t,e[r],i);return i}function x(t,e,n,i){var r,o,s,a,l,c=d(t);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&T.getById&&9===e.nodeType&&I&&k.relative[o[1].type]){if(e=(k.find.ID(s.matches[0].replace(Te,Ce),e)||[])[0],!e)return n;t=t.slice(o.shift().value.length)}for(r=ve.needsContext.test(t)?0:o.length;r--&&(s=o[r],!k.relative[a=s.type]);)if((l=k.find[a])&&(i=l(s.matches[0].replace(Te,Ce),pe.test(o[0].type)&&e.parentNode||e))){if(o.splice(r,1),t=i.length&&p(o),!t)return te.apply(n,i),n;break}}return M(t,c)(i,e,!I,n,pe.test(t)),n}var S,T,C,k,B,_,M,A,D,L,E,N,I,P,H,$,O,j="sizzle"+-new Date,F=t.document,G=0,R=0,V=i(),z=i(),W=i(),Y=!1,q=function(t,e){return t===e?(Y=!0,0):0},U=typeof e,X=1<<31,J={}.hasOwnProperty,Z=[],Q=Z.pop,K=Z.push,te=Z.push,ee=Z.slice,ne=Z.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",se=oe.replace("w","w#"),ae="\\["+re+"*("+oe+")"+re+"*(?:([*^$|!~]?=)"+re+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+se+")|)|)"+re+"*\\]",le=":("+oe+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ae.replace(3,8)+")*)|.*)\\)|)",ce=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),he=new RegExp("^"+re+"*,"+re+"*"),de=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),pe=new RegExp(re+"*[+~]"),fe=new RegExp("="+re+"*([^\\]'\"]*)"+re+"*\\]","g"),me=new RegExp(le),ge=new RegExp("^"+se+"$"),ve={ID:new RegExp("^#("+oe+")"),CLASS:new RegExp("^\\.("+oe+")"),TAG:new RegExp("^("+oe.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+le),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ie+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ye=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/^(?:input|select|textarea|button)$/i,xe=/^h\d$/i,Se=/'|\\/g,Te=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),Ce=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{te.apply(Z=ee.call(F.childNodes),F.childNodes),Z[F.childNodes.length].nodeType}catch(ke){te={apply:Z.length?function(t,e){K.apply(t,ee.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}_=n.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},T=n.support={},L=n.setDocument=function(t){var e=t?t.ownerDocument||t:F,n=e.defaultView;return e!==E&&9===e.nodeType&&e.documentElement?(E=e,N=e.documentElement,I=!_(e),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){L()}),T.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),T.getElementsByTagName=o(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),T.getElementsByClassName=o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),T.getById=o(function(t){return N.appendChild(t).id=j,!e.getElementsByName||!e.getElementsByName(j).length}),T.getById?(k.find.ID=function(t,e){if(typeof e.getElementById!==U&&I){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(t){var e=t.replace(Te,Ce);return function(t){return t.getAttribute("id")===e}}):(delete k.find.ID,k.filter.ID=function(t){var e=t.replace(Te,Ce);return function(t){var n=typeof t.getAttributeNode!==U&&t.getAttributeNode("id");return n&&n.value===e}}),k.find.TAG=T.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==U?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},k.find.CLASS=T.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==U&&I?e.getElementsByClassName(t):void 0},H=[],P=[],(T.qsa=ye.test(e.querySelectorAll))&&(o(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||P.push("\\["+re+"*(?:value|"+ie+")"),t.querySelectorAll(":checked").length||P.push(":checked")}),o(function(t){var n=e.createElement("input");n.setAttribute("type","hidden"),t.appendChild(n).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&P.push("[*^$]="+re+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(T.matchesSelector=ye.test($=N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&o(function(t){T.disconnectedMatch=$.call(t,"div"),$.call(t,"[s!='']:x"),H.push("!=",le)}),P=P.length&&new RegExp(P.join("|")),H=H.length&&new RegExp(H.join("|")),O=ye.test(N.contains)||N.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=N.compareDocumentPosition?function(t,n){if(t===n)return Y=!0,0;var i=n.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(n);return i?1&i||!T.sortDetached&&n.compareDocumentPosition(t)===i?t===e||O(F,t)?-1:n===e||O(F,n)?1:D?ne.call(D,t)-ne.call(D,n):0:4&i?-1:1:t.compareDocumentPosition?-1:1}:function(t,n){var i,r=0,o=t.parentNode,s=n.parentNode,l=[t],c=[n];if(t===n)return Y=!0,0;if(!o||!s)return t===e?-1:n===e?1:o?-1:s?1:D?ne.call(D,t)-ne.call(D,n):0;if(o===s)return a(t,n);for(i=t;i=i.parentNode;)l.unshift(i);for(i=n;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===F?-1:c[r]===F?1:0},e):E},n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){if((t.ownerDocument||t)!==E&&L(t),e=e.replace(fe,"='$1']"),!(!T.matchesSelector||!I||H&&H.test(e)||P&&P.test(e)))try{var i=$.call(t,e);if(i||T.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return n(e,E,null,[t]).length>0},n.contains=function(t,e){return(t.ownerDocument||t)!==E&&L(t),O(t,e)},n.attr=function(t,n){(t.ownerDocument||t)!==E&&L(t);var i=k.attrHandle[n.toLowerCase()],r=i&&J.call(k.attrHandle,n.toLowerCase())?i(t,n,!I):e;return r===e?T.attributes||!I?t.getAttribute(n):(r=t.getAttributeNode(n))&&r.specified?r.value:null:r},n.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},n.uniqueSort=function(t){var e,n=[],i=0,r=0;if(Y=!T.detectDuplicates,D=!T.sortStable&&t.slice(0),t.sort(q),Y){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return t},B=n.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=B(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i];i++)n+=B(e);return n},k=n.selectors={cacheLength:50,createPseudo:r,match:ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Te,Ce),t[3]=(t[4]||t[5]||"").replace(Te,Ce),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||n.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&n.error(t[0]),t},PSEUDO:function(t){var n,i=!t[5]&&t[2];return ve.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:i&&me.test(i)&&(n=d(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(t[0]=t[0].slice(0,n),t[2]=i.slice(0,n)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Te,Ce).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+re+")"+t+"("+re+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==U&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(r){var o=n.attr(r,t);return null==o?"!="===e:e?(o+="","="===e?o===i:"!="===e?o!==i:"^="===e?i&&0===o.indexOf(i):"*="===e?i&&o.indexOf(i)>-1:"$="===e?i&&o.slice(-i.length)===i:"~="===e?(" "+o+" ").indexOf(i)>-1:"|="===e?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,p,f,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(u=g[j]||(g[j]={}),c=u[t]||[],p=c[0]===G&&c[1],d=c[0]===G&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[G,p,d];break}}else if(y&&(c=(e[j]||(e[j]={}))[t])&&c[0]===G)d=c[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[j]||(h[j]={}))[t]=[G,d]),h!==e)););return d-=r,d===i||0===d%i&&d/i>=0}}},PSEUDO:function(t,e){var i,o=k.pseudos[t]||k.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return o[j]?o(e):o.length>1?(i=[t,t,"",e],k.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,n){for(var i,r=o(t,e),s=r.length;s--;)i=ne.call(t,r[s]),t[i]=!(n[i]=r[s])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=M(t.replace(ce,"$1"));return i[j]?r(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:r(function(t){return function(e){return n(t,e).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||B(e)).indexOf(t)>-1}}),lang:r(function(t){return ge.test(t||"")||n.error("unsupported lang: "+t),t=t.replace(Te,Ce).toLowerCase(),function(e){var n;do if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===N},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return xe.test(t.nodeName)},input:function(t){return we.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},k.pseudos.nth=k.pseudos.eq;for(S in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[S]=l(S);for(S in{submit:!0,reset:!0})k.pseudos[S]=c(S);h.prototype=k.filters=k.pseudos,k.setFilters=new h,M=n.compile=function(t,e){var n,i=[],r=[],o=W[t+" "];if(!o){for(e||(e=d(t)),n=e.length;n--;)o=y(e[n]),o[j]?i.push(o):r.push(o);o=W(t,b(r,i))}return o},T.sortStable=j.split("").sort(q).join("")===j,T.detectDuplicates=Y,L(),T.sortDetached=o(function(t){return 1&t.compareDocumentPosition(E.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),T.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||s(ie,function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&i.specified?i.value:t[e]===!0?e.toLowerCase():null}),ue.find=n,ue.expr=n.selectors,ue.expr[":"]=ue.expr.pseudos,ue.unique=n.uniqueSort,ue.text=n.getText,ue.isXMLDoc=n.isXML,ue.contains=n.contains}(t);var ke={};ue.Callbacks=function(t){t="string"==typeof t?ke[t]||i(t):ue.extend({},t);var n,r,o,s,a,l,c=[],u=!t.once&&[],h=function(e){for(r=t.memory&&e,o=!0,a=l||0,l=0,s=c.length,n=!0;c&&s>a;a++)if(c[a].apply(e[0],e[1])===!1&&t.stopOnFalse){r=!1;break}n=!1,c&&(u?u.length&&h(u.shift()):r?c=[]:d.disable())},d={add:function(){if(c){var e=c.length;!function i(e){ue.each(e,function(e,n){var r=ue.type(n);"function"===r?t.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),n?s=c.length:r&&(l=e,h(r))}return this},remove:function(){return c&&ue.each(arguments,function(t,e){for(var i;(i=ue.inArray(e,c,i))>-1;)c.splice(i,1),n&&(s>=i&&s--,a>=i&&a--)}),this},has:function(t){return t?ue.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=u=r=e,this},disabled:function(){return!c},lock:function(){return u=e,r||d.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!c||o&&!u||(e=e||[],e=[t,e.slice?e.slice():e],n?u.push(e):h(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},ue.extend({Deferred:function(t){var e=[["resolve","done",ue.Callbacks("once memory"),"resolved"],["reject","fail",ue.Callbacks("once memory"),"rejected"],["notify","progress",ue.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ue.Deferred(function(n){ue.each(e,function(e,o){var s=o[0],a=ue.isFunction(t[e])&&t[e];r[o[1]](function(){var t=a&&a.apply(this,arguments);t&&ue.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ue.extend(t,i):i}},r={};return i.pipe=i.then,ue.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=oe.call(arguments),s=o.length,a=1!==s||t&&ue.isFunction(t.promise)?s:0,l=1===a?t:ue.Deferred(),c=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?oe.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&ue.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,e)):--a;return a||l.resolveWith(i,o),l.promise()}}),ue.support=function(e){var n,i,r,o,s,a,l,c,u,h=J.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*")||[],i=h.getElementsByTagName("a")[0],!i||!i.style||!n.length)return e;o=J.createElement("select"),a=o.appendChild(J.createElement("option")),r=h.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",e.getSetAttribute="t"!==h.className,e.leadingWhitespace=3===h.firstChild.nodeType,e.tbody=!h.getElementsByTagName("tbody").length,e.htmlSerialize=!!h.getElementsByTagName("link").length,e.style=/top/.test(i.getAttribute("style")),e.hrefNormalized="/a"===i.getAttribute("href"),e.opacity=/^0.5/.test(i.style.opacity),e.cssFloat=!!i.style.cssFloat,e.checkOn=!!r.value,e.optSelected=a.selected,e.enctype=!!J.createElement("form").enctype,e.html5Clone="<:nav></:nav>"!==J.createElement("nav").cloneNode(!0).outerHTML,e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,e.pixelPosition=!1,e.deleteExpando=!0,e.noCloneEvent=!0,e.reliableMarginRight=!0,e.boxSizingReliable=!0,r.checked=!0,e.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,e.optDisabled=!a.disabled;try{delete h.test}catch(d){e.deleteExpando=!1}r=J.createElement("input"),r.setAttribute("value",""),e.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),e.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),s=J.createDocumentFragment(),s.appendChild(r),e.appendChecked=r.checked,e.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){e.noCloneEvent=!1}),h.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})h.setAttribute(l="on"+u,"t"),e[u+"Bubbles"]=l in t||h.attributes[l].expando===!1;h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===h.style.backgroundClip;for(u in ue(e))break;return e.ownLast="0"!==u,ue(function(){var n,i,r,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=J.getElementsByTagName("body")[0];s&&(n=J.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=h.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=c&&0===r[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ue.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===h.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(h,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(h,null)||{width:"4px"}).width,i=h.appendChild(J.createElement("div")),i.style.cssText=h.style.cssText=o,i.style.marginRight=i.style.width="0",h.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(i,null)||{}).marginRight)),typeof h.style.zoom!==U&&(h.innerHTML="",h.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==h.offsetWidth,e.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(n),n=h=r=i=null)}),n=o=s=a=i=r=null,e}({});var Be=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,_e=/([A-Z])/g;ue.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ue.cache[t[ue.expando]]:t[ue.expando],!!t&&!a(t)},data:function(t,e,n){return r(t,e,n)},removeData:function(t,e){return o(t,e)},_data:function(t,e,n){return r(t,e,n,!0)},_removeData:function(t,e){return o(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&ue.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),ue.fn.extend({data:function(t,n){var i,r,o=null,a=0,l=this[0];if(t===e){if(this.length&&(o=ue.data(l),1===l.nodeType&&!ue._data(l,"parsedAttrs"))){for(i=l.attributes;a<i.length;a++)r=i[a].name,0===r.indexOf("data-")&&(r=ue.camelCase(r.slice(5)),s(l,r,o[r]));ue._data(l,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){ue.data(this,t)}):arguments.length>1?this.each(function(){ue.data(this,t,n)}):l?s(l,t,ue.data(l,t)):null},removeData:function(t){return this.each(function(){ue.removeData(this,t)})}}),ue.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=ue._data(t,e),n&&(!i||ue.isArray(n)?i=ue._data(t,e,ue.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ue.queue(t,e),i=n.length,r=n.shift(),o=ue._queueHooks(t,e),s=function(){ue.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ue._data(t,n)||ue._data(t,n,{empty:ue.Callbacks("once memory").add(function(){ue._removeData(t,e+"queue"),ue._removeData(t,n)})})}}),ue.fn.extend({queue:function(t,n){var i=2;return"string"!=typeof t&&(n=t,t="fx",i--),arguments.length<i?ue.queue(this[0],t):n===e?this:this.each(function(){var e=ue.queue(this,t,n);ue._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ue.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ue.dequeue(this,t)})},delay:function(t,e){return t=ue.fx?ue.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var i,r=1,o=ue.Deferred(),s=this,a=this.length,l=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";a--;)i=ue._data(s[a],t+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var Me,Ae,De=/[\t\r\n\f]/g,Le=/\r/g,Ee=/^(?:input|select|textarea|button|object)$/i,Ne=/^(?:a|area)$/i,Ie=/^(?:checked|selected)$/i,Pe=ue.support.getSetAttribute,He=ue.support.input;ue.fn.extend({attr:function(t,e){return ue.access(this,ue.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ue.removeAttr(this,t)})},prop:function(t,e){return ue.access(this,ue.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ue.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(n){}})},addClass:function(t){var e,n,i,r,o,s=0,a=this.length,l="string"==typeof t&&t;if(ue.isFunction(t))return this.each(function(e){ue(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(de)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(De," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");n.className=ue.trim(i)}return this},removeClass:function(t){var e,n,i,r,o,s=0,a=this.length,l=0===arguments.length||"string"==typeof t&&t;if(ue.isFunction(t))return this.each(function(e){ue(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(de)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(De," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=t?ue.trim(i):""}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ue.isFunction(t)?this.each(function(n){ue(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,r=ue(this),o=t.match(de)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===U||"boolean"===n)&&(this.className&&ue._data(this,"__className__",this.className),this.className=this.className||t===!1?"":ue._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(De," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,i,r,o=this[0];{if(arguments.length)return r=ue.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=r?t.call(this,n,ue(this).val()):t,null==o?o="":"number"==typeof o?o+="":ue.isArray(o)&&(o=ue.map(o,function(t){return null==t?"":t+""})),i=ue.valHooks[this.type]||ue.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,o,"value")!==e||(this.value=o))});if(o)return i=ue.valHooks[o.type]||ue.valHooks[o.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(o,"value"))!==e?n:(n=o.value,"string"==typeof n?n.replace(Le,""):null==n?"":n)}}}),ue.extend({valHooks:{option:{get:function(t){var e=ue.find.attr(t,"value");return null!=e?e:t.text}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(ue.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ue.nodeName(n.parentNode,"optgroup"))){if(e=ue(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=ue.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=ue.inArray(ue(i).val(),o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}},attr:function(t,n,i){var r,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return typeof t.getAttribute===U?ue.prop(t,n,i):(1===s&&ue.isXMLDoc(t)||(n=n.toLowerCase(),r=ue.attrHooks[n]||(ue.expr.match.bool.test(n)?Ae:Me)),i===e?r&&"get"in r&&null!==(o=r.get(t,n))?o:(o=ue.find.attr(t,n),null==o?e:o):null!==i?r&&"set"in r&&(o=r.set(t,i,n))!==e?o:(t.setAttribute(n,i+""),i):(ue.removeAttr(t,n),void 0))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(de);if(o&&1===t.nodeType)for(;n=o[r++];)i=ue.propFix[n]||n,ue.expr.match.bool.test(n)?He&&Pe||!Ie.test(n)?t[i]=!1:t[ue.camelCase("default-"+n)]=t[i]=!1:ue.attr(t,n,""),t.removeAttribute(Pe?n:i)},attrHooks:{type:{set:function(t,e){if(!ue.support.radioValue&&"radio"===e&&ue.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,n,i){var r,o,s,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return s=1!==a||!ue.isXMLDoc(t),s&&(n=ue.propFix[n]||n,o=ue.propHooks[n]),i!==e?o&&"set"in o&&(r=o.set(t,i,n))!==e?r:t[n]=i:o&&"get"in o&&null!==(r=o.get(t,n))?r:t[n]},propHooks:{tabIndex:{get:function(t){var e=ue.find.attr(t,"tabindex");return e?parseInt(e,10):Ee.test(t.nodeName)||Ne.test(t.nodeName)&&t.href?0:-1}}}}),Ae={set:function(t,e,n){return e===!1?ue.removeAttr(t,n):He&&Pe||!Ie.test(n)?t.setAttribute(!Pe&&ue.propFix[n]||n,n):t[ue.camelCase("default-"+n)]=t[n]=!0,n}},ue.each(ue.expr.match.bool.source.match(/\w+/g),function(t,n){var i=ue.expr.attrHandle[n]||ue.find.attr;ue.expr.attrHandle[n]=He&&Pe||!Ie.test(n)?function(t,n,r){var o=ue.expr.attrHandle[n],s=r?e:(ue.expr.attrHandle[n]=e)!=i(t,n,r)?n.toLowerCase():null;return ue.expr.attrHandle[n]=o,s}:function(t,n,i){return i?e:t[ue.camelCase("default-"+n)]?n.toLowerCase():null}}),He&&Pe||(ue.attrHooks.value={set:function(t,e,n){return ue.nodeName(t,"input")?(t.defaultValue=e,void 0):Me&&Me.set(t,e,n)}}),Pe||(Me={set:function(t,n,i){var r=t.getAttributeNode(i);return r||t.setAttributeNode(r=t.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===t.getAttribute(i)?n:e}},ue.expr.attrHandle.id=ue.expr.attrHandle.name=ue.expr.attrHandle.coords=function(t,n,i){var r;return i?e:(r=t.getAttributeNode(n))&&""!==r.value?r.value:null},ue.valHooks.button={get:function(t,n){var i=t.getAttributeNode(n);return i&&i.specified?i.value:e},set:Me.set},ue.attrHooks.contenteditable={set:function(t,e,n){Me.set(t,""===e?!1:e,n)}},ue.each(["width","height"],function(t,e){ue.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),ue.support.hrefNormalized||ue.each(["href","src"],function(t,e){ue.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ue.support.style||(ue.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""
}}),ue.support.optSelected||(ue.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ue.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ue.propFix[this.toLowerCase()]=this}),ue.support.enctype||(ue.propFix.enctype="encoding"),ue.each(["radio","checkbox"],function(){ue.valHooks[this]={set:function(t,e){return ue.isArray(e)?t.checked=ue.inArray(ue(t).val(),e)>=0:void 0}},ue.support.checkOn||(ue.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var $e=/^(?:input|select|textarea)$/i,Oe=/^key/,je=/^(?:mouse|contextmenu)|click/,Fe=/^(?:focusinfocus|focusoutblur)$/,Ge=/^([^.]*)(?:\.(.+)|)$/;ue.event={global:{},add:function(t,n,i,r,o){var s,a,l,c,u,h,d,p,f,m,g,v=ue._data(t);if(v){for(i.handler&&(c=i,i=c.handler,o=c.selector),i.guid||(i.guid=ue.guid++),(a=v.events)||(a=v.events={}),(h=v.handle)||(h=v.handle=function(t){return typeof ue===U||t&&ue.event.triggered===t.type?e:ue.event.dispatch.apply(h.elem,arguments)},h.elem=t),n=(n||"").match(de)||[""],l=n.length;l--;)s=Ge.exec(n[l])||[],f=g=s[1],m=(s[2]||"").split(".").sort(),f&&(u=ue.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=ue.event.special[f]||{},d=ue.extend({type:f,origType:g,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&ue.expr.match.needsContext.test(o),namespace:m.join(".")},c),(p=a[f])||(p=a[f]=[],p.delegateCount=0,u.setup&&u.setup.call(t,r,m,h)!==!1||(t.addEventListener?t.addEventListener(f,h,!1):t.attachEvent&&t.attachEvent("on"+f,h))),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,d):p.push(d),ue.event.global[f]=!0);t=null}},remove:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,p,f,m,g=ue.hasData(t)&&ue._data(t);if(g&&(u=g.events)){for(e=(e||"").match(de)||[""],c=e.length;c--;)if(a=Ge.exec(e[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(h=ue.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)s=d[o],!r&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(t,s));l&&!d.length&&(h.teardown&&h.teardown.call(t,f,g.handle)!==!1||ue.removeEvent(t,p,g.handle),delete u[p])}else for(p in u)ue.event.remove(t,p+e[c],n,i,!0);ue.isEmptyObject(u)&&(delete g.handle,ue._removeData(t,"events"))}},trigger:function(n,i,r,o){var s,a,l,c,u,h,d,p=[r||J],f=le.call(n,"type")?n.type:n,m=le.call(n,"namespace")?n.namespace.split("."):[];if(l=h=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!Fe.test(f+ue.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),a=f.indexOf(":")<0&&"on"+f,n=n[ue.expando]?n:new ue.Event(f,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=e,n.target||(n.target=r),i=null==i?[n]:ue.makeArray(i,[n]),u=ue.event.special[f]||{},o||!u.trigger||u.trigger.apply(r,i)!==!1)){if(!o&&!u.noBubble&&!ue.isWindow(r)){for(c=u.delegateType||f,Fe.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),h=l;h===(r.ownerDocument||J)&&p.push(h.defaultView||h.parentWindow||t)}for(d=0;(l=p[d++])&&!n.isPropagationStopped();)n.type=d>1?c:u.bindType||f,s=(ue._data(l,"events")||{})[n.type]&&ue._data(l,"handle"),s&&s.apply(l,i),s=a&&l[a],s&&ue.acceptData(l)&&s.apply&&s.apply(l,i)===!1&&n.preventDefault();if(n.type=f,!o&&!n.isDefaultPrevented()&&(!u._default||u._default.apply(p.pop(),i)===!1)&&ue.acceptData(r)&&a&&r[f]&&!ue.isWindow(r)){h=r[a],h&&(r[a]=null),ue.event.triggered=f;try{r[f]()}catch(g){}ue.event.triggered=e,h&&(r[a]=h)}return n.result}},dispatch:function(t){t=ue.event.fix(t);var n,i,r,o,s,a=[],l=oe.call(arguments),c=(ue._data(this,"events")||{})[t.type]||[],u=ue.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=ue.event.handlers.call(this,t,c),n=0;(o=a[n++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,s=0;(r=o.handlers[s++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,i=((ue.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),i!==e&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,n){var i,r,o,s,a=[],l=n.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(o=[],s=0;l>s;s++)r=n[s],i=r.selector+" ",o[i]===e&&(o[i]=r.needsContext?ue(i,this).index(c)>=0:ue.find(i,this,null,[c]).length),o[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return l<n.length&&a.push({elem:this,handlers:n.slice(l)}),a},fix:function(t){if(t[ue.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=je.test(r)?this.mouseHooks:Oe.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new ue.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=o.srcElement||J),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var i,r,o,s=n.button,a=n.fromElement;return null==t.pageX&&null!=n.clientX&&(r=t.target.ownerDocument||J,o=r.documentElement,i=r.body,t.pageX=n.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),t.pageY=n.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?n.toElement:a),t.which||s===e||(t.which=1&s?1:2&s?3:4&s?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ue.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return ue.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=ue.extend(new ue.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?ue.event.trigger(r,null,e):ue.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},ue.removeEvent=J.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===U&&(t[i]=null),t.detachEvent(i,n))},ue.Event=function(t,e){return this instanceof ue.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?l:c):this.type=t,e&&ue.extend(this,e),this.timeStamp=t&&t.timeStamp||ue.now(),this[ue.expando]=!0,void 0):new ue.Event(t,e)},ue.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ue.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){ue.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!ue.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ue.support.submitBubbles||(ue.event.special.submit={setup:function(){return ue.nodeName(this,"form")?!1:(ue.event.add(this,"click._submit keypress._submit",function(t){var n=t.target,i=ue.nodeName(n,"input")||ue.nodeName(n,"button")?n.form:e;i&&!ue._data(i,"submitBubbles")&&(ue.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),ue._data(i,"submitBubbles",!0))}),void 0)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ue.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return ue.nodeName(this,"form")?!1:(ue.event.remove(this,"._submit"),void 0)}}),ue.support.changeBubbles||(ue.event.special.change={setup:function(){return $e.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ue.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ue.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ue.event.simulate("change",this,t,!0)})),!1):(ue.event.add(this,"beforeactivate._change",function(t){var e=t.target;$e.test(e.nodeName)&&!ue._data(e,"changeBubbles")&&(ue.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ue.event.simulate("change",this.parentNode,t,!0)}),ue._data(e,"changeBubbles",!0))}),void 0)},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ue.event.remove(this,"._change"),!$e.test(this.nodeName)}}),ue.support.focusinBubbles||ue.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){ue.event.simulate(e,t.target,ue.event.fix(t),!0)};ue.event.special[e]={setup:function(){0===n++&&J.addEventListener(t,i,!0)},teardown:function(){0===--n&&J.removeEventListener(t,i,!0)}}}),ue.fn.extend({on:function(t,n,i,r,o){var s,a;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=e);for(s in t)this.on(s,n,i,t[s],o);return this}if(null==i&&null==r?(r=n,i=n=e):null==r&&("string"==typeof n?(r=i,i=e):(r=i,i=n,n=e)),r===!1)r=c;else if(!r)return this;return 1===o&&(a=r,r=function(t){return ue().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ue.guid++)),this.each(function(){ue.event.add(this,t,r,i,n)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,n,i){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,ue(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(o in t)this.off(o,n,t[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=e),i===!1&&(i=c),this.each(function(){ue.event.remove(this,t,i,n)})},trigger:function(t,e){return this.each(function(){ue.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ue.event.trigger(t,e,n,!0):void 0}});var Re=/^.[^:#\[\.,]*$/,Ve=/^(?:parents|prev(?:Until|All))/,ze=ue.expr.match.needsContext,We={children:!0,contents:!0,next:!0,prev:!0};ue.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(ue(t).filter(function(){for(e=0;r>e;e++)if(ue.contains(i[e],this))return!0}));for(e=0;r>e;e++)ue.find(t,i[e],n);return n=this.pushStack(r>1?ue.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},has:function(t){var e,n=ue(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(ue.contains(this,n[e]))return!0})},not:function(t){return this.pushStack(d(this,t||[],!0))},filter:function(t){return this.pushStack(d(this,t||[],!1))},is:function(t){return!!d(this,"string"==typeof t&&ze.test(t)?ue(t):t||[],!1).length},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=ze.test(t)||"string"!=typeof t?ue(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ue.find.matchesSelector(n,t))){n=o.push(n);break}return this.pushStack(o.length>1?ue.unique(o):o)},index:function(t){return t?"string"==typeof t?ue.inArray(this[0],ue(t)):ue.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?ue(t,e):ue.makeArray(t&&t.nodeType?[t]:t),i=ue.merge(this.get(),n);return this.pushStack(ue.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ue.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ue.dir(t,"parentNode")},parentsUntil:function(t,e,n){return ue.dir(t,"parentNode",n)},next:function(t){return h(t,"nextSibling")},prev:function(t){return h(t,"previousSibling")},nextAll:function(t){return ue.dir(t,"nextSibling")},prevAll:function(t){return ue.dir(t,"previousSibling")},nextUntil:function(t,e,n){return ue.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return ue.dir(t,"previousSibling",n)},siblings:function(t){return ue.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ue.sibling(t.firstChild)},contents:function(t){return ue.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ue.merge([],t.childNodes)}},function(t,e){ue.fn[t]=function(n,i){var r=ue.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ue.filter(i,r)),this.length>1&&(We[t]||(r=ue.unique(r)),Ve.test(t)&&(r=r.reverse())),this.pushStack(r)}}),ue.extend({filter:function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ue.find.matchesSelector(i,t)?[i]:[]:ue.find.matches(t,ue.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,n,i){for(var r=[],o=t[n];o&&9!==o.nodeType&&(i===e||1!==o.nodeType||!ue(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Ye="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",qe=/ jQuery\d+="(?:null|\d+)"/g,Ue=new RegExp("<(?:"+Ye+")[\\s/>]","i"),Xe=/^\s+/,Je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ze=/<([\w:]+)/,Qe=/<tbody/i,Ke=/<|&#?\w+;/,tn=/<(?:script|style|link)/i,en=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,on=/^true\/(.*)/,sn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,an={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ue.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=p(J),cn=ln.appendChild(J.createElement("div"));an.optgroup=an.option,an.tbody=an.tfoot=an.colgroup=an.caption=an.thead,an.th=an.td,ue.fn.extend({text:function(t){return ue.access(this,function(t){return t===e?ue.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?ue.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||ue.cleanData(w(n)),n.parentNode&&(e&&ue.contains(n.ownerDocument,n)&&v(w(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ue.cleanData(w(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ue.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ue.clone(this,t,e)})},html:function(t){return ue.access(this,function(t){var n=this[0]||{},i=0,r=this.length;if(t===e)return 1===n.nodeType?n.innerHTML.replace(qe,""):e;if(!("string"!=typeof t||tn.test(t)||!ue.support.htmlSerialize&&Ue.test(t)||!ue.support.leadingWhitespace&&Xe.test(t)||an[(Ze.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Je,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(ue.cleanData(w(n,!1)),n.innerHTML=t);n=0}catch(o){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=ue.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(n){var i=t[e++],r=t[e++];r&&(i&&i.parentNode!==r&&(i=this.nextSibling),ue(this).remove(),r.insertBefore(n,i))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){t=ie.apply([],t);var i,r,o,s,a,l,c=0,u=this.length,h=this,d=u-1,p=t[0],f=ue.isFunction(p);if(f||!(1>=u||"string"!=typeof p||ue.support.checkClone)&&nn.test(p))return this.each(function(i){var r=h.eq(i);f&&(t[0]=p.call(this,i,r.html())),r.domManip(t,e,n)});if(u&&(l=ue.buildFragment(t,this[0].ownerDocument,!1,!n&&this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(s=ue.map(w(l,"script"),m),o=s.length;u>c;c++)r=l,c!==d&&(r=ue.clone(r,!0,!0),o&&ue.merge(s,w(r,"script"))),e.call(this[c],r,c);if(o)for(a=s[s.length-1].ownerDocument,ue.map(s,g),c=0;o>c;c++)r=s[c],rn.test(r.type||"")&&!ue._data(r,"globalEval")&&ue.contains(a,r)&&(r.src?ue._evalUrl(r.src):ue.globalEval((r.text||r.textContent||r.innerHTML||"").replace(sn,"")));l=i=null}return this}}),ue.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ue.fn[t]=function(t){for(var n,i=0,r=[],o=ue(t),s=o.length-1;s>=i;i++)n=i===s?this:this.clone(!0),ue(o[i])[e](n),re.apply(r,n.get());return this.pushStack(r)}}),ue.extend({clone:function(t,e,n){var i,r,o,s,a,l=ue.contains(t.ownerDocument,t);if(ue.support.html5Clone||ue.isXMLDoc(t)||!Ue.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(cn.innerHTML=t.outerHTML,cn.removeChild(o=cn.firstChild)),!(ue.support.noCloneEvent&&ue.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ue.isXMLDoc(t)))for(i=w(o),a=w(t),s=0;null!=(r=a[s]);++s)i[s]&&b(r,i[s]);if(e)if(n)for(a=a||w(t),i=i||w(o),s=0;null!=(r=a[s]);s++)y(r,i[s]);else y(t,o);return i=w(o,"script"),i.length>0&&v(i,!l&&w(t,"script")),i=a=r=null,o},buildFragment:function(t,e,n,i){for(var r,o,s,a,l,c,u,h=t.length,d=p(e),f=[],m=0;h>m;m++)if(o=t[m],o||0===o)if("object"===ue.type(o))ue.merge(f,o.nodeType?[o]:o);else if(Ke.test(o)){for(a=a||d.appendChild(e.createElement("div")),l=(Ze.exec(o)||["",""])[1].toLowerCase(),u=an[l]||an._default,a.innerHTML=u[1]+o.replace(Je,"<$1></$2>")+u[2],r=u[0];r--;)a=a.lastChild;if(!ue.support.leadingWhitespace&&Xe.test(o)&&f.push(e.createTextNode(Xe.exec(o)[0])),!ue.support.tbody)for(o="table"!==l||Qe.test(o)?"<table>"!==u[1]||Qe.test(o)?0:a:a.firstChild,r=o&&o.childNodes.length;r--;)ue.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(ue.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else f.push(e.createTextNode(o));for(a&&d.removeChild(a),ue.support.appendChecked||ue.grep(w(f,"input"),x),m=0;o=f[m++];)if((!i||-1===ue.inArray(o,i))&&(s=ue.contains(o.ownerDocument,o),a=w(d.appendChild(o),"script"),s&&v(a),n))for(r=0;o=a[r++];)rn.test(o.type||"")&&n.push(o);return a=null,d},cleanData:function(t,e){for(var n,i,r,o,s=0,a=ue.expando,l=ue.cache,c=ue.support.deleteExpando,u=ue.event.special;null!=(n=t[s]);s++)if((e||ue.acceptData(n))&&(r=n[a],o=r&&l[r])){if(o.events)for(i in o.events)u[i]?ue.event.remove(n,i):ue.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[a]:typeof n.removeAttribute!==U?n.removeAttribute(a):n[a]=null,ee.push(r))}},_evalUrl:function(t){return ue.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ue.fn.extend({wrapAll:function(t){if(ue.isFunction(t))return this.each(function(e){ue(this).wrapAll(t.call(this,e))});if(this[0]){var e=ue(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ue.isFunction(t)?this.each(function(e){ue(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ue(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ue.isFunction(t);return this.each(function(n){ue(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ue.nodeName(this,"body")||ue(this).replaceWith(this.childNodes)}).end()}});var un,hn,dn,pn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=new RegExp("^("+he+")(.*)$","i"),bn=new RegExp("^("+he+")(?!px)[a-z%]+$","i"),wn=new RegExp("^([+-])=("+he+")","i"),xn={BODY:"block"},Sn={position:"absolute",visibility:"hidden",display:"block"},Tn={letterSpacing:0,fontWeight:400},Cn=["Top","Right","Bottom","Left"],kn=["Webkit","O","Moz","ms"];ue.fn.extend({css:function(t,n){return ue.access(this,function(t,n,i){var r,o,s={},a=0;if(ue.isArray(n)){for(o=hn(t),r=n.length;r>a;a++)s[n[a]]=ue.css(t,n[a],!1,o);return s}return i!==e?ue.style(t,n,i):ue.css(t,n)},t,n,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){T(this)?ue(this).show():ue(this).hide()})}}),ue.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=dn(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ue.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,n,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,a,l=ue.camelCase(n),c=t.style;if(n=ue.cssProps[l]||(ue.cssProps[l]=S(c,l)),a=ue.cssHooks[n]||ue.cssHooks[l],i===e)return a&&"get"in a&&(o=a.get(t,!1,r))!==e?o:c[n];if(s=typeof i,"string"===s&&(o=wn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(ue.css(t,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||ue.cssNumber[l]||(i+="px"),ue.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),a&&"set"in a&&(i=a.set(t,i,r))===e)))try{c[n]=i}catch(u){}}},css:function(t,n,i,r){var o,s,a,l=ue.camelCase(n);return n=ue.cssProps[l]||(ue.cssProps[l]=S(t.style,l)),a=ue.cssHooks[n]||ue.cssHooks[l],a&&"get"in a&&(s=a.get(t,!0,i)),s===e&&(s=dn(t,n,r)),"normal"===s&&n in Tn&&(s=Tn[n]),""===i||i?(o=parseFloat(s),i===!0||ue.isNumeric(o)?o||0:s):s}}),t.getComputedStyle?(hn=function(e){return t.getComputedStyle(e,null)},dn=function(t,n,i){var r,o,s,a=i||hn(t),l=a?a.getPropertyValue(n)||a[n]:e,c=t.style;return a&&(""!==l||ue.contains(t.ownerDocument,t)||(l=ue.style(t,n)),bn.test(l)&&vn.test(n)&&(r=c.width,o=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=r,c.minWidth=o,c.maxWidth=s)),l}):J.documentElement.currentStyle&&(hn=function(t){return t.currentStyle},dn=function(t,n,i){var r,o,s,a=i||hn(t),l=a?a[n]:e,c=t.style;return null==l&&c&&c[n]&&(l=c[n]),bn.test(l)&&!mn.test(n)&&(r=c.left,o=t.runtimeStyle,s=o&&o.left,s&&(o.left=t.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=r,s&&(o.left=s)),""===l?"auto":l}),ue.each(["height","width"],function(t,e){ue.cssHooks[e]={get:function(t,n,i){return n?0===t.offsetWidth&&gn.test(ue.css(t,"display"))?ue.swap(t,Sn,function(){return _(t,e,i)}):_(t,e,i):void 0},set:function(t,n,i){var r=i&&hn(t);return k(t,n,i?B(t,e,i,ue.support.boxSizing&&"border-box"===ue.css(t,"boxSizing",!1,r),r):0)}}}),ue.support.opacity||(ue.cssHooks.opacity={get:function(t,e){return fn.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=ue.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===ue.trim(o.replace(pn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=pn.test(o)?o.replace(pn,r):o+" "+r)}}),ue(function(){ue.support.reliableMarginRight||(ue.cssHooks.marginRight={get:function(t,e){return e?ue.swap(t,{display:"inline-block"},dn,[t,"marginRight"]):void 0}}),!ue.support.pixelPosition&&ue.fn.position&&ue.each(["top","left"],function(t,e){ue.cssHooks[e]={get:function(t,n){return n?(n=dn(t,e),bn.test(n)?ue(t).position()[e]+"px":n):void 0}}})}),ue.expr&&ue.expr.filters&&(ue.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!ue.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||ue.css(t,"display"))},ue.expr.filters.visible=function(t){return!ue.expr.filters.hidden(t)}),ue.each({margin:"",padding:"",border:"Width"},function(t,e){ue.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Cn[i]+e]=o[i]||o[i-2]||o[0];return r}},vn.test(t)||(ue.cssHooks[t+e].set=k)});var Bn=/%20/g,_n=/\[\]$/,Mn=/\r?\n/g,An=/^(?:submit|button|image|reset|file)$/i,Dn=/^(?:input|select|textarea|keygen)/i;ue.fn.extend({serialize:function(){return ue.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ue.prop(this,"elements");return t?ue.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ue(this).is(":disabled")&&Dn.test(this.nodeName)&&!An.test(t)&&(this.checked||!en.test(t))}).map(function(t,e){var n=ue(this).val();return null==n?null:ue.isArray(n)?ue.map(n,function(t){return{name:e.name,value:t.replace(Mn,"\r\n")}}):{name:e.name,value:n.replace(Mn,"\r\n")}}).get()}}),ue.param=function(t,n){var i,r=[],o=function(t,e){e=ue.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=ue.ajaxSettings&&ue.ajaxSettings.traditional),ue.isArray(t)||t.jquery&&!ue.isPlainObject(t))ue.each(t,function(){o(this.name,this.value)});else for(i in t)D(i,t[i],n,o);return r.join("&").replace(Bn,"+")},ue.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ue.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ue.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Ln,En,Nn=ue.now(),In=/\?/,Pn=/#.*$/,Hn=/([?&])_=[^&]*/,$n=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,On=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jn=/^(?:GET|HEAD)$/,Fn=/^\/\//,Gn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Rn=ue.fn.load,Vn={},zn={},Wn="*/".concat("*");try{En=X.href}catch(Yn){En=J.createElement("a"),En.href="",En=En.href}Ln=Gn.exec(En.toLowerCase())||[],ue.fn.load=function(t,n,i){if("string"!=typeof t&&Rn)return Rn.apply(this,arguments);var r,o,s,a=this,l=t.indexOf(" ");return l>=0&&(r=t.slice(l,t.length),t=t.slice(0,l)),ue.isFunction(n)?(i=n,n=e):n&&"object"==typeof n&&(s="POST"),a.length>0&&ue.ajax({url:t,type:s,dataType:"html",data:n}).done(function(t){o=arguments,a.html(r?ue("<div>").append(ue.parseHTML(t)).find(r):t)}).complete(i&&function(t,e){a.each(i,o||[t.responseText,e,t])}),this},ue.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ue.fn[e]=function(t){return this.on(e,t)}}),ue.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:En,type:"GET",isLocal:On.test(Ln[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ue.parseJSON,"text xml":ue.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?N(N(t,ue.ajaxSettings),e):N(ue.ajaxSettings,t)},ajaxPrefilter:L(Vn),ajaxTransport:L(zn),ajax:function(t,n){function i(t,n,i,r){var o,h,y,b,x,T=n;2!==w&&(w=2,l&&clearTimeout(l),u=e,a=r||"",S.readyState=t>0?4:0,o=t>=200&&300>t||304===t,i&&(b=I(d,S,i)),b=P(d,b,S,o),o?(d.ifModified&&(x=S.getResponseHeader("Last-Modified"),x&&(ue.lastModified[s]=x),x=S.getResponseHeader("etag"),x&&(ue.etag[s]=x)),204===t||"HEAD"===d.type?T="nocontent":304===t?T="notmodified":(T=b.state,h=b.data,y=b.error,o=!y)):(y=T,(t||!T)&&(T="error",0>t&&(t=0))),S.status=t,S.statusText=(n||T)+"",o?m.resolveWith(p,[h,T,S]):m.rejectWith(p,[S,T,y]),S.statusCode(v),v=e,c&&f.trigger(o?"ajaxSuccess":"ajaxError",[S,d,o?h:y]),g.fireWith(p,[S,T]),c&&(f.trigger("ajaxComplete",[S,d]),--ue.active||ue.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var r,o,s,a,l,c,u,h,d=ue.ajaxSetup({},n),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?ue(p):ue.event,m=ue.Deferred(),g=ue.Callbacks("once memory"),v=d.statusCode||{},y={},b={},w=0,x="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!h)for(h={};e=$n.exec(a);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return w||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)v[e]=[v[e],t[e]];else S.always(t[S.status]);return this},abort:function(t){var e=t||x;return u&&u.abort(e),i(0,e),this}};if(m.promise(S).complete=g.add,S.success=S.done,S.error=S.fail,d.url=((t||d.url||En)+"").replace(Pn,"").replace(Fn,Ln[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=ue.trim(d.dataType||"*").toLowerCase().match(de)||[""],null==d.crossDomain&&(r=Gn.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===Ln[1]&&r[2]===Ln[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Ln[3]||("http:"===Ln[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ue.param(d.data,d.traditional)),E(Vn,d,n,S),2===w)return S;c=d.global,c&&0===ue.active++&&ue.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!jn.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=(In.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Hn.test(s)?s.replace(Hn,"$1_="+Nn++):s+(In.test(s)?"&":"?")+"_="+Nn++)),d.ifModified&&(ue.lastModified[s]&&S.setRequestHeader("If-Modified-Since",ue.lastModified[s]),ue.etag[s]&&S.setRequestHeader("If-None-Match",ue.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",d.contentType),S.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Wn+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)S.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(d.beforeSend.call(p,S,d)===!1||2===w))return S.abort();x="abort";for(o in{success:1,error:1,complete:1})S[o](d[o]);if(u=E(zn,d,n,S)){S.readyState=1,c&&f.trigger("ajaxSend",[S,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){S.abort("timeout")},d.timeout));try{w=1,u.send(y,i)}catch(T){if(!(2>w))throw T;i(-1,T)}}else i(-1,"No Transport");return S},getJSON:function(t,e,n){return ue.get(t,e,n,"json")},getScript:function(t,n){return ue.get(t,e,n,"script")}}),ue.each(["get","post"],function(t,n){ue[n]=function(t,i,r,o){return ue.isFunction(i)&&(o=o||r,r=i,i=e),ue.ajax({url:t,type:n,dataType:o,data:i,success:r})}}),ue.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ue.globalEval(t),t}}}),ue.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)
}),ue.ajaxTransport("script",function(t){if(t.crossDomain){var n,i=J.head||ue("head")[0]||J.documentElement;return{send:function(e,r){n=J.createElement("script"),n.async=!0,t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(t,e){(e||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,e||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(e,!0)}}}});var qn=[],Un=/(=)\?(?=&|$)|\?\?/;ue.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qn.pop()||ue.expando+"_"+Nn++;return this[t]=!0,t}}),ue.ajaxPrefilter("json jsonp",function(n,i,r){var o,s,a,l=n.jsonp!==!1&&(Un.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Un.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=ue.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Un,"$1"+o):n.jsonp!==!1&&(n.url+=(In.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||ue.error(o+" was not called"),a[0]},n.dataTypes[0]="json",s=t[o],t[o]=function(){a=arguments},r.always(function(){t[o]=s,n[o]&&(n.jsonpCallback=i.jsonpCallback,qn.push(o)),a&&ue.isFunction(s)&&s(a[0]),a=s=e}),"script"):void 0});var Xn,Jn,Zn=0,Qn=t.ActiveXObject&&function(){var t;for(t in Xn)Xn[t](e,!0)};ue.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&H()||$()}:H,Jn=ue.ajaxSettings.xhr(),ue.support.cors=!!Jn&&"withCredentials"in Jn,Jn=ue.support.ajax=!!Jn,Jn&&ue.ajaxTransport(function(n){if(!n.crossDomain||ue.support.cors){var i;return{send:function(r,o){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(t,r){var a,c,u,h;try{if(i&&(r||4===l.readyState))if(i=e,s&&(l.onreadystatechange=ue.noop,Qn&&delete Xn[s]),r)4!==l.readyState&&l.abort();else{h={},a=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(h.text=l.responseText);try{u=l.statusText}catch(d){u=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=h.text?200:404}}catch(p){r||o(-1,p)}h&&o(a,u,h,c)},n.async?4===l.readyState?setTimeout(i):(s=++Zn,Qn&&(Xn||(Xn={},ue(t).unload(Qn)),Xn[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(e,!0)}}}});var Kn,ti,ei=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+he+")([a-z%]*)$","i"),ii=/queueHooks$/,ri=[R],oi={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=ni.exec(e),o=r&&r[3]||(ue.cssNumber[t]?"":"px"),s=(ue.cssNumber[t]||"px"!==o&&+i)&&ni.exec(ue.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,ue.style(n.elem,t,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};ue.Animation=ue.extend(F,{tweener:function(t,e){ue.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],oi[n]=oi[n]||[],oi[n].unshift(e)},prefilter:function(t,e){e?ri.unshift(t):ri.push(t)}}),ue.Tween=V,V.prototype={constructor:V,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ue.cssNumber[n]?"":"px")},cur:function(){var t=V.propHooks[this.prop];return t&&t.get?t.get(this):V.propHooks._default.get(this)},run:function(t){var e,n=V.propHooks[this.prop];return this.pos=e=this.options.duration?ue.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):V.propHooks._default.set(this),this}},V.prototype.init.prototype=V.prototype,V.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ue.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ue.fx.step[t.prop]?ue.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ue.cssProps[t.prop]]||ue.cssHooks[t.prop])?ue.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ue.each(["toggle","show","hide"],function(t,e){var n=ue.fn[e];ue.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(z(e,!0),t,i,r)}}),ue.fn.extend({fadeTo:function(t,e,n,i){return this.filter(T).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ue.isEmptyObject(t),o=ue.speed(e,n,i),s=function(){var e=F(this,ue.extend({},t),o);(r||ue._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,n,i){var r=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",o=ue.timers,s=ue._data(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&ii.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=t&&o[n].queue!==t||(o[n].anim.stop(i),e=!1,o.splice(n,1));(e||!i)&&ue.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ue._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ue.timers,s=i?i.length:0;for(n.finish=!0,ue.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ue.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ue.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ue.speed=function(t,e,n){var i=t&&"object"==typeof t?ue.extend({},t):{complete:n||!n&&e||ue.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ue.isFunction(e)&&e};return i.duration=ue.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ue.fx.speeds?ue.fx.speeds[i.duration]:ue.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ue.isFunction(i.old)&&i.old.call(this),i.queue&&ue.dequeue(this,i.queue)},i},ue.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ue.timers=[],ue.fx=V.prototype.init,ue.fx.tick=function(){var t,n=ue.timers,i=0;for(Kn=ue.now();i<n.length;i++)t=n[i],t()||n[i]!==t||n.splice(i--,1);n.length||ue.fx.stop(),Kn=e},ue.fx.timer=function(t){t()&&ue.timers.push(t)&&ue.fx.start()},ue.fx.interval=13,ue.fx.start=function(){ti||(ti=setInterval(ue.fx.tick,ue.fx.interval))},ue.fx.stop=function(){clearInterval(ti),ti=null},ue.fx.speeds={slow:600,fast:200,_default:400},ue.fx.step={},ue.expr&&ue.expr.filters&&(ue.expr.filters.animated=function(t){return ue.grep(ue.timers,function(e){return t===e.elem}).length}),ue.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){ue.offset.setOffset(this,t,e)});var n,i,r={top:0,left:0},o=this[0],s=o&&o.ownerDocument;if(s)return n=s.documentElement,ue.contains(n,o)?(typeof o.getBoundingClientRect!==U&&(r=o.getBoundingClientRect()),i=W(s),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r},ue.offset={setOffset:function(t,e,n){var i=ue.css(t,"position");"static"===i&&(t.style.position="relative");var r,o,s=ue(t),a=s.offset(),l=ue.css(t,"top"),c=ue.css(t,"left"),u=("absolute"===i||"fixed"===i)&&ue.inArray("auto",[l,c])>-1,h={},d={};u?(d=s.position(),r=d.top,o=d.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),ue.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+o),"using"in e?e.using.call(t,h):s.css(h)}},ue.fn.extend({position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ue.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ue.nodeName(t[0],"html")||(n=t.offset()),n.top+=ue.css(t[0],"borderTopWidth",!0),n.left+=ue.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ue.css(i,"marginTop",!0),left:e.left-n.left-ue.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Z;t&&!ue.nodeName(t,"html")&&"static"===ue.css(t,"position");)t=t.offsetParent;return t||Z})}}),ue.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i=/Y/.test(n);ue.fn[t]=function(r){return ue.access(this,function(t,r,o){var s=W(t);return o===e?s?n in s?s[n]:s.document.documentElement[r]:t[r]:(s?s.scrollTo(i?ue(s).scrollLeft():o,i?o:ue(s).scrollTop()):t[r]=o,void 0)},t,r,arguments.length,null)}}),ue.each({Height:"height",Width:"width"},function(t,n){ue.each({padding:"inner"+t,content:n,"":"outer"+t},function(i,r){ue.fn[r]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return ue.access(this,function(n,i,r){var o;return ue.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+t],o["scroll"+t],n.body["offset"+t],o["offset"+t],o["client"+t])):r===e?ue.css(n,i,a):ue.style(n,i,r,a)},n,s?r:e,s,null)}})}),ue.fn.size=function(){return this.length},ue.fn.andSelf=ue.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ue:(t.jQuery=t.$=ue,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ue}))}(window),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n;t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(i){var r,o,s,a,l,c,u,h;if(n.fire(i,"ajax:before")){if(a=i.data("cross-domain"),l=a===e?null:a,c=i.data("with-credentials")||null,u=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),o=i.attr("action"),s=i.serializeArray();var d=i.data("ujs:submit-button");d&&(s.push(d),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),s=i.data("params")||null);h={type:r||"GET",data:s,dataType:u,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[t,r])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:l},c&&(h.xhrFields={withCredentials:c}),o&&(h.url=o);var p=n.ajax(h);return i.trigger("ajax:send",p),p}return!1},handleMethod:function(i){var r=n.href(i),o=i.data("method"),s=i.attr("target"),a=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l!==e&&a!==e&&(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,i=t.data("confirm"),r=!1;return i?(n.fire(t,"confirm")&&(r=n.confirm(i),e=n.fire(t,"confirm:complete",[r])),r&&e):!0},blankInputs:function(e,n,i){var r,o,s=t(),a=n||"input,textarea",l=e.find(a);return l.each(function(){if(r=t(this),o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!o==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),s.length?s:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(document).delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),t(document).delegate(n.linkClickSelector,"click.rails",function(i){var r=t(this),o=r.data("method"),s=r.data("params");if(!n.allowAction(r))return n.stopEverything(i);if(r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==e){if(!(!i.metaKey&&!i.ctrlKey||o&&"GET"!==o||s))return!0;var a=n.handleRemote(r);return a===!1?n.enableElement(r):a.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),t(document).delegate(n.buttonClickSelector,"click.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),t(document).delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),t(document).delegate(n.formSubmitSelector,"submit.rails",function(i){var r=t(this),o=r.data("remote")!==e,s=n.blankInputs(r,n.requiredInputSelector),a=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(i);if(s&&r.attr("novalidate")==e&&n.fire(r,"ajax:aborted:required",[s]))return n.stopEverything(i);if(o){if(a){setTimeout(function(){n.disableFormElements(r)},13);var l=n.fire(r,"ajax:aborted:file",[a]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),t(document).delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),t(document).delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),t(document).delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)}))}(jQuery),/*!
 * jQuery UI Effects 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */
function(t,e){var n="ui-effects-";t.effects={effect:{}},/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(t,e){function n(t,e,n){var i=h[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function i(e){var n=c(),i=n._rgba=[];return e=e.toLowerCase(),f(l,function(t,r){var o,s=r.re.exec(e),a=s&&r.parse(s),l=r.space||"rgba";return a?(o=n[l](a),n[u[l].cache]=o[u[l].cache],i=n._rgba=o._rgba,!1):void 0}),i.length?("0,0,0,0"===i.join()&&t.extend(i,o.transparent),n):o[e]}function r(t,e,n){return n=(n+1)%1,1>6*n?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}var o,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=c.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),c.fn=t.extend(c.prototype,{parse:function(r,s,a,l){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(s),s=e);var h=this,d=t.type(r),p=this._rgba=[];return s!==e&&(r=[r,s,a,l],d="array"),"string"===d?this.parse(i(r)||o._default):"array"===d?(f(u.rgba.props,function(t,e){p[e.idx]=n(r[e.idx],e)}),this):"object"===d?(r instanceof c?f(u,function(t,e){r[e.cache]&&(h[e.cache]=r[e.cache].slice())}):f(u,function(e,i){var o=i.cache;f(i.props,function(t,e){if(!h[o]&&i.to){if("alpha"===t||null==r[t])return;h[o]=i.to(h._rgba)}h[o][e.idx]=n(r[t],e,!0)}),h[o]&&t.inArray(null,h[o].slice(0,3))<0&&(h[o][3]=1,i.from&&(h._rgba=i.from(h[o])))}),this):void 0},is:function(t){var e=c(t),n=!0,i=this;return f(u,function(t,r){var o,s=e[r.cache];return s&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],f(r.props,function(t,e){return null!=s[e.idx]?n=s[e.idx]===o[e.idx]:void 0})),n}),n},_space:function(){var t=[],e=this;return f(u,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=c(t),r=i._space(),o=u[r],s=0===this.alpha()?c("transparent"):this,a=s[o.cache]||o.to(s._rgba),l=a.slice();return i=i[o.cache],f(o.props,function(t,r){var o=r.idx,s=a[o],c=i[o],u=h[r.type]||{};null!==c&&(null===s?l[o]=c:(u.mod&&(c-s>u.mod/2?s+=u.mod:s-c>u.mod/2&&(s-=u.mod)),l[o]=n((c-s)*e+s,r)))}),this[r](l)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=c(e)._rgba;return c(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(i,r,o),l=Math.min(i,r,o),c=a-l,u=a+l,h=.5*u;return e=l===a?0:i===a?60*(r-o)/c+360:r===a?60*(o-i)/c+120:60*(i-r)/c+240,n=0===c?0:.5>=h?c/u:c/(2-u),[Math.round(e)%360,n,h,null==s?1:s]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],s=.5>=i?i*(1+n):i+n-i*n,a=2*i-s;return[Math.round(255*r(a,s,e+1/3)),Math.round(255*r(a,s,e)),Math.round(255*r(a,s,e-1/3)),o]},f(u,function(i,r){var o=r.props,s=r.cache,l=r.to,u=r.from;c.fn[i]=function(i){if(l&&!this[s]&&(this[s]=l(this._rgba)),i===e)return this[s].slice();var r,a=t.type(i),h="array"===a||"object"===a?i:arguments,d=this[s].slice();return f(o,function(t,e){var i=h["object"===a?t:e.idx];null==i&&(i=d[e.idx]),d[e.idx]=n(i,e)}),u?(r=c(u(d)),r[s]=d,r):c(d)},f(o,function(e,n){c.fn[e]||(c.fn[e]=function(r){var o,s=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":i,c=this[l](),u=c[n.idx];return"undefined"===s?u:("function"===s&&(r=r.call(this,u),s=t.type(r)),null==r&&n.empty?this:("string"===s&&(o=a.exec(r),o&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1))),c[n.idx]=r,this[l](c)))})})}),c.hook=function(e){var n=e.split(" ");f(n,function(e,n){t.cssHooks[n]={set:function(e,r){var o,s,a="";if("transparent"!==r&&("string"!==t.type(r)||(o=i(r)))){if(r=c(o||r),!d.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(l){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(l){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=c(e.elem,n),e.end=c(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},c.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function n(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function i(e,n){var i,r,s={};for(i in n)r=n[i],e[i]!==r&&(o[i]||(t.fx.step[i]||!isNaN(parseFloat(r)))&&(s[i]=r));return s}var r=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,o,s,a){var l=t.speed(o,s,a);return this.queue(function(){var o,s=t(this),a=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map(function(){var e=t(this);return{el:e,start:n(this)}}),o=function(){t.each(r,function(t,n){e[n]&&s[n+"Class"](e[n])})},o(),c=c.map(function(){return this.end=n(this.el[0]),this.diff=i(this.start,this.end),this}),s.attr("class",a),c=c.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,c.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(n){return function(i,r,o,s,a){return"boolean"==typeof r||r===e?o?t.effects.animateClass.call(this,r?{add:i}:{remove:i},o,s,a):n.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},r,o,s)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function i(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function r(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.10.3",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data(n+e[i],t[0].style[e[i]])},restore:function(t,i){var r,o;for(o=0;o<i.length;o++)null!==i[o]&&(r=t.data(n+i[o]),r===e&&(r=""),t.css(i[o],r))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(s){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus()),e},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){function e(e){function i(){t.isFunction(o)&&o.call(r[0]),t.isFunction(e)&&e()}var r=t(this),o=n.complete,a=n.mode;(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),i()):s.call(r[0],n,i)}var n=i.apply(this,arguments),r=n.mode,o=n.queue,s=t.effects.effect[n.effect];return t.fx.off||!s?r?this[r](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):o===!1?this.each(e):this.queue(o||"fx",e)},show:function(t){return function(e){if(r(e))return t.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(t.fn.show),hide:function(t){return function(e){if(r(e))return t.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(e){if(r(e)||"boolean"==typeof e)return t.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}})}()}(jQuery),function(){function t(t,e){var n;t||(t={});for(n in e)t[n]=e[n];return t}function e(){for(var t=0,e=arguments,n=e.length,i={};n>t;t++)i[e[t++]]=e[t];return i}function n(t,e){return parseInt(t,e||10)}function i(t){return"string"==typeof t}function r(t){return"object"==typeof t}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t){return"number"==typeof t}function a(t){return ce.log(t)/ce.LN10}function l(t){return ce.pow(10,t)}function c(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}}function u(t){return t!==G&&null!==t}function h(t,e,n){var o,s;if(i(e))u(n)?t.setAttribute(e,n):t&&t.getAttribute&&(s=t.getAttribute(e));else if(u(e)&&r(e))for(o in e)t.setAttribute(o,e[o]);return s}function d(t){return o(t)?t:[t]}function p(){var t,e,n=arguments,i=n.length;for(t=0;i>t;t++)if(e=n[t],"undefined"!=typeof e&&null!==e)return e}function f(e,n){xe&&n&&n.opacity!==G&&(n.filter="alpha(opacity="+100*n.opacity+")"),t(e.style,n)}function m(e,n,i,r,o){return e=ae.createElement(e),n&&t(e,n),o&&f(e,{padding:0,border:Ne,margin:0}),i&&f(e,i),r&&r.appendChild(e),e}function g(e,n){var i=function(){};return i.prototype=new e,t(i.prototype,n),i}function v(t,e,i,r){var o=z.lang,s=t;-1===e?(e=(t||0).toString(),t=e.indexOf(".")>-1?e.split(".")[1].length:0):t=isNaN(e=me(e))?2:e;var e=t,i=void 0===i?o.decimalPoint:i,r=void 0===r?o.thousandsSep:r,o=0>s?"-":"",t=String(n(s=me(+s||0).toFixed(e))),a=t.length>3?t.length%3:0;return o+(a?t.substr(0,a)+r:"")+t.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+r)+(e?i+me(s-t).toFixed(e).slice(2):"")}function y(t,e){return Array((e||2)+1-String(t).length).join(0)+t}function b(t,e,n,i){var r,n=p(n,1);for(r=t/n,e||(e=[1,2,2.5,5,10],i&&i.allowDecimals===!1&&(1===n?e=[1,2,5,10]:.1>=n&&(e=[1/n]))),i=0;i<e.length&&(t=e[i],!(r<=(e[i]+(e[i+1]||e[i]))/2));i++);return t*=n}function w(t,e){var n,i=e||[[Pe,[1,2,5,10,20,25,50,100,200,500]],[He,[1,2,5,10,15,30]],[$e,[1,2,5,10,15,30]],[Oe,[1,2,3,4,6,8,12]],[je,[1,2]],[Fe,[1,2]],[Ge,[1,2,3,4,6]],[Re,null]],r=i[i.length-1],o=U[r[0]],s=r[1];for(n=0;n<i.length&&(r=i[n],o=U[r[0]],s=r[1],!(i[n+1]&&t<=(o*s[s.length-1]+U[i[n+1][0]])/2));n++);return o===U[Re]&&5*o>t&&(s=[1,2,5]),o===U[Re]&&5*o>t&&(s=[1,2,5]),i=b(t/o,s),{unitRange:o,count:i,unitName:r[0]}}function x(e,n,i,r){var o,s=[],a={},l=z.global.useUTC,c=new Date(n),n=e.unitRange,u=e.count;n>=U[He]&&(c.setMilliseconds(0),c.setSeconds(n>=U[$e]?0:u*he(c.getSeconds()/u))),n>=U[$e]&&c[ne](n>=U[Oe]?0:u*he(c[J]()/u)),n>=U[Oe]&&c[ie](n>=U[je]?0:u*he(c[Z]()/u)),n>=U[je]&&c[re](n>=U[Ge]?1:u*he(c[K]()/u)),n>=U[Ge]&&(c[oe](n>=U[Re]?0:u*he(c[te]()/u)),o=c[ee]()),n>=U[Re]&&(o-=o%u,c[se](o)),n===U[Fe]&&c[re](c[K]()-c[Q]()+p(r,1)),r=1,o=c[ee]();for(var h=c.getTime(),d=c[te](),f=c[K](),c=l?0:(864e5+6e4*c.getTimezoneOffset())%864e5;i>h;)s.push(h),n===U[Re]?h=X(o+r*u,0):n===U[Ge]?h=X(o,d+r*u):l||n!==U[je]&&n!==U[Fe]?(h+=n*u,n<=U[Oe]&&h%U[je]===c&&(a[h]=je)):h=X(o,d,f+r*u*(n===U[je]?1:7)),r++;return s.push(h),s.info=t(e,{higherRanks:a,totalRange:n*u}),s}function S(){this.symbol=this.color=0}function T(t,e){var n,i,r=t.length;for(i=0;r>i;i++)t[i].ss_i=i;for(t.sort(function(t,i){return n=e(t,i),0===n?t.ss_i-i.ss_i:n}),i=0;r>i;i++)delete t[i].ss_i}function C(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n}function k(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n}function B(t,e){for(var n in t)t[n]&&t[n]!==e&&t[n].destroy&&t[n].destroy(),delete t[n]}function _(t){V||(V=m(Ee)),t&&V.appendChild(t),V.innerHTML=""}function M(t,e){var n="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw n;le.console&&console.log(n)}function A(t){return parseFloat(t.toPrecision(14))}function D(t,e){Y=p(t,e.animation)}function L(){var t=z.global.useUTC,e=t?"getUTC":"get",n=t?"setUTC":"set";X=t?Date.UTC:function(t,e,n,i,r,o){return new Date(t,e,p(n,1),p(i,0),p(r,0),p(o,0)).getTime()},J=e+"Minutes",Z=e+"Hours",Q=e+"Day",K=e+"Date",te=e+"Month",ee=e+"FullYear",ne=n+"Minutes",ie=n+"Hours",re=n+"Date",oe=n+"Month",se=n+"FullYear"}function E(){}function N(t,e,n){this.axis=t,this.pos=e,this.type=n||"",this.isNew=!0,n||this.addLabel()}function I(t,e){return this.axis=t,e&&(this.options=e,this.id=e.id),this}function P(t,e,n,i,r){var o=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.stack=r,this.alignOptions={align:e.align||(o?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":n?"bottom":"top"),y:p(e.y,o?4:n?14:-6),x:p(e.x,o?n?-6:6:0)},this.textAlign=e.textAlign||(o?n?"right":"left":"center")}function H(){this.init.apply(this,arguments)}function $(t,e){var i=e.borderWidth,r=e.style,o=e.shared,s=n(r.padding);this.chart=t,this.options=e,r.padding=0,this.crosshairs=[],this.currentY=this.currentX=0,this.tooltipIsHidden=!0,this.label=t.renderer.label("",0,0,null,null,null,e.useHTML,null,"tooltip").attr({padding:s,fill:e.backgroundColor,"stroke-width":i,r:e.borderRadius,zIndex:8}).css(r).hide().add(),_e||this.label.shadow(e.shadow),this.shared=o}function O(t,e){var n=_e?"":e.chart.zoomType;this.zoomX=/x/.test(n),this.zoomY=/y/.test(n),this.options=e,this.chart=t,this.init(t,e.tooltip)}function j(t){this.init(t)}function F(t,e){var n,i=t.series;t.series=null,n=Qe(z,t),n.series=t.series=i;var i=n.chart,o=i.margin,o=r(o)?o:[o,o,o,o];this.optionsMarginTop=p(i.marginTop,o[0]),this.optionsMarginRight=p(i.marginRight,o[1]),this.optionsMarginBottom=p(i.marginBottom,o[2]),this.optionsMarginLeft=p(i.marginLeft,o[3]),this.runChartClick=(o=i.events)&&!!o.click,this.callback=e,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes,this.init(o)}var G,R,V,z,W,Y,q,U,X,J,Z,Q,K,te,ee,ne,ie,re,oe,se,ae=document,le=window,ce=Math,ue=ce.round,he=ce.floor,de=ce.ceil,pe=ce.max,fe=ce.min,me=ce.abs,ge=ce.cos,ve=ce.sin,ye=ce.PI,be=2*ye/360,we=navigator.userAgent,xe=/msie/i.test(we)&&!le.opera,Se=8===ae.documentMode,Te=/AppleWebKit/.test(we),Ce=/Firefox/.test(we),ke=!!ae.createElementNS&&!!ae.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,Be=Ce&&parseInt(we.split("Firefox/")[1],10)<4,_e=!ke&&!xe&&!!ae.createElement("canvas").getContext,Me=ae.documentElement.ontouchstart!==G,Ae={},De=0,Le=function(){},Ee="div",Ne="none",Ie="rgba(192,192,192,"+(ke?1e-6:.002)+")",Pe="millisecond",He="second",$e="minute",Oe="hour",je="day",Fe="week",Ge="month",Re="year",Ve={};le.Highcharts={},W=function(t,e,n){if(!u(e)||isNaN(e))return"Invalid date";var i,t=p(t,"%Y-%m-%d %H:%M:%S"),r=new Date(e),o=r[Z](),s=r[Q](),a=r[K](),l=r[te](),c=r[ee](),h=z.lang,d=h.weekdays,e={a:d[s].substr(0,3),A:d[s],d:y(a),e:a,b:h.shortMonths[l],B:h.months[l],m:y(l+1),y:c.toString().substr(2,2),Y:c,H:y(o),I:y(o%12||12),l:o%12||12,M:y(r[J]()),p:12>o?"AM":"PM",P:12>o?"am":"pm",S:y(r.getSeconds()),L:y(ue(e%1e3),3)};for(i in e)t=t.replace("%"+i,e[i]);return n?t.substr(0,1).toUpperCase()+t.substr(1):t},S.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},U=e(Pe,1,He,1e3,$e,6e4,Oe,36e5,je,864e5,Fe,6048e5,Ge,2592e6,Re,31556952e3),q={init:function(t,e,n){var i,r,o,e=e||"",s=t.shift,a=e.indexOf("C")>-1,l=a?7:3,e=e.split(" "),n=[].concat(n),c=function(t){for(i=t.length;i--;)"M"===t[i]&&t.splice(i+1,0,t[i+1],t[i+2],t[i+1],t[i+2])};if(a&&(c(e),c(n)),t.isArea&&(r=e.splice(e.length-6,6),o=n.splice(n.length-6,6)),s<=n.length/l)for(;s--;)n=[].concat(n).splice(0,l).concat(n);if(t.shift=0,e.length)for(t=n.length;e.length<t;)s=[].concat(e).splice(e.length-l,l),a&&(s[l-6]=s[l-2],s[l-5]=s[l-1]),e=e.concat(s);return r&&(e=e.concat(r),n=n.concat(o)),[e,n]},step:function(t,e,n,i){var r=[],o=t.length;if(1===n)r=i;else if(o===e.length&&1>n)for(;o--;)i=parseFloat(t[o]),r[o]=isNaN(i)?t[o]:n*parseFloat(e[o]-i)+i;else r=e;return r}};var ze=le.HighchartsAdapter,We=ze||{},Ye=We.adapterRun,qe=We.getScript,Ue=We.each,Xe=We.grep,Je=We.offset,Ze=We.map,Qe=We.merge,Ke=We.addEvent,tn=We.removeEvent,en=We.fireEvent,nn=We.washMouseEvent,rn=We.animate,on=We.stop;if(ze&&ze.init&&ze.init(q),!ze&&le.jQuery){var sn=jQuery,qe=sn.getScript,Ye=function(t,e){return sn(t)[e]()},Ue=function(t,e){for(var n=0,i=t.length;i>n;n++)if(e.call(t[n],t[n],n,t)===!1)return n},Xe=sn.grep,Ze=function(t,e){for(var n=[],i=0,r=t.length;r>i;i++)n[i]=e.call(t[i],t[i],i,t);return n},Qe=function(){var t=arguments;return sn.extend(!0,null,t[0],t[1],t[2],t[3])},Je=function(t){return sn(t).offset()},Ke=function(t,e,n){sn(t).bind(e,n)},tn=function(t,e,n){var i=ae.removeEventListener?"removeEventListener":"detachEvent";ae[i]&&!t[i]&&(t[i]=function(){}),sn(t).unbind(e,n)},en=function(e,n,i,r){var o,s=sn.Event(n),a="detached"+n;!xe&&i&&(delete i.layerX,delete i.layerY),t(s,i),e[n]&&(e[a]=e[n],e[n]=null),Ue(["preventDefault","stopPropagation"],function(t){var e=s[t];s[t]=function(){try{e.call(s)}catch(n){"preventDefault"===t&&(o=!0)}}}),sn(e).trigger(s),e[a]&&(e[n]=e[a],e[a]=null),r&&!s.isDefaultPrevented()&&!o&&r(s)},nn=function(t){return t},rn=function(t,e,n){var i=sn(t);e.d&&(t.toD=e.d,e.d=1),i.stop(),i.animate(e,n)},on=function(t){sn(t).stop()};sn.extend(sn.easing,{easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n}});var an=sn.fx,ln=an.step;Ue(["cur","_default","width","height"],function(t,e){var n,i,r=ln;"cur"===t?r=an.prototype:"_default"===t&&sn.Tween&&(r=sn.Tween.propHooks[t],t="set"),(n=r[t])&&(r[t]=function(r){return r=e?r:this,i=r.elem,i.attr?i.attr(r.prop,"cur"===t?G:r.now):n.apply(this,arguments)})}),ln.d=function(t){var e=t.elem;if(!t.started){var n=q.init(e,e.d,e.toD);t.start=n[0],t.end=n[1],t.started=!0}e.attr("d",q.step(t.start,t.end,t.pos,e.toD))}}We={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}},z={colors:"#4572A7,#AA4643,#89A54E,#80699B,#3D96AE,#DB843D,#92A8CD,#A47D7C,#B5CA92".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/2.2.5/modules/canvas-tools.js"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:Qe(We,{enabled:!1,y:-6,formatter:function(){return this.y}}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#3E576F",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#3E576F",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,shared:_e,snap:Me?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var cn=z.plotOptions,ze=cn.line;L();var un=function(t){var e,i=[];return function(t){(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(t))?i=[n(e[1]),n(e[2]),n(e[3]),parseFloat(e[4],10)]:(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))&&(i=[n(e[1],16),n(e[2],16),n(e[3],16),1])}(t),{get:function(e){return i&&!isNaN(i[0])?"rgb"===e?"rgb("+i[0]+","+i[1]+","+i[2]+")":"a"===e?i[3]:"rgba("+i.join(",")+")":t},brighten:function(t){if(s(t)&&0!==t){var e;for(e=0;3>e;e++)i[e]+=n(255*t),i[e]<0&&(i[e]=0),i[e]>255&&(i[e]=255)}return this},setOpacity:function(t){return i[3]=t,this}}};E.prototype={init:function(t,e){this.element="span"===e?m(e):ae.createElementNS("http://www.w3.org/2000/svg",e),this.renderer=t,this.attrSetters={}},animate:function(t,e,n){e=p(e,Y,!0),on(this),e?(e=Qe(e),n&&(e.complete=n),rn(this,t,e)):(this.attr(t),n&&n())},attr:function(t,e){var r,o,s,a,l,c,d,p=this.element,f=p.nodeName,m=this.renderer,g=this.attrSetters,v=this.shadows,y=this;if(i(t)&&u(e)&&(r=t,t={},t[r]=e),i(t))r=t,"circle"===f?r={x:"cx",y:"cy"}[r]||r:"strokeWidth"===r&&(r="stroke-width"),y=h(p,r)||this[r]||0,"d"!==r&&"visibility"!==r&&(y=parseFloat(y));else for(r in t)if(l=!1,o=t[r],s=g[r]&&g[r](o,r),s!==!1){if(s!==G&&(o=s),"d"===r)o&&o.join&&(o=o.join(" ")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0");else if("x"===r&&"text"===f){for(s=0;s<p.childNodes.length;s++)a=p.childNodes[s],h(a,"x")===h(p,"x")&&h(a,"x",o);this.rotation&&h(p,"transform","rotate("+this.rotation+" "+o+" "+n(t.y||h(p,"y"))+")")}else if("fill"===r)o=m.color(o,p,r);else if("circle"!==f||"x"!==r&&"y"!==r)if("rect"===f&&"r"===r)h(p,{rx:o,ry:o}),l=!0;else if("translateX"===r||"translateY"===r||"rotation"===r||"verticalAlign"===r)l=d=!0;else if("stroke"===r)o=m.color(o,p,r);else if("dashstyle"===r){if(r="stroke-dasharray",o=o&&o.toLowerCase(),"solid"===o)o=Ne;else if(o){for(o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),s=o.length;s--;)o[s]=n(o[s])*t["stroke-width"];o=o.join(",")}}else"isTracker"===r?this[r]=o:"width"===r?o=n(o):"align"===r?(r="text-anchor",o={left:"start",center:"middle",right:"end"}[o]):"title"===r&&(s=p.getElementsByTagName("title")[0],s||(s=ae.createElementNS("http://www.w3.org/2000/svg","title"),p.appendChild(s)),s.textContent=o);else r={x:"cx",y:"cy"}[r]||r;if("strokeWidth"===r&&(r="stroke-width"),Te&&"stroke-width"===r&&0===o&&(o=1e-6),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(c||(this.symbolAttr(t),c=!0),l=!0),v&&/^(width|height|visibility|x|y|d|transform)$/.test(r))for(s=v.length;s--;)h(v[s],r,"height"===r?pe(o-(v[s].cutHeight||0),0):o);("width"===r||"height"===r)&&"rect"===f&&0>o&&(o=0),this[r]=o,d&&this.updateTransform(),"text"===r?(this.textStr=o,this.added&&m.buildText(this)):l||h(p,r,o)}return Te&&/Chrome\/(18|19)/.test(we)&&"text"===f&&(t.x!==G||t.y!==G)&&(r=p.parentNode,o=p.nextSibling,r&&(r.removeChild(p),o?r.insertBefore(p,o):r.appendChild(p))),y},symbolAttr:function(t){var e=this;Ue("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){e[n]=p(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path","url("+this.renderer.url+"#"+t.id+")")},crisp:function(t,e,n,i,r){var o,s,a={},l={},t=t||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;s=ue(t)%2/2,l.x=he(e||this.x||0)+s,l.y=he(n||this.y||0)+s,l.width=he((i||this.width||0)-2*s),l.height=he((r||this.height||0)-2*s),l.strokeWidth=t;for(o in l)this[o]!==l[o]&&(this[o]=a[o]=l[o]);return a},css:function(e){var n,i=this.element,i=e&&e.width&&"text"===i.nodeName,r="",o=function(t,e){return"-"+e.toLowerCase()};if(e&&e.color&&(e.fill=e.color),this.styles=e=t(this.styles,e),xe&&!ke)i&&delete e.width,f(this.element,e);else{for(n in e)r+=n.replace(/([A-Z])/g,o)+":"+e[n]+";";this.attr({style:r})}return i&&this.added&&this.renderer.buildText(this),this},on:function(t,e){var n=e;return Me&&"click"===t&&(t="touchstart",n=function(t){t.preventDefault(),e()}),this.element["on"+t]=n,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},htmlCss:function(e){var n=this.element;return(n=e&&"SPAN"===n.tagName&&e.width)&&(delete e.width,this.textWidth=n,this.updateTransform()),this.styles=t(this.styles,e),f(this.element,e),this},htmlGetBBox:function(t){var e=this.element,n=this.bBox;return(!n||t)&&("text"===e.nodeName&&(e.style.position="absolute"),n=this.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),n},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,r=this.translateY||0,o=this.x||0,s=this.y||0,a=this.textAlign||"left",l={left:0,center:.5,right:1}[a],c=a&&"left"!==a,h=this.shadows;if((i||r)&&(f(e,{marginLeft:i,marginTop:r}),h&&Ue(h,function(t){f(t,{marginLeft:i+1,marginTop:r+1})})),this.inverted&&Ue(e.childNodes,function(n){t.invertChild(n,e)}),"SPAN"===e.tagName){var d,m,g,h=this.rotation;d=0;var v,y=1,b=0;g=n(this.textWidth);var w=this.xCorr||0,x=this.yCorr||0,S=[h,a,e.innerHTML,this.textWidth].join(",");S!==this.cTT&&(u(h)&&(d=h*be,y=ge(d),b=ve(d),f(e,{filter:h?["progid:DXImageTransform.Microsoft.Matrix(M11=",y,", M12=",-b,", M21=",b,", M22=",y,", sizingMethod='auto expand')"].join(""):Ne})),d=p(this.elemWidth,e.offsetWidth),m=p(this.elemHeight,e.offsetHeight),d>g&&/[ \-]/.test(e.innerText)&&(f(e,{width:g+"px",display:"block",whiteSpace:"normal"}),d=g),g=t.fontMetrics(e.style.fontSize).b,w=0>y&&-d,x=0>b&&-m,v=0>y*b,w+=b*g*(v?1-l:l),x-=y*g*(h?v?l:1-l:1),c&&(w-=d*l*(0>y?-1:1),h&&(x-=m*l*(0>b?-1:1)),f(e,{textAlign:a})),this.xCorr=w,this.yCorr=x),f(e,{left:o+w+"px",top:s+x+"px"}),this.cTT=S}}else this.alignOnAdd=!0},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,n=this.inverted,i=this.rotation,r=[];n&&(t+=this.attr("width"),e+=this.attr("height")),(t||e)&&r.push("translate("+t+","+e+")"),n?r.push("rotate(90) scale(-1,1)"):i&&r.push("rotate("+i+" "+(this.x||0)+" "+(this.y||0)+")"),r.length&&h(this.element,"transform",r.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){t?(this.alignOptions=t,this.alignByTranslate=e,n||this.renderer.alignedObjects.push(this)):(t=this.alignOptions,e=this.alignByTranslate);var n=p(n,this.renderer),i=t.align,r=t.verticalAlign,o=(n.x||0)+(t.x||0),s=(n.y||0)+(t.y||0),a={};return/^(right|center)$/.test(i)&&(o+=(n.width-(t.width||0))/{right:1,center:2}[i]),a[e?"translateX":"x"]=ue(o),/^(bottom|middle)$/.test(r)&&(s+=(n.height-(t.height||0))/({bottom:1,middle:2}[r]||1)),a[e?"translateY":"y"]=ue(s),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},getBBox:function(e){var n,i,r=this.rotation;i=this.element;var o=r*be;if("http://www.w3.org/2000/svg"===i.namespaceURI||this.renderer.forExport){try{n=i.getBBox?t({},i.getBBox()):{width:i.offsetWidth,height:i.offsetHeight}
}catch(s){}(!n||n.width<0)&&(n={width:0,height:0}),e=n.width,i=n.height,r&&(n.width=me(i*ve(o))+me(e*ge(o)),n.height=me(i*ge(o))+me(e*ve(o)))}else n=this.htmlGetBBox(e);return n},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},add:function(t){var e,i=this.renderer,r=t||i,o=r.element||i.box,s=o.childNodes,a=this.element,l=h(a,"zIndex");if(this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),l&&(r.handleZ=!0,l=n(l)),r.handleZ)for(r=0;r<s.length;r++)if(t=s[r],i=h(t,"zIndex"),t!==a&&(n(i)>l||!u(l)&&u(i))){o.insertBefore(a,t),e=!0;break}return e||o.appendChild(a),this.added=!0,en(this,"add"),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,n=this,i=n.element||{},r=n.shadows,o=n.box;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=null,on(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(e=0;e<n.stops.length;e++)n.stops[e]=n.stops[e].destroy();n.stops=null}n.safeRemoveChild(i),r&&Ue(r,function(t){n.safeRemoveChild(t)}),o&&o.destroy(),c(n.renderer.alignedObjects,n);for(t in n)delete n[t];return null},empty:function(){for(var t=this.element,e=t.childNodes,n=e.length;n--;)t.removeChild(e[n])},shadow:function(t,e,n){var i,r,o=[],s=this.element,a=this.parentInverted?"(-1,-1)":"(1,1)";if(t){for(t=1;3>=t;t++)i=s.cloneNode(0),r=7-2*t,h(i,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":.05*t,"stroke-width":r,transform:"translate"+a,fill:Ne}),n&&(h(i,"height",pe(h(i,"height")-r,0)),i.cutHeight=r),e?e.element.appendChild(i):s.parentNode.insertBefore(i,s),o.push(i);this.shadows=o}return this}};var hn=function(){this.init.apply(this,arguments)};hn.prototype={Element:E,init:function(t,e,n,i){var r,o=location;r=this.createElement("svg").attr({xmlns:"http://www.w3.org/2000/svg",version:"1.1"}),t.appendChild(r.element),this.isSVG=!0,this.box=r.element,this.boxWrapper=r,this.alignedObjects=[],this.url=xe?"":o.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1"),this.defs=this.createElement("defs").add(),this.forExport=i,this.gradients={},this.setSize(e,n,!1);var s;Ce&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){f(t,{left:0,top:0}),s=t.getBoundingClientRect(),f(t,{left:de(s.left)-s.left+"px",top:de(s.top)-s.top+"px"})},e(),Ke(le,"resize",e))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),B(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&tn(le,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var e,i=t.element,r=p(t.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),o=i.childNodes,s=/style="([^"]+)"/,a=/href="([^"]+)"/,l=h(i,"x"),c=t.styles,u=c&&n(c.width),d=c&&c.lineHeight,c=o.length,m=[];c--;)i.removeChild(o[c]);u&&!t.added&&this.box.appendChild(i),""===r[r.length-1]&&r.pop(),Ue(r,function(r,o){var c,p,g=0,r=r.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");c=r.split("|||"),Ue(c,function(r){if(""!==r||1===c.length){var v={},y=ae.createElementNS("http://www.w3.org/2000/svg","tspan");if(s.test(r)&&h(y,"style",r.match(s)[1].replace(/(;| |^)color([ :])/,"$1fill$2")),a.test(r)&&(h(y,"onclick",'location.href="'+r.match(a)[1]+'"'),f(y,{cursor:"pointer"})),r=(r.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),y.appendChild(ae.createTextNode(r)),g?v.dx=3:v.x=l,!g){if(o){if(!ke&&t.renderer.forExport&&f(y,{display:"block"}),p=le.getComputedStyle&&n(le.getComputedStyle(e,null).getPropertyValue("line-height")),!p||isNaN(p)){var b;(b=d)||(b=e.offsetHeight)||(m[o]=i.getBBox().height,b=ue(m[o]-(m[o-1]||0))||18),p=b}h(y,"dy",p)}e=y}if(h(y,v),i.appendChild(y),g++,u)for(var r=r.replace(/-/g,"- ").split(" "),w=[];r.length||w.length;)b=t.getBBox().width,v=b>u,v&&1!==r.length?(y.removeChild(y.firstChild),w.unshift(r.pop())):(r=w,w=[],r.length&&(y=ae.createElementNS("http://www.w3.org/2000/svg","tspan"),h(y,{dy:d||16,x:l}),i.appendChild(y),b>u&&(u=b))),r.length&&y.appendChild(ae.createTextNode(r.join(" ").replace(/- /g,"-")))}})})},button:function(n,i,r,o,s,a,l){var c,u,h,d,p,f=this.label(n,i,r),m=0,n={x1:0,y1:0,x2:0,y2:1},s=Qe(e("stroke-width",1,"stroke","#999","fill",e("linearGradient",n,"stops",[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,"style",e("color","black")),s);return h=s.style,delete s.style,a=Qe(s,e("stroke","#68A","fill",e("linearGradient",n,"stops",[[0,"#FFF"],[1,"#ACF"]])),a),d=a.style,delete a.style,l=Qe(s,e("stroke","#68A","fill",e("linearGradient",n,"stops",[[0,"#9BD"],[1,"#CDF"]])),l),p=l.style,delete l.style,Ke(f.element,"mouseenter",function(){f.attr(a).css(d)}),Ke(f.element,"mouseleave",function(){c=[s,a,l][m],u=[h,d,p][m],f.attr(c).css(u)}),f.setState=function(t){(m=t)?2===t&&f.attr(l).css(p):f.attr(s).css(h)},f.on("click",function(){o.call(f)}).attr(s).css(t({cursor:"default"},h))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=ue(t[1])+e%2/2),t[2]===t[5]&&(t[2]=t[5]=ue(t[2])+e%2/2),t},path:function(e){var n={fill:Ne};return o(e)?n.d=e:r(e)&&t(n,e),this.createElement("path").attr(n)},circle:function(t,e,n){return t=r(t)?t:{x:t,y:e,r:n},this.createElement("circle").attr(t)},arc:function(t,e,n,i,o,s){return r(t)&&(e=t.y,n=t.r,i=t.innerR,o=t.start,s=t.end,t=t.x),this.symbol("arc",t||0,e||0,n||0,n||0,{innerR:i||0,start:o||0,end:s||0})},rect:function(t,e,n,i,o,s){return o=r(t)?t.r:o,o=this.createElement("rect").attr({rx:o,ry:o,fill:Ne}),o.attr(r(t)?t:o.crisp(s,t,e,pe(n,0),pe(i,0)))},setSize:function(t,e,n){var i=this.alignedObjects,r=i.length;for(this.width=t,this.height=e,this.boxWrapper[p(n,!0)?"animate":"attr"]({width:t,height:e});r--;)i[r].align()},g:function(t){var e=this.createElement("g");return u(t)?e.attr({"class":"highcharts-"+t}):e},image:function(e,n,i,r,o){var s={preserveAspectRatio:Ne};return arguments.length>1&&t(s,{x:n,y:i,width:r,height:o}),s=this.createElement("image").attr(s),s.element.setAttributeNS?s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):s.element.setAttribute("hc-svg-href",e),s},symbol:function(e,n,i,r,o,s){var a,l,c,u=this.symbols[e],u=u&&u(ue(n),ue(i),r,o,s),h=/^url\((.*?)\)$/;return u?(a=this.path(u),t(a,{symbolName:e,x:n,y:i,width:r,height:o}),s&&t(a,s)):h.test(e)&&(c=function(t,e){t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(-ue(e[0]/2),-ue(e[1]/2))},l=e.match(h)[1],e=Ae[l],a=this.image(l).attr({x:n,y:i}),e?c(a,e):(a.attr({width:0,height:0}),m("img",{onload:function(){c(a,Ae[l]=[this.width,this.height])},src:l}))),a},symbols:{circle:function(t,e,n,i){var r=.166*n;return["M",t+n/2,e,"C",t+n+r,e,t+n+r,e+i,t+n/2,e+i,"C",t-r,e+i,t-r,e,t+n/2,e,"Z"]},square:function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o=r.start,n=r.r||n||i,s=r.end-1e-6,i=r.innerR,a=r.open,l=ge(o),c=ve(o),u=ge(s),s=ve(s),r=r.end-o<ye?0:1;return["M",t+n*l,e+n*c,"A",n,n,0,r,1,t+n*u,e+n*s,a?"M":"L",t+i*u,e+i*s,"A",i,i,0,r,0,t+i*l,e+i*c,a?"":"Z"]}},clipRect:function(t,e,n,i){var r="highcharts-"+De++,o=this.createElement("clipPath").attr({id:r}).add(this.defs),t=this.rect(t,e,n,i,0).add(o);return t.id=r,t.clipPath=o,t},color:function(e,n,i){var r,s,a=this,l=/^rgba/;if(e&&e.linearGradient?s="linearGradient":e&&e.radialGradient&&(s="radialGradient"),s){var c,d,p,i=e[s],f=a.gradients,n=n.radialReference;return i.id&&f[i.id]||(o(i)&&(e[s]=i={x1:i[0],y1:i[1],x2:i[2],y2:i[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&n&&!u(i.gradientUnits)&&t(i,{cx:n[0]-n[2]/2+i.cx*n[2],cy:n[1]-n[2]/2+i.cy*n[2],r:i.r*n[2],gradientUnits:"userSpaceOnUse"}),i.id="highcharts-"+De++,f[i.id]=c=a.createElement(s).attr(i).add(a.defs),c.stops=[],Ue(e.stops,function(t){l.test(t[1])?(r=un(t[1]),d=r.get("rgb"),p=r.get("a")):(d=t[1],p=1),t=a.createElement("stop").attr({offset:t[0],"stop-color":d,"stop-opacity":p}).add(c),c.stops.push(t)})),"url("+a.url+"#"+i.id+")"}return l.test(e)?(r=un(e),h(n,i+"-opacity",r.get("a")),r.get("rgb")):(n.removeAttribute(i+"-opacity"),e)},text:function(t,e,n,i){var r=z.chart.style;return i&&!this.forExport?this.html(t,e,n):(e=ue(p(e,0)),n=ue(p(n,0)),t=this.createElement("text").attr({x:e,y:n,text:t}).css({fontFamily:r.fontFamily,fontSize:r.fontSize}),t.x=e,t.y=n,t)},html:function(e,n,i){var r=z.chart.style,o=this.createElement("span"),s=o.attrSetters,a=o.element,l=o.renderer;return s.text=function(t){return a.innerHTML=t,!1},s.x=s.y=s.align=function(t,e){return"align"===e&&(e="textAlign"),o[e]=t,o.htmlUpdateTransform(),!1},o.attr({text:e,x:ue(n),y:ue(i)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:r.fontFamily,fontSize:r.fontSize}),o.css=o.htmlCss,l.isSVG&&(o.add=function(e){var n,i,r=l.box.parentNode;return e?(n=e.div)||(n=e.div=m(Ee,{className:h(e.element,"class")},{position:"absolute",left:e.attr("translateX")+"px",top:e.attr("translateY")+"px"},r),i=n.style,t(e.attrSetters,{translateX:function(t){i.left=t+"px"},translateY:function(t){i.top=t+"px"},visibility:function(t,e){i[e]=t}})):n=r,n.appendChild(a),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o},fontMetrics:function(t){var t=n(t||11),t=24>t?t+4:ue(1.2*t),e=ue(.8*t);return{h:t,b:e}},label:function(e,n,i,r,o,s,a,l,c){function h(){var t,e=S.styles,e=e&&e.textAlign,n=k*(1-C);t=l?0:w,!u(g)||"center"!==e&&"right"!==e||(n+={center:.5,right:1}[e]*(g-m.width)),(n!==T.x||t!==T.y)&&T.attr({x:n,y:t}),T.x=n,T.y=t}function d(t,e){f?f.attr(t,e):_[t]=e}function p(){S.attr({text:e,x:n,y:i}),u(o)&&S.attr({anchorX:o,anchorY:s})}var f,m,g,v,y,b,w,x=this,S=x.g(c),T=x.text("",0,0,a).attr({zIndex:1}).add(S),C=0,k=3,B=0,_={},a=S.attrSetters;Ke(S,"add",p),a.width=function(t){return g=t,!1},a.height=function(t){return v=t,!1},a.padding=function(t){return u(t)&&t!==k&&(k=t,h()),!1},a.align=function(t){return C={left:0,center:.5,right:1}[t],!1},a.text=function(t,e){T.attr(e,t);var n;return n=T.element.style,m=(void 0===g||void 0===v||S.styles.textAlign)&&T.getBBox(!0),S.width=(g||m.width||0)+2*k,S.height=(v||m.height||0)+2*k,w=k+x.fontMetrics(n&&n.fontSize).b,f||(n=l?-w:0,S.box=f=r?x.symbol(r,-C*k,n,S.width,S.height):x.rect(-C*k,n,S.width,S.height,0,_["stroke-width"]),f.add(S)),f.attr(Qe({width:S.width,height:S.height},_)),_=null,h(),!1},a["stroke-width"]=function(t,e){return B=t%2/2,d(e,t),!1},a.stroke=a.fill=a.r=function(t,e){return d(e,t),!1},a.anchorX=function(t,e){return o=t,d(e,t+B-y),!1},a.anchorY=function(t,e){return s=t,d(e,t-b),!1},a.x=function(t){return S.x=t,t-=C*((g||m.width)+k),y=ue(t),S.attr("translateX",y),!1},a.y=function(t){return b=S.y=ue(t),S.attr("translateY",t),!1};var M=S.css;return t(S,{css:function(t){if(t){var e={},t=Qe({},t);Ue("fontSize,fontWeight,fontFamily,color,lineHeight,width".split(","),function(n){t[n]!==G&&(e[n]=t[n],delete t[n])}),T.css(e)}return M.call(S,t)},getBBox:function(){return f.getBBox()},shadow:function(t){return f.shadow(t),S},destroy:function(){tn(S,"add",p),tn(S.element,"mouseenter"),tn(S.element,"mouseleave"),T&&(T=T.destroy()),E.prototype.destroy.call(S)}})}},R=hn;var dn;if(!ke&&!_e){dn={init:function(t,e){var n=["<",e,' filled="f" stroked="f"'],i=["position: ","absolute",";"];("shape"===e||e===Ee)&&i.push("left:0;top:0;width:1px;height:1px;"),Se&&i.push("visibility: ",e===Ee?"hidden":"visible"),n.push(' style="',i.join(""),'"/>'),e&&(n=e===Ee||"span"===e||"img"===e?n.join(""):t.prepVML(n),this.element=m(n)),this.renderer=t,this.attrSetters={}},add:function(t){var e=this.renderer,n=this.element,i=e.box,i=t?t.element||t:i;return t&&t.inverted&&e.invertChild(n,i),Se&&"hidden"===i.gVis&&f(n,{visibility:"hidden"}),i.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),en(this,"add"),this},toggleChildren:function(t,e){for(var n=t.childNodes,i=n.length;i--;)f(n[i],{visibility:e}),"DIV"===n[i].nodeName&&this.toggleChildren(n[i],e)},updateTransform:E.prototype.htmlUpdateTransform,attr:function(t,e){var n,r,o,a,l,c=this.element||{},d=c.style,p=c.nodeName,f=this.renderer,g=this.symbolName,v=this.shadows,y=this.attrSetters,b=this;if(i(t)&&u(e)&&(n=t,t={},t[n]=e),i(t))n=t,b="strokeWidth"===n||"stroke-width"===n?this.strokeweight:this[n];else for(n in t)if(r=t[n],l=!1,o=y[n]&&y[n](r,n),o!==!1&&null!==r){if(o!==G&&(r=o),g&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(n))a||(this.symbolAttr(t),a=!0),l=!0;else if("d"===n){for(r=r||[],this.d=r.join(" "),o=r.length,l=[];o--;)l[o]=s(r[o])?ue(10*r[o])-5:"Z"===r[o]?"x":r[o];if(r=l.join(" ")||"x",c.path=r,v)for(o=v.length;o--;)v[o].path=v[o].cutOff?this.cutOffPath(r,v[o].cutOff):r;l=!0}else"zIndex"===n||"visibility"===n?(Se&&"visibility"===n&&"DIV"===p&&(c.gVis=r,this.toggleChildren(c,r),"visible"===r&&(r=null)),r&&(d[n]=r),l=!0):"width"===n||"height"===n?(r=pe(0,r),this[n]=r,this.updateClipping?(this[n]=r,this.updateClipping()):d[n]=r,l=!0):"x"===n||"y"===n?(this[n]=r,d[{x:"left",y:"top"}[n]]=r):"class"===n?c.className=r:"stroke"===n?(r=f.color(r,c,n),n="strokecolor"):"stroke-width"===n||"strokeWidth"===n?(c.stroked=r?!0:!1,n="strokeweight",this[n]=r,s(r)&&(r+="px")):"dashstyle"===n?((c.getElementsByTagName("stroke")[0]||m(f.prepVML(["<stroke/>"]),null,null,c))[n]=r||"solid",this.dashstyle=r,l=!0):"fill"===n?"SPAN"===p?d.color=r:(c.filled=r!==Ne?!0:!1,r=f.color(r,c,n),n="fillcolor"):"shape"===p&&"rotation"===n?this[n]=r:"translateX"===n||"translateY"===n||"rotation"===n?(this[n]=r,this.updateTransform(),l=!0):"text"===n&&(this.bBox=null,c.innerHTML=r,l=!0);if(v&&"visibility"===n)for(o=v.length;o--;)v[o].style[n]=r;l||(Se?c[n]=r:h(c,n,r))}return b},clip:function(t){var e=this,n=t.members,i=e.element,r=i.parentNode;return n.push(e),e.destroyClip=function(){c(n,e)},r&&"highcharts-tracker"===r.className&&!Se&&f(i,{visibility:"hidden"}),e.css(t.getCSS(e))},css:E.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&_(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),E.prototype.destroy.apply(this)},empty:function(){for(var t,e=this.element.childNodes,n=e.length;n--;)t=e[n],t.parentNode.removeChild(t)},on:function(t,e){return this.element["on"+t]=function(){var t=le.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var i,t=t.split(/[ ,]/);return i=t.length,(9===i||11===i)&&(t[i-4]=t[i-2]=n(t[i-2])-10*e),t.join(" ")},shadow:function(t,e,i){var r,o,s,a,l=[],c=this.element,u=this.renderer,h=c.style,d=c.path;if(d&&"string"!=typeof d.value&&(d="x"),a=d,t){for(t=1;3>=t;t++)s=7-2*t,i&&(a=this.cutOffPath(d.value,s+.5)),o=['<shape isShadow="true" strokeweight="',7-2*t,'" filled="false" path="',a,'" coordsize="10 10" style="',c.style.cssText,'" />'],r=m(u.prepVML(o),null,{left:n(h.left)+1,top:n(h.top)+1}),i&&(r.cutOff=s+1),o=['<stroke color="black" opacity="',.05*t,'"/>'],m(u.prepVML(o),null,null,r),e?e.element.appendChild(r):c.parentNode.insertBefore(r,c),l.push(r);this.shadows=l}return this}},dn=g(E,dn);var pn={Element:dn,isIE8:we.indexOf("MSIE 8.0")>-1,init:function(t,e,n){var i,r;this.alignedObjects=[],i=this.createElement(Ee),r=i.element,r.style.position="relative",t.appendChild(i.element),this.box=r,this.boxWrapper=i,this.setSize(e,n,!1),ae.namespaces.hcv||(ae.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),ae.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,n,i,r){var o=this.createElement();return t(o,{members:[],left:e,top:n,width:i,height:r,getCSS:function(e){var n=e.inverted,i=this.top,r=this.left,o=r+this.width,s=i+this.height,i={clip:"rect("+ue(n?r:i)+"px,"+ue(n?s:o)+"px,"+ue(n?o:s)+"px,"+ue(n?i:r)+"px)"};return!n&&Se&&"IMG"!==e.element.nodeName&&t(i,{width:o+"px",height:s+"px"}),i},updateClipping:function(){Ue(o.members,function(t){t.css(o.getCSS(t))})}})},color:function(t,e,n){var i,r,o=/^rgba/,s=Ne;if(t&&t.linearGradient?r="gradient":t&&t.radialGradient&&(r="pattern"),r){var a,l,c,u,h,d,p,f,g,v=t.linearGradient||t.radialGradient,y="",t=t.stops,b=[];u=t[0],g=t[t.length-1],u[0]>0&&t.unshift([0,u[1]]),g[0]<1&&t.push([1,g[1]]),Ue(t,function(t,e){o.test(t[1])?(i=un(t[1]),a=i.get("rgb"),l=i.get("a")):(a=t[1],l=1),b.push(100*t[0]+"% "+a),e?(d=l,p=a):(h=l,f=a)}),"gradient"===r?(c=v.x1||v[0]||0,t=v.y1||v[1]||0,u=v.x2||v[2]||0,v=v.y2||v[3]||0,c=90-180*ce.atan((v-t)/(u-c))/ye):(s=2*v.r,y='src="http://code.highcharts.com/gfx/radial-gradient.png" size="'+s+","+s+'" origin="0.5,0.5" position="'+v.cx+","+v.cy+'" color2="'+f+'" ',s=p),"fill"===n?(n=['<fill colors="'+b.join(",")+'" angle="',c,'" opacity="',d,'" o:opacity2="',h,'" type="',r,'" ',y,'focus="100%" method="any" />'],m(this.prepVML(n),null,null,e)):s=a}else o.test(t)&&"IMG"!==e.tagName?(i=un(t),n=["<",n,' opacity="',i.get("a"),'"/>'],m(this.prepVML(n),null,null,e),s=i.get("rgb")):(e=e.getElementsByTagName(n),e.length&&(e[0].opacity=1),s=t);return s},prepVML:function(t){var e=this.isIE8,t=t.join("");return e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:hn.prototype.html,path:function(e){var n={coordsize:"10 10"};return o(e)?n.d=e:r(e)&&t(n,e),this.createElement("shape").attr(n)},circle:function(t,e,n){return this.symbol("circle").attr({x:t-n,y:e-n,width:2*n,height:2*n})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t}),this.createElement(Ee).attr(e)},image:function(t,e,n,i,r){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.css({left:e,top:n,width:i,height:r}),o},rect:function(t,e,n,i,o,s){r(t)&&(e=t.y,n=t.width,i=t.height,s=t.strokeWidth,t=t.x);var a=this.symbol("rect");return a.r=o,a.attr(a.crisp(s,t,e,pe(n,0),pe(i,0)))},invertChild:function(t,e){var i=e.style;f(t,{flip:"x",left:n(i.width)-1,top:n(i.height)-1,rotation:-90})},symbols:{arc:function(t,e,n,i,r){var o=r.start,s=r.end,a=r.r||n||i,n=ge(o),i=ve(o),l=ge(s),c=ve(s),u=r.innerR,h=.08/a,d=u&&.1/u||0;return 0===s-o?["x"]:(h>2*ye-s+o?l=-h:d>s-o&&(l=ge(o+d)),o=["wa",t-a,e-a,t+a,e+a,t+a*n,e+a*i,t+a*l,e+a*c],r.open&&o.push("M",t-u,e-u),o.push("at",t-u,e-u,t+u,e+u,t+u*l,e+u*c,t+u*n,e+u*i,"x","e"),o)},circle:function(t,e,n,i){return["wa",t,e,t+n,e+i,t+n,e+i/2,t+n,e+i/2,"e"]},rect:function(t,e,n,i,r){var o,s=t+n,a=e+i;return u(r)&&r.r?(o=fe(r.r,n,i),s=["M",t+o,e,"L",s-o,e,"wa",s-2*o,e,s,e+2*o,s-o,e,s,e+o,"L",s,a-o,"wa",s-2*o,a-2*o,s,a,s,a-o,s-o,a,"L",t+o,a,"wa",t,a-2*o,t+2*o,a,t+o,a,t,a-o,"L",t,e+o,"wa",t,e,t+2*o,e+2*o,t,e+o,t+o,e,"x","e"]):s=hn.prototype.symbols.square.apply(0,arguments),s}}};dn=function(){this.init.apply(this,arguments)},dn.prototype=Qe(hn.prototype,pn),R=dn}var fn,mn;_e&&(fn=function(){},fn.prototype.symbols={},mn=function(){function t(){var t,n=e.length;for(t=0;n>t;t++)e[t]();e=[]}var e=[];return{push:function(n,i){0===e.length&&qe(i,t),e.push(n)}}}()),R=dn||fn||hn,N.prototype={addLabel:function(){var e,n=this.axis,i=n.options,r=n.chart,o=n.horiz,a=n.categories,c=this.pos,h=i.labels,d=n.tickPositions,o=a&&o&&a.length&&!h.step&&!h.staggerLines&&!h.rotation&&r.plotWidth/d.length||!o&&r.plotWidth/2,p=c===d[0],f=c===d[d.length-1],m=a&&u(a[c])?a[c]:c,a=this.label,d=d.info;n.isDatetimeAxis&&d&&(e=i.dateTimeLabelFormats[d.higherRanks[c]||d.unitName]),this.isFirst=p,this.isLast=f,i=n.labelFormatter.call({axis:n,chart:r,isFirst:p,isLast:f,dateTimeLabelFormat:e,value:n.isLog?A(l(m)):m}),c=o&&{width:pe(1,ue(o-2*(h.padding||10)))+"px"},c=t(c,h.style),u(a)?a&&a.attr({text:i}).css(c):(o={align:h.align},s(h.rotation)&&(o.rotation=h.rotation),this.label=u(i)&&h.enabled?r.renderer.text(i,0,0,h.useHTML).attr(o).css(c).add(n.axisGroup):null)},getLabelSize:function(){var t=this.label,e=this.axis;return t?(this.labelBBox=t.getBBox(!0))[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.axis.options.labels,e=this.labelBBox.width,t=e*{left:0,center:.5,right:1}[t.align]-t.x;return[-t,e-t]},handleOverflow:function(t,e){var n=!0,i=this.axis,r=i.chart,o=this.isFirst,s=this.isLast,a=e.x,l=i.reversed,c=i.tickPositions;if(o||s){var u=this.getLabelSides(),h=u[0],u=u[1],r=r.plotLeft,d=r+i.len,c=(i=i.ticks[c[t+(o?1:-1)]])&&i.label.xy.x+i.getLabelSides()[o?0:1];o&&!l||s&&l?r>a+h&&(a=r-h,i&&a+u>c&&(n=!1)):a+u>d&&(a=d-u,i&&c>a+h&&(n=!1)),e.x=a}return n},getPosition:function(t,e,n,i){var r=this.axis,o=r.chart,s=i&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+n,null,null,i)-r.transB}},getLabelPosition:function(t,e,i,r,o,s,a,l){var c=this.axis,h=c.transA,d=c.reversed,c=c.staggerLines,t=t+o.x-(s&&r?s*h*(d?-1:1):0),e=e+o.y-(s&&!r?s*h*(d?1:-1):0);return u(o.y)||(e+=.9*n(i.styles.lineHeight)-i.getBBox().height/2),c&&(e+=16*(a/(l||1)%c)),{x:t,y:e}},getMarkPath:function(t,e,n,i,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-n),e+(r?n:0)],i)},render:function(t,e){var n=this.axis,i=n.options,r=n.chart.renderer,o=n.horiz,s=this.type,a=this.label,l=this.pos,c=i.labels,u=this.gridLine,h=s?s+"Grid":"grid",d=s?s+"Tick":"tick",f=i[h+"LineWidth"],m=i[h+"LineColor"],g=i[h+"LineDashStyle"],v=i[d+"Length"],h=i[d+"Width"]||0,y=i[d+"Color"],b=i[d+"Position"],d=this.mark,w=c.step,x=!0,S=i.categories&&"between"===i.tickmarkPlacement?.5:0,T=this.getPosition(o,l,S,e),C=T.x,T=T.y,k=n.staggerLines;f&&(l=n.getPlotLinePath(l+S,f,e),u===G&&(u={stroke:m,"stroke-width":f},g&&(u.dashstyle=g),s||(u.zIndex=1),this.gridLine=u=f?r.path(l).attr(u).add(n.gridGroup):null),!e&&u&&l&&u[this.isNew?"attr":"animate"]({d:l})),h&&("inside"===b&&(v=-v),n.opposite&&(v=-v),s=this.getMarkPath(C,T,v,h,o,r),d?d.animate({d:s}):this.mark=r.path(s).attr({stroke:y,"stroke-width":h}).add(n.axisGroup)),a&&!isNaN(C)&&(a.xy=T=this.getLabelPosition(C,T,a,o,c,S,t,w),this.isFirst&&!p(i.showFirstLabel,1)||this.isLast&&!p(i.showLastLabel,1)?x=!1:!k&&o&&"justify"===c.overflow&&!this.handleOverflow(t,T)&&(x=!1),w&&t%w&&(x=!1),x?(a[this.isNew?"attr":"animate"](T),a.show(),this.isNew=!1):a.hide())},destroy:function(){B(this,this.axis)}},I.prototype={render:function(){var t,e=this,n=e.axis,i=n.horiz,r=(n.pointRange||0)/2,o=e.options,s=o.label,l=e.label,c=o.width,h=o.to,d=o.from,f=u(d)&&u(h),m=o.value,g=o.dashStyle,v=e.svgElem,y=[],b=o.color,w=o.zIndex,x=o.events,S=n.chart.renderer;if(n.isLog&&(d=a(d),h=a(h),m=a(m)),c)y=n.getPlotLinePath(m,c),r={stroke:b,"stroke-width":c},g&&(r.dashstyle=g);else{if(!f)return;d=pe(d,n.min-r),h=fe(h,n.max+r),y=n.getPlotBandPath(d,h,o),r={fill:b},o.borderWidth&&(r.stroke=o.borderColor,r["stroke-width"]=o.borderWidth)}if(u(w)&&(r.zIndex=w),v)y?v.animate({d:y},null,v.onGetPath):(v.hide(),v.onGetPath=function(){v.show()});else if(y&&y.length&&(e.svgElem=v=S.path(y).attr(r).add(),x))for(t in o=function(t){v.on(t,function(n){x[t].apply(e,[n])})},x)o(t);return s&&u(s.text)&&y&&y.length&&n.width>0&&n.height>0?(s=Qe({align:i&&f&&"center",x:i?!f&&4:10,verticalAlign:!i&&f&&"middle",y:i?f?16:10:f?6:-4,rotation:i&&!f&&90},s),l||(e.label=l=S.text(s.text,0,0).attr({align:s.textAlign||s.align,rotation:s.rotation,zIndex:w}).css(s.style).add()),n=[y[1],y[4],p(y[6],y[1])],y=[y[2],y[5],p(y[7],y[2])],i=C(n),f=C(y),l.align(s,!1,{x:i,y:f,width:k(n)-i,height:k(y)-f}),l.show()):l&&l.hide(),e},destroy:function(){c(this.axis.plotLinesAndBands,this),B(this,this.axis)}},P.prototype={destroy:function(){B(this,this.axis)},setTotal:function(t){this.cum=this.total=t},render:function(t){var e=this.options.formatter.call(this);this.label?this.label.attr({text:e,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(e,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var n=this.axis,i=n.chart,r=i.inverted,o=this.isNegative,s=n.translate(this.total,0,0,0,1),n=n.translate(0),n=me(s-n),a=i.xAxis[0].translate(this.x)+t,i=i.plotHeight,r={x:r?o?s:s-n:a,y:r?i-a-e:o?i-s-n:i-s,width:r?n:e,height:r?e:n};this.label&&this.label.align(this.alignOptions,null,r).attr({visibility:"visible"})}},H.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:We,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:We.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(t,e){var n=e.isX;this.horiz=t.inverted?!n:n,this.xOrY=(this.isXAxis=n)?"x":"y",this.opposite=e.opposite,this.side=this.horiz?this.opposite?0:2:this.opposite?1:3,this.setOptions(e);var i=this.options,r=i.type,o="datetime"===r;this.labelFormatter=i.labels.formatter||this.defaultLabelFormatter,this.staggerLines=this.horiz&&i.labels.staggerLines,this.userOptions=e,this.minPixelPadding=0,this.chart=t,this.reversed=i.reversed,this.categories=i.categories,this.isLog="logarithmic"===r,this.isLinked=u(i.linkedTo),this.isDatetimeAxis=o,this.ticks={},this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=i.minRange||i.maxZoom,this.range=i.range,this.offset=i.offset||0,this.stacks={},this.min=this.max=null;var s,i=this.options.events;t.axes.push(this),t[n?"xAxis":"yAxis"].push(this),this.series=[],t.inverted&&n&&this.reversed===G&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine,this.addPlotLine=this.addPlotBand=this.addPlotBandOrLine;for(s in i)Ke(this,s,i[s]);this.isLog&&(this.val2lin=a,this.lin2val=l)},setOptions:function(t){this.options=Qe(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t)},defaultLabelFormatter:function(){var t=this.axis,e=this.value,n=t.tickInterval,i=this.dateTimeLabelFormat;return t.categories?e:i?W(i,e):0===n%1e6?e/1e6+"M":0===n%1e3?e/1e3+"k":e>=1e3?v(e,0):v(e,-1)},getSeriesExtremes:function(){var t,e=this,n=e.chart,i=e.stacks,r=[],o=[];e.dataMin=e.dataMax=null,Ue(e.series,function(s){if(s.visible||!n.options.chart.ignoreHiddenSeries){var a,l,c,h,d,f,m,g,v,y,b=s.options,w=b.threshold,x=[],S=0;if(e.isLog&&0>=w&&(w=b.threshold=null),e.isXAxis)b=s.xData,b.length&&(e.dataMin=fe(p(e.dataMin,b[0]),C(b)),e.dataMax=pe(p(e.dataMax,b[0]),k(b)));else{var T,B,_,M=s.cropped,A=s.xAxis.getExtremes(),D=!!s.modifyValue;for(a=b.stacking,e.usePercentage="percent"===a,a&&(d=b.stack,h=s.type+p(d,""),f="-"+h,s.stackKey=h,l=r[h]||[],r[h]=l,c=o[f]||[],o[f]=c),e.usePercentage&&(e.dataMin=0,e.dataMax=99),b=s.processedXData,m=s.processedYData,y=m.length,t=0;y>t;t++)if(g=b[t],v=m[t],null!==v&&v!==G&&(a?(B=(T=w>v)?c:l,_=T?f:h,v=B[g]=u(B[g])?B[g]+v:v,i[_]||(i[_]={}),i[_][g]||(i[_][g]=new P(e,e.options.stackLabels,T,g,d)),i[_][g].setTotal(v)):D&&(v=s.modifyValue(v)),M||(b[t+1]||g)>=A.min&&(b[t-1]||g)<=A.max))if(g=v.length)for(;g--;)null!==v[g]&&(x[S++]=v[g]);else x[S++]=v;!e.usePercentage&&x.length&&(e.dataMin=fe(p(e.dataMin,x[0]),C(x)),e.dataMax=pe(p(e.dataMax,x[0]),k(x))),u(w)&&(e.dataMin>=w?(e.dataMin=w,e.ignoreMinPadding=!0):e.dataMax<w&&(e.dataMax=w,e.ignoreMaxPadding=!0))}}})},translate:function(t,e,n,i,r){var o=this.len,s=1,a=0,l=i?this.oldTransA:this.transA,i=i?this.oldMin:this.min,r=this.options.ordinal||this.isLog&&r;return l||(l=this.transA),n&&(s*=-1,a=o),this.reversed&&(s*=-1,a-=s*o),e?(this.reversed&&(t=o-t),t=t/l+i,r&&(t=this.lin2val(t))):(r&&(t=this.val2lin(t)),t=s*(t-i)*l+a+s*this.minPixelPadding),t},getPlotLinePath:function(t,e,n){var i,r,o,s,a=this.chart,l=this.left,c=this.top,t=this.translate(t,null,null,n),u=n&&a.oldChartHeight||a.chartHeight,h=n&&a.oldChartWidth||a.chartWidth;return i=this.transB,n=r=ue(t+i),i=o=ue(u-t-i),isNaN(t)?s=!0:this.horiz?(i=c,o=u-this.bottom,(l>n||n>l+this.width)&&(s=!0)):(n=l,r=h-this.right,(c>i||i>c+this.height)&&(s=!0)),s?null:a.renderer.crispLine(["M",n,i,"L",r,o],e||0)},getPlotBandPath:function(t,e){var n=this.getPlotLinePath(e),i=this.getPlotLinePath(t);return i&&n?i.push(n[4],n[5],n[1],n[2]):i=null,i},getLinearTickPositions:function(t,e,n){for(var i,e=A(he(e/t)*t),n=A(de(n/t)*t),r=[];n>=e&&(r.push(e),e=A(e+t),e!==i);)i=e;return r},getLogTickPositions:function(t,e,n,i){var r=this.options,o=this.len,s=[];if(i||(this._minorAutoInterval=null),t>=.5)t=ue(t),s=this.getLinearTickPositions(t,e,n);else if(t>=.08)for(var c,u,h,d,f,o=he(e),r=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];n+1>o&&!f;o++)for(u=r.length,c=0;u>c&&!f;c++)h=a(l(o)*r[c]),h>e&&s.push(d),d>n&&(f=!0),d=h;else e=l(e),n=l(n),t=r[i?"minorTickInterval":"tickInterval"],t=p("auto"===t?null:t,this._minorAutoInterval,(n-e)*(r.tickPixelInterval/(i?5:1))/((i?o/this.tickPositions.length:o)||1)),t=b(t,null,ce.pow(10,he(ce.log(t)/ce.LN10))),s=Ze(this.getLinearTickPositions(t,e,n),a),i||(this._minorAutoInterval=t/5);return i||(this.tickInterval=t),s},getMinorTickPositions:function(){var t,e,n=this.tickPositions,i=this.minorTickInterval,r=[];if(this.isLog)for(e=n.length,t=1;e>t;t++)r=r.concat(this.getLogTickPositions(i,n[t-1],n[t],!0));else for(n=this.min+(n[0]-this.min)%i;n<=this.max;n+=i)r.push(n);return r},adjustForMinRange:function(){var t,e,n,i,r,o,s=this.options,a=this.min,l=this.max,c=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===G&&!this.isLog&&(u(s.min)||u(s.max)?this.minRange=null:(Ue(this.series,function(t){for(r=t.xData,n=o=t.xIncrement?1:r.length-1;n>0;n--)i=r[n]-r[n-1],(e===G||e>i)&&(e=i)}),this.minRange=fe(5*e,this.dataMax-this.dataMin))),l-a<this.minRange){var h=this.minRange;t=(h-l+a)/2,t=[a-t,p(s.min,a-t)],c&&(t[2]=this.dataMin),a=k(t),l=[a+h,p(s.max,a+h)],c&&(l[2]=this.dataMax),l=C(l),h>l-a&&(t[0]=l-h,t[1]=p(s.min,l-h),a=k(t))}this.min=a,this.max=l},setAxisTranslation:function(){var t,e,n=this.max-this.min,i=0,r=this.transA;this.isXAxis&&(this.isLinked?i=this.linkedParent.pointRange:Ue(this.series,function(n){i=pe(i,n.pointRange),e=n.closestPointRange,!n.noSharedTooltip&&u(e)&&(t=u(t)?fe(t,e):e)}),this.pointRange=i,this.closestPointRange=t),this.oldTransA=r,this.translationSlope=this.transA=r=this.len/(n+i||1),this.transB=this.horiz?this.left:this.bottom,this.minPixelPadding=r*(i/2)},setTickPositions:function(t){var e=this,n=e.chart,i=e.options,r=e.isLog,o=e.isDatetimeAxis,s=e.isXAxis,l=e.isLinked,c=e.options.tickPositioner,h=i.maxPadding,d=i.minPadding,f=i.tickInterval,m=i.tickPixelInterval,g=e.categories;l?(e.linkedParent=n[s?"xAxis":"yAxis"][i.linkedTo],n=e.linkedParent.getExtremes(),e.min=p(n.min,n.dataMin),e.max=p(n.max,n.dataMax),i.type!==e.linkedParent.options.type&&M(11,1)):(e.min=p(e.userMin,i.min,e.dataMin),e.max=p(e.userMax,i.max,e.dataMax)),r&&(!t&&fe(e.min,p(e.dataMin,e.min))<=0&&M(10,1),e.min=A(a(e.min)),e.max=A(a(e.max))),e.range&&(e.userMin=e.min=pe(e.min,e.max-e.range),e.userMax=e.max,t)&&(e.range=null),e.adjustForMinRange(),g||e.usePercentage||l||!u(e.min)||!u(e.max)||(n=e.max-e.min||1,u(i.min)||u(e.userMin)||!d||!(e.dataMin<0)&&e.ignoreMinPadding||(e.min-=n*d),u(i.max)||u(e.userMax)||!h||!(e.dataMax>0)&&e.ignoreMaxPadding||(e.max+=n*h)),e.tickInterval=e.min===e.max||void 0===e.min||void 0===e.max?1:l&&!f&&m===e.linkedParent.options.tickPixelInterval?e.linkedParent.tickInterval:p(f,g?1:(e.max-e.min)*m/(e.len||1)),s&&!t&&Ue(e.series,function(t){t.processData(e.min!==e.oldMin||e.max!==e.oldMax)
}),e.setAxisTranslation(),e.beforeSetTickPositions&&e.beforeSetTickPositions(),e.postProcessTickInterval&&(e.tickInterval=e.postProcessTickInterval(e.tickInterval)),o||r||(t=ce.pow(10,he(ce.log(e.tickInterval)/ce.LN10)),u(i.tickInterval))||(e.tickInterval=b(e.tickInterval,null,t,i)),e.minorTickInterval="auto"===i.minorTickInterval&&e.tickInterval?e.tickInterval/5:i.minorTickInterval,e.tickPositions=c=i.tickPositions||c&&c.apply(e,[e.min,e.max]),c||(c=o?(e.getNonLinearTimeTicks||x)(w(e.tickInterval,i.units),e.min,e.max,i.startOfWeek,e.ordinalPositions,e.closestPointRange,!0):r?e.getLogTickPositions(e.tickInterval,e.min,e.max):e.getLinearTickPositions(e.tickInterval,e.min,e.max),e.tickPositions=c),l||(r=c[0],o=c[c.length-1],i.startOnTick?e.min=r:e.min>r&&c.shift(),i.endOnTick?e.max=o:e.max<o&&c.pop())},setMaxTicks:function(){var t=this.chart,e=t.maxTicks,n=this.tickPositions,i=this.xOrY;e||(e={x:0,y:0}),!this.isLinked&&!this.isDatetimeAxis&&n.length>e[i]&&this.options.alignTicks!==!1&&(e[i]=n.length),t.maxTicks=e},adjustTickAmount:function(){var t=this.xOrY,e=this.tickPositions,n=this.chart.maxTicks;if(n&&n[t]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1){var i=this.tickAmount,r=e.length;if(this.tickAmount=t=n[t],t>r){for(;e.length<t;)e.push(A(e[e.length-1]+this.tickInterval));this.transA*=(r-1)/(t-1),this.max=e[e.length-1]}u(i)&&t!==i&&(this.isDirty=!0)}},setScale:function(){var t,e,n,i,r=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),i=this.len!==this.oldAxisLength,Ue(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(n=!0)}),(i||n||this.isLinked||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax)&&(this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=i||this.min!==this.oldMin||this.max!==this.oldMax)),!this.isXAxis)for(t in r)for(e in r[t])r[t][e].cum=r[t][e].total;this.setMaxTicks()},setExtremes:function(e,n,i,r,o){var s=this,a=s.chart,i=p(i,!0),o=t(o,{min:e,max:n});en(s,"setExtremes",o,function(){s.userMin=e,s.userMax=n,s.isDirtyExtremes=!0,i&&a.redraw(r)})},setAxisSize:function(){var t=this.chart,e=this.options,n=e.offsetLeft||0,i=e.offsetRight||0;this.left=p(e.left,t.plotLeft+n),this.top=p(e.top,t.plotTop),this.width=p(e.width,t.plotWidth-n+i),this.height=p(e.height,t.plotHeight),this.bottom=t.chartHeight-this.height-this.top,this.right=t.chartWidth-this.width-this.left,this.len=pe(this.horiz?this.width:this.height,0)},getExtremes:function(){var t=this.isLog;return{min:t?A(l(this.min)):this.min,max:t?A(l(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,n=e?l(this.min):this.min,e=e?l(this.max):this.max;return n>t||null===t?t=n:t>e&&(t=e),this.translate(t,0,1,0,1)},addPlotBandOrLine:function(t){return t=new I(this,t).render(),this.plotLinesAndBands.push(t),t},getOffset:function(){var t,e,n,i=this,r=i.chart,o=r.renderer,s=i.options,a=i.tickPositions,l=i.ticks,c=i.horiz,h=i.side,d=0,f=0,m=s.title,g=s.labels,v=0,y=r.axisOffset,b=[-1,1,1,-1][h];if(i.hasData=r=i.series.length&&u(i.min)&&u(i.max),i.showAxis=t=r||p(s.showEmpty,!0),i.axisGroup||(i.axisGroup=o.g("axis").attr({zIndex:s.zIndex||7}).add(),i.gridGroup=o.g("grid").attr({zIndex:s.gridZIndex||1}).add()),r||i.isLinked)Ue(a,function(t){l[t]?l[t].addLabel():l[t]=new N(i,t)}),Ue(a,function(t){(0===h||2===h||{1:"left",3:"right"}[h]===g.align)&&(v=pe(l[t].getLabelSize(),v))}),i.staggerLines&&(v+=16*(i.staggerLines-1));else for(n in l)l[n].destroy(),delete l[n];m&&m.text&&(i.axisTitle||(i.axisTitle=o.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:m.textAlign||{low:"left",middle:"center",high:"right"}[m.align]}).css(m.style).add(i.axisGroup),i.axisTitle.isNew=!0),t&&(d=i.axisTitle.getBBox()[c?"height":"width"],f=p(m.margin,c?5:10),e=m.offset),i.axisTitle[t?"show":"hide"]()),i.offset=b*p(s.offset,y[h]),i.axisTitleMargin=p(e,v+f+(2!==h&&v&&b*s.labels[c?"y":"x"])),y[h]=pe(y[h],i.axisTitleMargin+d+b*i.offset)},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i,n=e.chartHeight-this.bottom-(n?this.height:0)+i;return e.renderer.crispLine(["M",r?this.left:o,r?n:this.top,"L",r?e.chartWidth-this.right:o,r?n:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,r=this.len,o=this.options.title,s=t?e:i,a=this.opposite,l=this.offset,c=n(o.style.fontSize||12),r={low:s+(t?0:r),middle:s+r/2,high:s+(t?r:0)}[o.align],e=(t?i+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:t?r:e+(a?this.width:0)+l+(o.x||0),y:t?e-(a?this.height:0)+l:r+(o.y||0)}},render:function(){var t,e,n,i=this,r=i.chart,o=r.renderer,s=i.options,a=i.isLog,c=i.isLinked,h=i.tickPositions,d=i.axisTitle,p=i.stacks,f=i.ticks,m=i.minorTicks,g=i.alternateBands,v=s.stackLabels,y=s.alternateGridColor,b=s.lineWidth,w=r.hasRendered&&u(i.oldMin)&&!isNaN(i.oldMin),x=i.showAxis;if((i.hasData||c)&&(i.minorTickInterval&&!i.categories&&Ue(i.getMinorTickPositions(),function(t){m[t]||(m[t]=new N(i,t,"minor")),w&&m[t].isNew&&m[t].render(null,!0),m[t].isActive=!0,m[t].render()}),Ue(h.slice(1).concat([h[0]]),function(t,e){e=e===h.length-1?0:e+1,(!c||t>=i.min&&t<=i.max)&&(f[t]||(f[t]=new N(i,t)),w&&f[t].isNew&&f[t].render(e,!0),f[t].isActive=!0,f[t].render(e))}),y&&Ue(h,function(t,r){0===r%2&&t<i.max&&(g[t]||(g[t]=new I(i)),e=t,n=h[r+1]!==G?h[r+1]:i.max,g[t].options={from:a?l(e):e,to:a?l(n):n,color:y},g[t].render(),g[t].isActive=!0)}),i._addedPlotLB||(Ue((s.plotLines||[]).concat(s.plotBands||[]),function(t){i.addPlotBandOrLine(t)}),i._addedPlotLB=!0)),Ue([f,m,g],function(t){for(var e in t)t[e].isActive?t[e].isActive=!1:(t[e].destroy(),delete t[e])}),b&&(t=i.getLinePath(b),i.axisLine?i.axisLine.animate({d:t}):i.axisLine=o.path(t).attr({stroke:s.lineColor,"stroke-width":b,zIndex:7}).add(),i.axisLine[x?"show":"hide"]()),d&&x&&(d[d.isNew?"attr":"animate"](i.getTitlePosition()),d.isNew=!1),v&&v.enabled){var S,T,s=i.stackTotalGroup;s||(i.stackTotalGroup=s=o.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),s.translate(r.plotLeft,r.plotTop);for(S in p)for(T in r=p[S])r[T].render(s)}i.isDirty=!1},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=e.length;n--;)e[n].id===t&&e[n].destroy()},setTitle:function(t,e){var n=this.chart,i=this.options;i.title=Qe(i.title,t),this.axisTitle=void 0,this.isDirty=!0,p(e,!0)&&n.redraw()},redraw:function(){var t=this.chart;t.tracker.resetTracker&&t.tracker.resetTracker(!0),this.render(),Ue(this.plotLinesAndBands,function(t){t.render()}),Ue(this.series,function(t){t.isDirty=!0})},setCategories:function(t,e){var n=this.chart;this.categories=this.userOptions.categories=t,Ue(this.series,function(t){t.translate(),t.setTooltipPoints(!0)}),this.isDirty=!0,p(e,!0)&&n.redraw()},destroy:function(){var t,e=this,n=e.stacks;tn(e);for(t in n)B(n[t]),n[t]=null;Ue([e.ticks,e.minorTicks,e.alternateBands,e.plotLinesAndBands],function(t){B(t)}),Ue(["stackTotalGroup","axisLine","axisGroup","gridGroup","axisTitle"],function(t){e[t]&&(e[t]=e[t].destroy())})}},$.prototype={destroy:function(){Ue(this.crosshairs,function(t){t&&t.destroy()}),this.label&&(this.label=this.label.destroy())},move:function(t,e){var n=this;n.currentX=n.tooltipIsHidden?t:(2*n.currentX+t)/3,n.currentY=n.tooltipIsHidden?e:(n.currentY+e)/2,n.label.attr({x:n.currentX,y:n.currentY}),n.tooltipTick=me(t-n.currentX)>1||me(e-n.currentY)>1?function(){n.move(t,e)}:null},hide:function(){if(!this.tooltipIsHidden){var t=this.chart.hoverPoints;this.label.hide(),t&&Ue(t,function(t){t.setState()}),this.chart.hoverPoints=null,this.tooltipIsHidden=!0}},hideCrosshairs:function(){Ue(this.crosshairs,function(t){t&&t.hide()})},getAnchor:function(t,e){var n,i=this.chart,r=i.inverted,o=0,s=0,t=d(t);return n=t[0].tooltipPos,n||(Ue(t,function(t){o+=t.plotX,s+=t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY}),o/=t.length,s/=t.length,n=[r?i.plotWidth-s:o,this.shared&&!r&&t.length>1&&e?e.chartY-i.plotTop:r?i.plotHeight-o:s]),Ze(n,ue)},getPosition:function(t,e,n){var i,r=this.chart,o=r.plotLeft,s=r.plotTop,a=r.plotWidth,l=r.plotHeight,c=p(this.options.distance,12),u=n.plotX,n=n.plotY,r=u+o+(r.inverted?c:-t-c),h=n-e+s+15;return 7>r&&(r=o+u+c),r+t>o+a&&(r-=r+t-(o+a),h=n-e+s-c,i=!0),s+5>h&&(h=s+5,i&&n>=h&&h+e>=n&&(h=n+s+c)),h+e>s+l&&(h=pe(s,s+l-e-c)),{x:r,y:h}},refresh:function(t,e){function n(){var t,e=this.points||d(this),n=e[0].series;return t=[n.tooltipHeaderFormatter(e[0].key)],Ue(e,function(e){n=e.series,t.push(n.tooltipFormatter&&n.tooltipFormatter(e)||e.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),t.push(c.footerFormat||""),t.join("")}var i,r,o,s,a=this.chart,l=this.label,c=this.options,u={},h=[];s=c.formatter||n;var f,u=a.hoverPoints,m=c.crosshairs;if(o=this.shared,r=this.getAnchor(t,e),i=r[0],r=r[1],!o||t.series&&t.series.noSharedTooltip?u=t.getLabelConfig():(u&&Ue(u,function(t){t.setState()}),a.hoverPoints=t,Ue(t,function(t){t.setState("hover"),h.push(t.getLabelConfig())}),u={x:t[0].category,y:t[0].y},u.points=h,t=t[0]),s=s.call(u),u=t.series,o=o||!u.isCartesian||u.tooltipOutsidePlot||a.isInsidePlot(i,r),s!==!1&&o?(this.tooltipIsHidden&&l.show(),l.attr({text:s}),f=c.borderColor||t.color||u.color||"#606060",l.attr({stroke:f}),l=(c.positioner||this.getPosition).call(this,l.width,l.height,{plotX:i,plotY:r}),this.move(ue(l.x),ue(l.y)),this.tooltipIsHidden=!1):this.hide(),m)for(m=d(m),l=m.length;l--;)o=t.series[l?"yAxis":"xAxis"],m[l]&&o&&(o=o.getPlotLinePath(l?p(t.stackY,t.y):t.x,1),this.crosshairs[l]?this.crosshairs[l].attr({d:o,visibility:"visible"}):(u={"stroke-width":m[l].width||1,stroke:m[l].color||"#C0C0C0",zIndex:m[l].zIndex||2},m[l].dashStyle&&(u.dashstyle=m[l].dashStyle),this.crosshairs[l]=a.renderer.path(o).attr(u).add()));en(a,"tooltipRefresh",{text:s,x:i+a.plotLeft,y:r+a.plotTop,borderColor:f})},tick:function(){this.tooltipTick&&this.tooltipTick()}},O.prototype={normalizeMouseEvent:function(e){var n,i,r,e=e||le.event;return e.target||(e.target=e.srcElement),e.originalEvent&&(e=e.originalEvent),e.event&&(e=e.event),r=e.touches?e.touches.item(0):e,this.chartPosition=n=Je(this.chart.container),r.pageX===G?(i=e.x,n=e.y):(i=r.pageX-n.left,n=r.pageY-n.top),t(e,{chartX:ue(i),chartY:ue(n)})},getMouseCoordinates:function(t){var e={xAxis:[],yAxis:[]},n=this.chart;return Ue(n.axes,function(i){var r=i.isXAxis;e[r?"xAxis":"yAxis"].push({axis:i,value:i.translate((n.inverted?!r:r)?t.chartX-n.plotLeft:n.plotHeight-t.chartY+n.plotTop,!0)})}),e},onmousemove:function(t){var e,n,i,r,o=this.chart,s=o.series,a=o.hoverPoint,l=o.hoverSeries,c=o.chartWidth,u=o.inverted?o.plotHeight+o.plotTop-t.chartY:t.chartX-o.plotLeft;if(o.tooltip&&this.options.tooltip.shared&&(!l||!l.noSharedTooltip)){for(n=[],i=s.length,r=0;i>r;r++)s[r].visible&&s[r].options.enableMouseTracking!==!1&&!s[r].noSharedTooltip&&s[r].tooltipPoints.length&&(e=s[r].tooltipPoints[u],e._dist=me(u-e.plotX),c=fe(c,e._dist),n.push(e));for(i=n.length;i--;)n[i]._dist>c&&n.splice(i,1);n.length&&n[0].plotX!==this.hoverX&&(o.tooltip.refresh(n,t),this.hoverX=n[0].plotX)}l&&l.tracker&&(e=l.tooltipPoints[u])&&e!==a&&e.onMouseOver()},resetTracker:function(t){var e=this.chart,n=e.hoverSeries,i=e.hoverPoint,r=e.hoverPoints||i,e=e.tooltip;(t=t&&e&&r)&&d(r)[0].plotX===G&&(t=!1),t?e.refresh(r):(i&&i.onMouseOut(),n&&n.onMouseOut(),e&&(e.hide(),e.hideCrosshairs()),this.hoverX=null)},setDOMEvents:function(){function e(){if(i.selectionMarker){var t,s={xAxis:[],yAxis:[]},a=i.selectionMarker.getBBox(),l=a.x-r.plotLeft,c=a.y-r.plotTop;n&&(Ue(r.axes,function(e){if(e.options.zoomEnabled!==!1){var n=e.isXAxis,i=r.inverted?!n:n,o=e.translate(i?l:r.plotHeight-c-a.height,!0,0,0,1),i=e.translate(i?l+a.width:r.plotHeight-c,!0,0,0,1);!isNaN(o)&&!isNaN(i)&&(s[n?"xAxis":"yAxis"].push({axis:e,min:fe(o,i),max:pe(o,i)}),t=!0)}}),t&&en(r,"selection",s,function(t){r.zoom(t)})),i.selectionMarker=i.selectionMarker.destroy()}r&&(f(o,{cursor:"auto"}),r.cancelClick=n,r.mouseIsDown=n=!1),tn(ae,Me?"touchend":"mouseup",e)}var n,i=this,r=i.chart,o=r.container,s=i.zoomX&&!r.inverted||i.zoomY&&r.inverted,a=i.zoomY&&!r.inverted||i.zoomX&&r.inverted;i.hideTooltipOnMouseMove=function(t){nn(t),i.chartPosition&&r.hoverSeries&&r.hoverSeries.isCartesian&&!r.isInsidePlot(t.pageX-i.chartPosition.left-r.plotLeft,t.pageY-i.chartPosition.top-r.plotTop)&&i.resetTracker()},i.hideTooltipOnMouseLeave=function(){i.resetTracker(),i.chartPosition=null},o.onmousedown=function(t){t=i.normalizeMouseEvent(t),!Me&&t.preventDefault&&t.preventDefault(),r.mouseIsDown=!0,r.cancelClick=!1,r.mouseDownX=i.mouseDownX=t.chartX,i.mouseDownY=t.chartY,Ke(ae,Me?"touchend":"mouseup",e)};var l=function(t){if(!(t&&t.touches&&t.touches.length>1)){t=i.normalizeMouseEvent(t),Me||(t.returnValue=!1);var e=t.chartX,o=t.chartY,l=!r.isInsidePlot(e-r.plotLeft,o-r.plotTop);if(Me&&"touchstart"===t.type&&(h(t.target,"isTracker")?r.runTrackerClick||t.preventDefault():!r.runChartClick&&!l&&t.preventDefault()),l&&(e<r.plotLeft?e=r.plotLeft:e>r.plotLeft+r.plotWidth&&(e=r.plotLeft+r.plotWidth),o<r.plotTop?o=r.plotTop:o>r.plotTop+r.plotHeight&&(o=r.plotTop+r.plotHeight)),r.mouseIsDown&&"touchstart"!==t.type){if(n=Math.sqrt(Math.pow(i.mouseDownX-e,2)+Math.pow(i.mouseDownY-o,2)),n>10){if(t=r.isInsidePlot(i.mouseDownX-r.plotLeft,i.mouseDownY-r.plotTop),r.hasCartesianSeries&&(i.zoomX||i.zoomY)&&t&&!i.selectionMarker&&(i.selectionMarker=r.renderer.rect(r.plotLeft,r.plotTop,s?1:r.plotWidth,a?1:r.plotHeight,0).attr({fill:i.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),i.selectionMarker&&s){var c=e-i.mouseDownX;i.selectionMarker.attr({width:me(c),x:(c>0?0:c)+i.mouseDownX})}i.selectionMarker&&a&&(o-=i.mouseDownY,i.selectionMarker.attr({height:me(o),y:(o>0?0:o)+i.mouseDownY})),t&&!i.selectionMarker&&i.options.chart.panning&&r.pan(e)}}else l||i.onmousemove(t);return l||!r.hasCartesianSeries}};o.onmousemove=l,Ke(o,"mouseleave",i.hideTooltipOnMouseLeave),Ke(ae,"mousemove",i.hideTooltipOnMouseMove),o.ontouchstart=function(t){(i.zoomX||i.zoomY)&&o.onmousedown(t),l(t)},o.ontouchmove=l,o.ontouchend=function(){n&&i.resetTracker()},o.onclick=function(e){var n,o,s=r.hoverPoint,e=i.normalizeMouseEvent(e);e.cancelBubble=!0,r.cancelClick||(s&&(h(e.target,"isTracker")||h(e.target.parentNode,"isTracker"))?(n=s.plotX,o=s.plotY,t(s,{pageX:i.chartPosition.left+r.plotLeft+(r.inverted?r.plotWidth-o:n),pageY:i.chartPosition.top+r.plotTop+(r.inverted?r.plotHeight-n:o)}),en(s.series,"click",t(e,{point:s})),s.firePointEvent("click",e)):(t(e,i.getMouseCoordinates(e)),r.isInsidePlot(e.chartX-r.plotLeft,e.chartY-r.plotTop)&&en(r,"click",e)))}},destroy:function(){var t=this.chart,e=t.container;t.trackerGroup&&(t.trackerGroup=t.trackerGroup.destroy()),tn(e,"mouseleave",this.hideTooltipOnMouseLeave),tn(ae,"mousemove",this.hideTooltipOnMouseMove),e.onclick=e.onmousedown=e.onmousemove=e.ontouchstart=e.ontouchend=e.ontouchmove=null,clearInterval(this.tooltipInterval)},init:function(t,e){t.trackerGroup||(t.trackerGroup=t.renderer.g("tracker").attr({zIndex:9}).add()),e.enabled&&(t.tooltip=new $(t,e),this.tooltipInterval=setInterval(function(){t.tooltip.tick()},32)),this.setDOMEvents()}},j.prototype={init:function(t){var e=this,i=e.options=t.options.legend;if(i.enabled){var r=i.itemStyle,o=p(i.padding,8),s=i.itemMarginTop||0;e.baseline=n(r.fontSize)+3+s,e.itemStyle=r,e.itemHiddenStyle=Qe(r,i.itemHiddenStyle),e.itemMarginTop=s,e.padding=o,e.initialItemX=o,e.initialItemY=o-5,e.maxItemWidth=0,e.chart=t,e.itemHeight=0,e.lastLineHeight=0,e.render(),Ke(e.chart,"endResize",function(){e.positionCheckboxes()})}},colorizeItem:function(t,e){var n=this.options,i=t.legendItem,r=t.legendLine,o=t.legendSymbol,s=this.itemHiddenStyle.color,n=e?n.itemStyle.color:s,s=e?t.color:s;i&&i.css({fill:n}),r&&r.attr({stroke:s}),o&&o.attr({stroke:s,fill:s})},positionItem:function(t){var e=this.options,n=e.symbolPadding,e=!e.rtl,i=t._legendItemPos,r=i[0],i=i[1],o=t.checkbox;t.legendGroup&&t.legendGroup.translate(e?r:this.legendWidth-r-2*n-4,i),o&&(o.x=r,o.y=i)},destroyItem:function(t){var e=t.checkbox;Ue(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&t[e].destroy()}),e&&_(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(){var t=this;Ue(t.allItems,function(e){var n=e.checkbox,i=t.group.alignAttr;n&&f(n,{left:i.translateX+e.legendItemWidth+n.x-20+"px",top:i.translateY+n.y+3+"px"})})},renderItem:function(t){var e,n=this,i=n.chart,r=i.renderer,o=n.options,s="horizontal"===o.layout,a=o.symbolWidth,l=o.symbolPadding,c=n.itemStyle,u=n.itemHiddenStyle,h=n.padding,d=!o.rtl,p=o.width,f=o.itemMarginBottom||0,g=n.itemMarginTop,v=n.initialItemX,y=t.legendItem,b=t.series||t,w=b.options,x=w.showCheckbox;!y&&(t.legendGroup=r.g("legend-item").attr({zIndex:1}).add(n.scrollGroup),b.drawLegendSymbol(n,t),t.legendItem=y=r.text(o.labelFormatter.call(t),d?a+l:-l,n.baseline,o.useHTML).css(Qe(t.visible?c:u)).attr({align:d?"left":"right",zIndex:2}).add(t.legendGroup),t.legendGroup.on("mouseover",function(){t.setState("hover"),y.css(n.options.itemHoverStyle)}).on("mouseout",function(){y.css(t.visible?c:u),t.setState()}).on("click",function(e){var n=function(){t.setVisible()},e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,n):en(t,"legendItemClick",e,n)}),n.colorizeItem(t,t.visible),w&&x)&&(t.checkbox=m("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},o.itemCheckboxStyle,i.container),Ke(t.checkbox,"click",function(e){en(t,"checkboxClick",{checked:e.target.checked},function(){t.select()})})),r=y.getBBox(),e=t.legendItemWidth=o.itemWidth||a+l+r.width+h+(x?20:0),o=e,n.itemHeight=a=r.height,s&&n.itemX-v+o>(p||i.chartWidth-2*h-v)&&(n.itemX=v,n.itemY+=g+n.lastLineHeight+f,n.lastLineHeight=0),n.maxItemWidth=pe(n.maxItemWidth,o),n.lastItemY=g+n.itemY+f,n.lastLineHeight=pe(a,n.lastLineHeight),t._legendItemPos=[n.itemX,n.itemY],s?n.itemX+=o:(n.itemY+=g+a+f,n.lastLineHeight=a),n.offsetWidth=p||pe(s?n.itemX-v:o,n.offsetWidth)},render:function(){var e,n,i,r,o=this,s=o.chart,a=s.renderer,l=o.group,c=o.box,u=o.options,h=o.padding,d=u.borderWidth,p=u.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,l||(o.group=l=a.g("legend").attr({zIndex:7}).add(),o.contentGroup=a.g().attr({zIndex:1}).add(l),o.scrollGroup=a.g().add(o.contentGroup),o.clipRect=a.clipRect(0,0,9999,s.chartHeight),o.contentGroup.clip(o.clipRect)),e=[],Ue(s.series,function(t){var n=t.options;n.showInLegend&&(e=e.concat(t.legendItems||("point"===n.legendType?t.data:t)))}),T(e,function(t,e){return(t.options.legendIndex||0)-(e.options.legendIndex||0)}),u.reversed&&e.reverse(),o.allItems=e,o.display=n=!!e.length,Ue(e,function(t){o.renderItem(t)}),i=u.width||o.offsetWidth,r=o.lastItemY+o.lastLineHeight,r=o.handleOverflow(r),(d||p)&&(i+=h,r+=h,c?i>0&&r>0&&(c[c.isNew?"attr":"animate"](c.crisp(null,null,null,i,r)),c.isNew=!1):(o.box=c=a.rect(0,0,i,r,u.borderRadius,d||0).attr({stroke:u.borderColor,"stroke-width":d||0,fill:p||Ne}).add(l).shadow(u.shadow),c.isNew=!0),c[n?"show":"hide"]()),o.legendWidth=i,o.legendHeight=r,Ue(e,function(t){o.positionItem(t)}),n&&l.align(t({width:i,height:r},u),!0,s.spacingBox),s.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e=this,n=this.chart,i=n.renderer,r=this.options,o=r.y,o=n.spacingBox.height+("top"===r.verticalAlign?-o:o)-this.padding,s=r.maxHeight,a=this.clipRect,l=r.navigation,c=p(l.animation,!0),u=l.arrowSize||12,h=this.nav;return"horizontal"===r.layout&&(o/=2),s&&(o=fe(o,s)),t>o?(this.clipHeight=n=o-20,this.pageCount=de(t/n),this.currentPage=p(this.currentPage,1),this.fullHeight=t,a.attr({height:n}),h||(this.nav=h=i.g().attr({zIndex:1}).add(this.group),this.up=i.symbol("triangle",0,0,u,u).on("click",function(){e.scroll(-1,c)}).add(h),this.pager=i.text("",15,10).css(l.style).add(h),this.down=i.symbol("triangle-down",0,0,u,u).on("click",function(){e.scroll(1,c)}).add(h)),e.scroll(0),t=o):h&&(a.attr({height:n.chartHeight}),h.hide(),this.scrollGroup.attr({translateY:1})),t},scroll:function(t,e){var n=this.pageCount,i=this.currentPage+t,r=this.clipHeight,o=this.options.navigation,s=o.activeColor,o=o.inactiveColor,a=this.pager,l=this.padding;i>n&&(i=n),i>0&&(e!==G&&D(e,this.chart),this.nav.attr({translateX:l,translateY:r+7,visibility:"visible"}),this.up.attr({fill:1===i?o:s}).css({cursor:1===i?"default":"pointer"}),a.attr({text:i+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===n?o:s}).css({cursor:i===n?"default":"pointer"}),this.scrollGroup.animate({translateY:-fe(r*(i-1),this.fullHeight-r+l)+1}),a.attr({text:i+"/"+n}),this.currentPage=i)}},F.prototype={initSeries:function(t){var e=this.options.chart,e=new Ve[t.type||e.type||e.defaultSeriesType];return e.init(this,t),e},addSeries:function(t,e,n){var i=this;t&&(D(n,i),e=p(e,!0),en(i,"addSeries",{options:t},function(){i.initSeries(t),i.isDirtyLegend=!0,e&&i.redraw()}))},isInsidePlot:function(t,e){return t>=0&&t<=this.plotWidth&&e>=0&&e<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&Ue(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(t){var e,n=this.axes,i=this.series,r=this.tracker,o=this.legend,s=this.isDirtyLegend,a=this.isDirtyBox,l=i.length,c=l,u=this.clipRect,h=this.renderer,d=h.isHidden();for(D(t,this),d&&this.cloneRenderTo();c--;)if(t=i[c],t.isDirty&&t.options.stacking){e=!0;break}if(e)for(c=l;c--;)t=i[c],t.options.stacking&&(t.isDirty=!0);Ue(i,function(t){t.isDirty&&"point"===t.options.legendType&&(s=!0)}),s&&o.options.enabled&&(o.render(),this.isDirtyLegend=!1),this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,Ue(n,function(t){t.setScale()})),this.adjustTickAmounts(),this.getMargins(),Ue(n,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,en(t,"afterSetExtremes",t.getExtremes())),(t.isDirty||a||e)&&(t.redraw(),a=!0)})),a&&(this.drawChartBox(),u&&(on(u),u.animate({width:this.plotSizeX,height:this.plotSizeY+1}))),Ue(i,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),r&&r.resetTracker&&r.resetTracker(!0),h.draw(),en(this,"redraw"),d&&this.cloneRenderTo(!0)},showLoading:function(e){var n=this.options,i=this.loadingDiv,r=n.loading;i||(this.loadingDiv=i=m(Ee,{className:"highcharts-loading"},t(r.style,{left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px",zIndex:10,display:Ne}),this.container),this.loadingSpan=m("span",null,r.labelStyle,i)),this.loadingSpan.innerHTML=e||n.lang.loading,this.loadingShown||(f(i,{opacity:0,display:""}),rn(i,{opacity:r.style.opacity},{duration:r.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&rn(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){f(e,{display:Ne})}}),this.loadingShown=!1},get:function(t){var e,n,i=this.axes,r=this.series;for(e=0;e<i.length;e++)if(i[e].options.id===t)return i[e];for(e=0;e<r.length;e++)if(r[e].options.id===t)return r[e];for(e=0;e<r.length;e++)for(n=r[e].points||[],i=0;i<n.length;i++)if(n[i].id===t)return n[i];return null},getAxes:function(){var t=this,e=this.options,n=e.xAxis||{},e=e.yAxis||{},n=d(n);Ue(n,function(t,e){t.index=e,t.isX=!0}),e=d(e),Ue(e,function(t,e){t.index=e}),n=n.concat(e),Ue(n,function(e){new H(t,e)}),t.adjustTickAmounts()},getSelectedPoints:function(){var t=[];return Ue(this.series,function(e){t=t.concat(Xe(e.points,function(t){return t.selected}))}),t},getSelectedSeries:function(){return Xe(this.series,function(t){return t.selected})},showResetZoom:function(){var t=this,e=z.lang,n=t.options.chart.resetZoomButton,i=n.theme,r=i.states,o="chart"===n.relativeTo?null:{x:t.plotLeft,y:t.plotTop,width:t.plotWidth,height:t.plotHeight};this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},i,r&&r.hover).attr({align:n.position.align,title:e.resetZoomTitle}).add().align(n.position,!1,o)},zoomOut:function(){var t=this,e=t.resetZoomButton;en(t,"selection",{resetSelection:!0},function(){t.zoom()}),e&&(t.resetZoomButton=e.destroy())},zoom:function(t){var e,n=this,i=n.options.chart;n.resetZoomEnabled!==!1&&!n.resetZoomButton&&n.showResetZoom(),!t||t.resetSelection?Ue(n.axes,function(t){t.options.zoomEnabled!==!1&&(t.setExtremes(null,null,!1),e=!0)}):Ue(t.xAxis.concat(t.yAxis),function(t){var i=t.axis;n.tracker[i.isXAxis?"zoomX":"zoomY"]&&(i.setExtremes(t.min,t.max,!1),e=!0)}),e&&n.redraw(p(i.animation,n.pointCount<100))},pan:function(t){var e=this.xAxis[0],n=this.mouseDownX,i=e.pointRange/2,r=e.getExtremes(),o=e.translate(n-t,!0)+i,n=e.translate(n+this.plotWidth-t,!0)-i;(i=this.hoverPoints)&&Ue(i,function(t){t.setState()}),e.series.length&&o>fe(r.dataMin,r.min)&&n<pe(r.dataMax,r.max)&&e.setExtremes(o,n,!0,!1),this.mouseDownX=t,f(this.container,{cursor:"move"})},setTitle:function(t,e){var n,i=this,r=i.options;i.chartTitleOptions=n=Qe(r.title,t),i.chartSubtitleOptions=r=Qe(r.subtitle,e),Ue([["title",t,n],["subtitle",e,r]],function(t){var e=t[0],n=i[e],r=t[1],t=t[2];n&&r&&(n=n.destroy()),t&&t.text&&!n&&(i[e]=i.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add().align(t,!1,i.spacingBox))})},getChartSize:function(){var t=this.options.chart,e=this.renderToClone||this.renderTo;this.containerWidth=Ye(e,"width"),this.containerHeight=Ye(e,"height"),this.chartWidth=t.width||this.containerWidth||600,this.chartHeight=t.height||(this.containerHeight>19?this.containerHeight:400)},cloneRenderTo:function(t){var e=this.renderToClone,n=this.container;t?e&&(this.renderTo.appendChild(n),_(e),delete this.renderToClone):(n&&this.renderTo.removeChild(n),this.renderToClone=e=this.renderTo.cloneNode(0),f(e,{position:"absolute",top:"-9999px",display:"block"}),ae.body.appendChild(e),n&&e.appendChild(n))},getContainer:function(){var e,n,r,o,s=this.options.chart;this.renderTo=e=s.renderTo,o="highcharts-"+De++,i(e)&&(this.renderTo=e=ae.getElementById(e)),e||M(13,!0),e.innerHTML="",e.offsetWidth||this.cloneRenderTo(),this.getChartSize(),n=this.chartWidth,r=this.chartHeight,this.container=e=m(Ee,{className:"highcharts-container"+(s.className?" "+s.className:""),id:o},t({position:"relative",overflow:"hidden",width:n+"px",height:r+"px",textAlign:"left",lineHeight:"normal"},s.style),this.renderToClone||e),this.renderer=s.forExport?new hn(e,n,r,!0):new R(e,n,r),_e&&this.renderer.create(this,e,n,r)},getMargins:function(){var t,e=this.options.chart,n=e.spacingTop,i=e.spacingRight,r=e.spacingBottom,e=e.spacingLeft,o=this.legend,s=this.optionsMarginTop,a=this.optionsMarginLeft,l=this.optionsMarginRight,c=this.optionsMarginBottom,h=this.chartTitleOptions,d=this.chartSubtitleOptions,f=this.options.legend,m=p(f.margin,10),g=f.x,v=f.y,y=f.align,b=f.verticalAlign;this.resetMargins(),t=this.axisOffset,!this.title&&!this.subtitle||u(this.optionsMarginTop)||(d=pe(this.title&&!h.floating&&!h.verticalAlign&&h.y||0,this.subtitle&&!d.floating&&!d.verticalAlign&&d.y||0))&&(this.plotTop=pe(this.plotTop,d+p(h.margin,15)+n)),o.display&&!f.floating&&("right"===y?u(l)||(this.marginRight=pe(this.marginRight,o.legendWidth-g+m+i)):"left"===y?u(a)||(this.plotLeft=pe(this.plotLeft,o.legendWidth+g+m+e)):"top"===b?u(s)||(this.plotTop=pe(this.plotTop,o.legendHeight+v+m+n)):"bottom"!==b||u(c)||(this.marginBottom=pe(this.marginBottom,o.legendHeight-v+m+r))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&Ue(this.axes,function(t){t.getOffset()}),u(a)||(this.plotLeft+=t[3]),u(s)||(this.plotTop+=t[0]),u(c)||(this.marginBottom+=t[2]),u(l)||(this.marginRight+=t[1]),this.setChartSize()},initReflow:function(){function t(t){var o=i.width||Ye(r,"width"),s=i.height||Ye(r,"height"),t=t?t.target:le;o&&s&&(t===le||t===ae)&&((o!==n.containerWidth||s!==n.containerHeight)&&(clearTimeout(e),e=setTimeout(function(){n.resize(o,s,!1)},100)),n.containerWidth=o,n.containerHeight=s)}var e,n=this,i=n.options.chart,r=n.renderTo;Ke(le,"resize",t),Ke(n,"destroy",function(){tn(le,"resize",t)})},fireEndResize:function(){var t=this;t&&en(t,"endResize",null,function(){t.isResizing-=1})},resize:function(t,e,n){var i,r,o=this.title,s=this.subtitle;this.isResizing+=1,D(n,this),this.oldChartHeight=this.chartHeight,this.oldChartWidth=this.chartWidth,u(t)&&(this.chartWidth=i=ue(t)),u(e)&&(this.chartHeight=r=ue(e)),f(this.container,{width:i+"px",height:r+"px"}),this.renderer.setSize(i,r,n),this.plotWidth=i-this.plotLeft-this.marginRight,this.plotHeight=r-this.plotTop-this.marginBottom,this.maxTicks=null,Ue(this.axes,function(t){t.isDirty=!0,t.setScale()}),Ue(this.series,function(t){t.isDirty=!0}),this.isDirtyBox=this.isDirtyLegend=!0,this.getMargins(),t=this.spacingBox,o&&o.align(null,null,t),s&&s.align(null,null,t),this.redraw(n),this.oldChartHeight=null,en(this,"resize"),Y===!1?this.fireEndResize():setTimeout(this.fireEndResize,Y&&Y.duration||500)},setChartSize:function(){var t=this.inverted,e=this.chartWidth,n=this.chartHeight,i=this.options.chart,r=i.spacingTop,o=i.spacingRight,s=i.spacingBottom,i=i.spacingLeft;this.plotLeft=ue(this.plotLeft),this.plotTop=ue(this.plotTop),this.plotWidth=ue(e-this.plotLeft-this.marginRight),this.plotHeight=ue(n-this.plotTop-this.marginBottom),this.plotSizeX=t?this.plotHeight:this.plotWidth,this.plotSizeY=t?this.plotWidth:this.plotHeight,this.spacingBox={x:i,y:r,width:e-i-o,height:n-r-s},Ue(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this.options.chart,e=t.spacingRight,n=t.spacingBottom,i=t.spacingLeft;this.plotTop=p(this.optionsMarginTop,t.spacingTop),this.marginRight=p(this.optionsMarginRight,e),this.marginBottom=p(this.optionsMarginBottom,n),this.plotLeft=p(this.optionsMarginLeft,i),this.axisOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,n=this.renderer,i=this.chartWidth,r=this.chartHeight,o=this.chartBackground,s=this.plotBackground,a=this.plotBorder,l=this.plotBGImage,c=e.borderWidth||0,u=e.backgroundColor,h=e.plotBackgroundColor,d=e.plotBackgroundImage,p={x:this.plotLeft,y:this.plotTop,width:this.plotWidth,height:this.plotHeight};t=c+(e.shadow?8:0),(c||u)&&(o?o.animate(o.crisp(null,null,null,i-t,r-t)):(o={fill:u||Ne},c&&(o.stroke=e.borderColor,o["stroke-width"]=c),this.chartBackground=n.rect(t/2,t/2,i-t,r-t,e.borderRadius,c).attr(o).add().shadow(e.shadow))),h&&(s?s.animate(p):this.plotBackground=n.rect(this.plotLeft,this.plotTop,this.plotWidth,this.plotHeight,0).attr({fill:h}).add().shadow(e.plotShadow)),d&&(l?l.animate(p):this.plotBGImage=n.image(d,this.plotLeft,this.plotTop,this.plotWidth,this.plotHeight).add()),e.plotBorderWidth&&(a?a.animate(a.crisp(null,this.plotLeft,this.plotTop,this.plotWidth,this.plotHeight)):this.plotBorder=n.rect(this.plotLeft,this.plotTop,this.plotWidth,this.plotHeight,0,e.plotBorderWidth).attr({stroke:e.plotBorderColor,"stroke-width":e.plotBorderWidth,zIndex:4}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,o=i.options.series;Ue(["inverted","angular","polar"],function(s){for(t=Ve[r.type||r.defaultSeriesType],n=i[s]||r[s]||t&&t.prototype[s],e=o&&o.length;!n&&e--;)(t=Ve[o[e].type])&&t.prototype[s]&&(n=!0);i[s]=n})},render:function(){var e,i=this,r=i.axes,o=i.renderer,s=i.options,a=s.labels,s=s.credits;i.setTitle(),i.legend=new j(i),Ue(r,function(t){t.setScale()}),i.getMargins(),i.maxTicks=null,Ue(r,function(t){t.setTickPositions(!0),t.setMaxTicks()}),i.adjustTickAmounts(),i.getMargins(),i.drawChartBox(),i.hasCartesianSeries&&Ue(r,function(t){t.render()}),i.seriesGroup||(i.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),Ue(i.series,function(t){t.translate(),t.setTooltipPoints(),t.render()}),a.items&&Ue(a.items,function(){var e=t(a.style,this.style),r=n(e.left)+i.plotLeft,s=n(e.top)+i.plotTop+12;delete e.left,delete e.top,o.text(this.html,r,s).attr({zIndex:2}).css(e).add()}),s.enabled&&!i.credits&&(e=s.href,i.credits=o.text(s.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:s.position.align,zIndex:8}).css(s.style).add().align(s.position)),i.hasRendered=!0},destroy:function(){var t,e=this,n=e.axes,i=e.series,r=e.container,o=r&&r.parentNode;if(null!==e){for(en(e,"destroy"),tn(e),t=n.length;t--;)n[t]=n[t].destroy();for(t=i.length;t--;)i[t]=i[t].destroy();Ue("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,tracker,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var n=e[t];n&&(e[t]=n.destroy())
}),r&&(r.innerHTML="",tn(r),o&&_(r),r=null);for(t in e)delete e[t];e=e.options=null}},firstRender:function(){var t=this,e=t.options,n=t.callback;!ke&&le==le.top&&"complete"!==ae.readyState||_e&&!le.canvg?_e?mn.push(function(){t.firstRender()},e.global.canvasToolsURL):ae.attachEvent("onreadystatechange",function(){ae.detachEvent("onreadystatechange",t.firstRender),"complete"===ae.readyState&&t.firstRender()}):(t.getContainer(),en(t,"init"),Highcharts.RangeSelector&&e.rangeSelector.enabled&&(t.rangeSelector=new Highcharts.RangeSelector(t)),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),Ue(e.series||[],function(e){t.initSeries(e)}),Highcharts.Scroller&&(e.navigator.enabled||e.scrollbar.enabled)&&(t.scroller=new Highcharts.Scroller(t)),t.tracker=new O(t,e),t.render(),t.renderer.draw(),n&&n.apply(t,[t]),Ue(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),en(t,"load"))},init:function(t){var e,n=this.options.chart;if(n.reflow!==!1&&Ke(this,"load",this.initReflow),t)for(e in t)Ke(this,e,t[e]);this.xAxis=[],this.yAxis=[],this.animation=_e?!1:p(n.animation,!0),this.setSize=this.resize,this.pointCount=0,this.counters=new S,this.firstRender()}},F.prototype.callbacks=[];var gn=function(){};gn.prototype={init:function(t,e,n){var i=t.chart.counters;return this.series=t,this.applyOptions(e,n),this.pointAttr={},t.options.colorByPoint&&(e=t.chart.options.colors,this.options||(this.options={}),this.color=this.options.color=this.color||e[i.color++],i.wrapColor(e.length)),t.chart.pointCount++,this},applyOptions:function(e,n){var i=this.series,r=typeof e;this.config=e,"number"===r||null===e?this.y=e:"number"==typeof e[0]?(this.x=e[0],this.y=e[1]):"object"===r&&"number"!=typeof e.length?(t(this,e),this.options=e,e.dataLabels&&(i._hasPointLabels=!0)):"string"==typeof e[0]&&(this.name=e[0],this.y=e[1]),this.x===G&&(this.x=n===G?i.autoIncrement():n)},destroy:function(){var t,e=this.series.chart,n=e.hoverPoints;e.pointCount--,n&&(this.setState(),c(n,this),!n.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(tn(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e="graphic,tracker,dataLabel,group,connector,shadowGroup".split(","),n=6;n--;)t=e[n],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(t,e){var n=this,i=n.series.chart,t=p(t,!n.selected);n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=t,n.setState(t&&"select"),e||Ue(i.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=!1,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(){var t=this.series,e=t.chart,n=e.tooltip,i=e.hoverPoint;i&&i!==this&&i.onMouseOut(),this.firePointEvent("mouseOver"),n&&(!n.shared||t.noSharedTooltip)&&n.refresh(this),this.setState("hover"),e.hoverPoint=this},onMouseOut:function(){this.firePointEvent("mouseOut"),this.setState(),this.series.chart.hoverPoint=null},tooltipFormatter:function(t){var e,n,r,o,s=this.series,a=s.tooltipOptions,l=t.match(/\{(series|point)\.[a-zA-Z]+\}/g),c=/[{\.}]/,u={y:0,open:0,high:0,low:0,close:0,percentage:1,total:1};a.valuePrefix=a.valuePrefix||a.yPrefix,a.valueDecimals=a.valueDecimals||a.yDecimals,a.valueSuffix=a.valueSuffix||a.ySuffix;for(o in l)n=l[o],i(n)&&n!==t&&(r=(" "+n).split(c),e={point:this,series:s}[r[1]],r=r[2],e===this&&u.hasOwnProperty(r)?(e=u[r]?r:"value",e=(a[e+"Prefix"]||"")+v(this[r],p(a[e+"Decimals"],-1))+(a[e+"Suffix"]||"")):e=e[r],t=t.replace(n,e));return t},update:function(t,e,n){var i,o=this,s=o.series,a=o.graphic,l=s.data,c=l.length,u=s.chart,e=p(e,!0);o.firePointEvent("update",{options:t},function(){for(o.applyOptions(t),r(t)&&(s.getAttribs(),a&&a.attr(o.pointAttr[s.state])),i=0;c>i;i++)if(l[i]===o){s.xData[i]=o.x,s.yData[i]=o.y,s.options.data[i]=t;break}s.isDirty=!0,s.isDirtyData=!0,e&&u.redraw(n)})},remove:function(t,e){var n,i=this,r=i.series,o=r.chart,s=r.data,a=s.length;D(e,o),t=p(t,!0),i.firePointEvent("remove",null,function(){for(n=0;a>n;n++)if(s[n]===i){s.splice(n,1),r.options.data.splice(n,1),r.xData.splice(n,1),r.yData.splice(n,1);break}i.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&o.redraw()})},firePointEvent:function(t,e,n){var i=this,r=this.series.options;(r.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(n=function(t){i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),en(this,t,e,n)},importEvents:function(){if(!this.hasImportedEvents){var t,e=Qe(this.series.options.point,this.options).events;this.events=e;for(t in e)Ke(this,t,e[t]);this.hasImportedEvents=!0}},setState:function(t){var e=this.plotX,n=this.plotY,i=this.series,r=i.options.states,o=cn[i.type].marker&&i.options.marker,s=o&&!o.enabled,a=o&&o.states[t],l=a&&a.enabled===!1,c=i.stateMarkerGraphic,u=i.chart,h=this.pointAttr,t=t||"";t===this.state||this.selected&&"select"!==t||r[t]&&r[t].enabled===!1||t&&(l||s&&!a.enabled)||(this.graphic?(r=o&&this.graphic.symbolName&&h[t].r,this.graphic.attr(Qe(h[t],r?{x:e-r,y:n-r,width:2*r,height:2*r}:{}))):(t&&a&&(c||(r=a.radius,i.stateMarkerGraphic=c=u.renderer.symbol(i.symbol,-r,-r,2*r,2*r).attr(h[t]).add(i.group)),c.translate(e,n)),c&&c[t?"show":"hide"]()),this.state=t)}};var vn=function(){};vn.prototype={isCartesian:!0,type:"line",pointClass:gn,sorted:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(e,n){var i,r;r=e.series.length,this.chart=e,this.options=n=this.setOptions(n),this.bindAxes(),t(this,{index:r,name:n.name||"Series "+(r+1),state:"",pointAttr:{},visible:n.visible!==!1,selected:n.selected===!0}),_e&&(n.animation=!1),r=n.events;for(i in r)Ke(this,i,r[i]);(r&&r.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(e.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.setData(n.data,!1),this.isCartesian&&(e.hasCartesianSeries=!0),e.series.push(this)},bindAxes:function(){var t,e=this,n=e.options,i=e.chart;e.isCartesian&&Ue(["xAxis","yAxis"],function(r){Ue(i[r],function(i){t=i.options,(n[r]===t.index||n[r]===G&&0===t.index)&&(i.series.push(e),e[r]=i,i.isDirty=!0)})})},autoIncrement:function(){var t=this.options,e=this.xIncrement,e=p(e,t.pointStart,0);return this.pointInterval=p(this.pointInterval,t.pointInterval,1),this.xIncrement=e+this.pointInterval,e},getSegments:function(){var t,e=-1,n=[],i=this.points,r=i.length;if(r)if(this.options.connectNulls){for(t=r;t--;)null===i[t].y&&i.splice(t,1);i.length&&(n=[i])}else Ue(i,function(t,o){null===t.y?(o>e+1&&n.push(i.slice(e+1,o)),e=o):o===r-1&&n.push(i.slice(e+1,o+1))});this.segments=n},setOptions:function(t){var e=this.chart.options,n=e.plotOptions,i=t.data;return t.data=null,n=Qe(n[this.type],n.series,t),n.data=t.data=i,this.tooltipOptions=Qe(e.tooltip,n.tooltip),n},getColor:function(){var t=this.options,e=this.chart.options.colors,n=this.chart.counters;this.color=t.color||!t.colorByPoint&&e[n.color++]||"gray",n.wrapColor(e.length)},getSymbol:function(){var t=this.options.marker,e=this.chart,n=e.options.symbols,e=e.counters;this.symbol=t.symbol||n[e.symbol++],/^url/.test(this.symbol)&&(t.radius=0),e.wrapSymbol(n.length)},drawLegendSymbol:function(t){var e,n=this.options,i=n.marker,r=t.options.symbolWidth,o=this.chart.renderer,s=this.legendGroup,t=t.baseline;n.lineWidth&&(e={"stroke-width":n.lineWidth},n.dashStyle&&(e.dashstyle=n.dashStyle),this.legendLine=o.path(["M",0,t-4,"L",r,t-4]).attr(e).add(s)),i&&i.enabled&&(n=i.radius,this.legendSymbol=o.symbol(this.symbol,r/2-n,t-4-n,2*n,2*n).attr(this.pointAttr[""]).add(s))},addPoint:function(t,e,n,i){var r=this.data,o=this.graph,s=this.area,a=this.chart,l=this.xData,c=this.yData,u=o&&o.shift||0,h=this.options.data;D(i,a),o&&n&&(o.shift=u+1),s&&(n&&(s.shift=u+1),s.isArea=!0),e=p(e,!0),i={series:this},this.pointClass.prototype.applyOptions.apply(i,[t]),l.push(i.x),c.push(4===this.valueCount?[i.open,i.high,i.low,i.close]:i.y),h.push(t),n&&(r[0]&&r[0].remove?r[0].remove(!1):(r.shift(),l.shift(),c.shift(),h.shift())),this.getAttribs(),this.isDirtyData=this.isDirty=!0,e&&a.redraw()},setData:function(t,e){var n=this.points,i=this.options,r=this.initialColor,a=this.chart,l=null,c=this.xAxis,h=this.pointClass.prototype;this.xIncrement=null,this.pointRange=c&&c.categories&&1||i.pointRange,u(r)&&(a.counters.color=r);var d=[],f=[],m=t?t.length:[],g=this.valueCount;if(m>(i.turboThreshold||1e3)){for(r=0;null===l&&m>r;)l=t[r],r++;if(s(l)){for(h=p(i.pointStart,0),i=p(i.pointInterval,1),r=0;m>r;r++)d[r]=h,f[r]=t[r],h+=i;this.xIncrement=h}else if(o(l))if(g)for(r=0;m>r;r++)i=t[r],d[r]=i[0],f[r]=i.slice(1,g+1);else for(r=0;m>r;r++)i=t[r],d[r]=i[0],f[r]=i[1]}else for(r=0;m>r;r++)i={series:this},h.applyOptions.apply(i,[t[r]]),d[r]=i.x,f[r]=h.toYData?h.toYData.apply(i):i.y;for(this.data=[],this.options.data=t,this.xData=d,this.yData=f,r=n&&n.length||0;r--;)n[r]&&n[r].destroy&&n[r].destroy();c&&(c.minRange=c.userMinRange),this.isDirty=this.isDirtyData=a.isDirtyBox=!0,p(e,!0)&&a.redraw(!1)},remove:function(t,e){var n=this,i=n.chart,t=p(t,!0);n.isRemoving||(n.isRemoving=!0,en(n,"remove",null,function(){n.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,t&&i.redraw(e)})),n.isRemoving=!1},processData:function(t){var e,n,i=this.xData,r=this.yData,o=i.length,s=0,a=o,l=this.xAxis,c=this.options,u=c.cropThreshold,h=this.isCartesian;if(h&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!t)return!1;if(h&&this.sorted&&(!u||o>u||this.forceCrop))if(t=l.getExtremes(),l=t.min,u=t.max,i[o-1]<l||i[0]>u)i=[],r=[];else if(i[0]<l||i[o-1]>u){for(t=0;o>t;t++)if(i[t]>=l){s=pe(0,t-1);break}for(;o>t;t++)if(i[t]>u){a=t+1;break}i=i.slice(s,a),r=r.slice(s,a),e=!0}for(t=i.length-1;t>0;t--)o=i[t]-i[t-1],o>0&&(n===G||n>o)&&(n=o);this.cropped=e,this.cropStart=s,this.processedXData=i,this.processedYData=r,null===c.pointRange&&(this.pointRange=n||1),this.closestPointRange=n},generatePoints:function(){var t,e,n,i,r=this.options.data,o=this.data,s=this.processedXData,a=this.processedYData,l=this.pointClass,c=s.length,u=this.cropStart||0,h=this.hasGroupedData,p=[];for(o||h||(o=[],o.length=r.length,o=this.data=o),i=0;c>i;i++)e=u+i,h?p[i]=(new l).init(this,[s[i]].concat(d(a[i]))):(o[e]?n=o[e]:r[e]!==G&&(o[e]=n=(new l).init(this,r[e],s[i])),p[i]=n);if(o&&(c!==(t=o.length)||h))for(i=0;t>i;i++)i===u&&!h&&(i+=c),o[i]&&(o[i].destroyElements(),o[i].plotX=G);this.data=o,this.points=p},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,e=this.chart,n=this.options,i=n.stacking,r=this.xAxis,o=r.categories,s=this.yAxis,a=this.points,l=a.length,c=!!this.modifyValue,h=s.series,d=h.length;d--;)if(h[d].visible){d===this.index&&(t=!0);break}for(d=0;l>d;d++){var h=a[d],p=h.x,f=h.y,m=h.low,g=s.stacks[(f<n.threshold?"-":"")+this.stackKey];h.plotX=r.translate(p,0,0,0,1),i&&this.visible&&g&&g[p]&&(m=g[p],p=m.total,m.cum=m=m.cum-f,f=m+f,t&&(m=n.threshold),"percent"===i&&(m=p?100*m/p:0,f=p?100*f/p:0),h.percentage=p?100*h.y/p:0,h.stackTotal=p,h.stackY=f),h.yBottom=u(m)?s.translate(m,0,1,0,1):null,c&&(f=this.modifyValue(f,h)),h.plotY="number"==typeof f?ue(10*s.translate(f,0,1,0,1))/10:G,h.clientX=e.inverted?e.plotHeight-h.plotX:h.plotX,h.category=o&&o[h.x]!==G?o[h.x]:h.x}this.getSegments()},setTooltipPoints:function(t){var e,n,i=[],r=this.chart.plotSizeX;e=this.xAxis;var o,s,a=[];if(this.options.enableMouseTracking!==!1){for(t&&(this.tooltipPoints=null),Ue(this.segments||this.points,function(t){i=i.concat(t)}),e&&e.reversed&&(i=i.reverse()),t=i.length,s=0;t>s;s++)for(o=i[s],e=i[s-1]?i[s-1]._high+1:0,o._high=n=i[s+1]?pe(0,he((o.plotX+(i[s+1]?i[s+1].plotX:r))/2)):r;e>=0&&n>=e;)a[e++]=o;this.tooltipPoints=a}},tooltipHeaderFormatter:function(t){var e,n=this.tooltipOptions,i=n.xDateFormat,r=this.xAxis,o=r&&"datetime"===r.options.type;if(o&&!i)for(e in U)if(U[e]>=r.closestPointRange){i=n.dateTimeLabelFormats[e];break}return n.headerFormat.replace("{point.key}",o?W(i,t):t).replace("{series.name}",this.name).replace("{series.color}",this.color)},onMouseOver:function(){var t=this.chart,e=t.hoverSeries;(Me||!t.mouseIsDown)&&(e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&en(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this)},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,i=e.hoverPoint;i&&i.onMouseOut(),this&&t.events.mouseOut&&en(this,"mouseOut"),n&&!t.stickyTracking&&!n.shared&&n.hide(),this.setState(),e.hoverSeries=null},animate:function(t){var e=this.chart,n=this.clipRect,i=this.options.animation;i&&!r(i)&&(i={}),t?n.isAnimating||(n.attr("width",0),n.isAnimating=!0):(n.animate({width:e.plotSizeX},i),this.animate=null)},drawPoints:function(){var e,n,i,r,o,s,a,l,c,u=this.points,h=this.chart;if(this.options.marker.enabled)for(r=u.length;r--;)o=u[r],n=o.plotX,i=o.plotY,c=o.graphic,i===G||isNaN(i)||(e=o.pointAttr[o.selected?"select":""],s=e.r,a=p(o.marker&&o.marker.symbol,this.symbol),l=0===a.indexOf("url"),c?c.animate(t({x:n-s,y:i-s},c.symbolName?{width:2*s,height:2*s}:{})):(s>0||l)&&(o.graphic=h.renderer.symbol(a,n-s,i-s,2*s,2*s).attr(e).add(this.group)))},convertAttribs:function(t,e,n,i){var r,o,s=this.pointAttrToOptions,a={},t=t||{},e=e||{},n=n||{},i=i||{};for(r in s)o=s[r],a[r]=p(t[o],e[r],n[r],i[r]);return a},getAttribs:function(){var t,e,n,i=this,r=cn[i.type].marker?i.options.marker:i.options,o=r.states,s=o.hover,a=i.color,l={stroke:a,fill:a},c=i.points||[],h=[],d=i.pointAttrToOptions;for(i.options.marker?(s.radius=s.radius||r.radius+2,s.lineWidth=s.lineWidth||r.lineWidth+1):s.color=s.color||un(s.color||a).brighten(s.brightness).get(),h[""]=i.convertAttribs(r,l),Ue(["hover","select"],function(t){h[t]=i.convertAttribs(o[t],h[""])}),i.pointAttr=h,a=c.length;a--;){if(l=c[a],(r=l.options&&l.options.marker||l.options)&&r.enabled===!1&&(r.radius=0),t=!1,l.options)for(n in d)u(r[d[n]])&&(t=!0);t?(e=[],o=r.states||{},t=o.hover=o.hover||{},i.options.marker||(t.color=un(t.color||l.options.color).brighten(t.brightness||s.brightness).get()),e[""]=i.convertAttribs(r,h[""]),e.hover=i.convertAttribs(o.hover,h.hover,e[""]),e.select=i.convertAttribs(o.select,h.select,e[""])):e=h,l.pointAttr=e}},destroy:function(){var t,e,n,i,r,o=this,s=o.chart,a=o.clipRect,l=/AppleWebKit\/533/.test(we),u=o.data||[];for(en(o,"destroy"),tn(o),Ue(["xAxis","yAxis"],function(t){(r=o[t])&&(c(r.series,o),r.isDirty=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=u.length;e--;)(n=u[e])&&n.destroy&&n.destroy();o.points=null,a&&a!==s.clipRect&&(o.clipRect=a.destroy()),Ue("area,graph,dataLabelsGroup,group,tracker,trackerGroup".split(","),function(e){o[e]&&(t=l&&"group"===e?"hide":"destroy",o[e][t]())}),s.hoverSeries===o&&(s.hoverSeries=null),c(s.series,o);for(i in o)delete o[i]},drawDataLabels:function(){var t=this,e=t.options,n=e.dataLabels;if(n.enabled||t._hasPointLabels){var i,r,o,s,a,l,c,h=t.points,d=t.dataLabelsGroup,f=t.chart,m=t.xAxis,m=m?m.left:f.plotLeft,g=t.yAxis,g=g?g.top:f.plotTop,v=f.renderer,y=f.inverted,b=t.type,w=e.stacking,x="column"===b||"bar"===b,S=null===n.verticalAlign,T=null===n.y,C=v.fontMetrics(n.style.fontSize),k=C.h,B=C.b;x&&(C={top:B,middle:B-k/2,bottom:-k+B},w?(S&&(n=Qe(n,{verticalAlign:"middle"})),T&&(n=Qe(n,{y:C[n.verticalAlign]}))):S?n=Qe(n,{verticalAlign:"top"}):T&&(n=Qe(n,{y:C[n.verticalAlign]}))),d?d.translate(m,g):d=t.dataLabelsGroup=v.g("data-labels").attr({visibility:t.visible?"visible":"hidden",zIndex:6}).translate(m,g).add(),s=n,Ue(h,function(h){if(l=h.dataLabel,n=s,(o=h.options)&&o.dataLabels&&(n=Qe(n,o.dataLabels)),c=n.enabled){var m=h.barX&&h.barX+h.barW/2||p(h.plotX,-999),g=p(h.plotY,-999),S=null===n.y?h.y>=e.threshold?-k+B:B:n.y;i=(y?f.plotWidth-g:m)+n.x,r=ue((y?f.plotHeight-m:g)+S)}if(!l||!t.isCartesian||f.isInsidePlot(i,r)&&c){if(c){var T,m=n.align;if(a=n.formatter.call(h.getLabelConfig(),n),"column"===b&&(i+={left:-1,right:1}[m]*h.barW/2||0),!w&&y&&h.y<0&&(m="right",i-=10),n.style.color=p(n.color,n.style.color,t.color,"black"),l)l.attr({text:a}).animate({x:i,y:r});else if(u(a)){m={align:m,fill:n.backgroundColor,stroke:n.borderColor,"stroke-width":n.borderWidth,r:n.borderRadius||0,rotation:n.rotation,padding:n.padding,zIndex:1};for(T in m)m[T]===G&&delete m[T];l=h.dataLabel=v[n.rotation?"text":"label"](a,i,r,null,null,null,n.useHTML,!0).attr(m).css(n.style).add(d).shadow(n.shadow)}x&&e.stacking&&l&&(T=h.barX,m=h.barY,g=h.barW,h=h.barH,l.align(n,null,{x:y?f.plotWidth-m-h:T,y:y?f.plotHeight-T-g:m,width:y?h:g,height:y?g:h}))}}else h.dataLabel=l.destroy()})}},getSegmentPath:function(t){var e=this,n=[];return Ue(t,function(i,r){e.getPointSpline?n.push.apply(n,e.getPointSpline(t,i,r)):(n.push(r?"L":"M"),r&&e.options.step&&n.push(i.plotX,t[r-1].plotY),n.push(i.plotX,i.plotY))}),n},drawGraph:function(){var t,e=this,n=e.options,i=e.graph,r=[],o=e.group,s=n.lineColor||e.color,a=n.lineWidth,l=n.dashStyle,c=e.chart.renderer,u=[];Ue(e.segments,function(n){t=e.getSegmentPath(n),n.length>1?r=r.concat(t):u.push(n[0])}),e.graphPath=r,e.singlePoints=u,i?(on(i),i.animate({d:r})):a&&(i={stroke:s,"stroke-width":a},l&&(i.dashstyle=l),e.graph=c.path(r).attr(i).add(o).shadow(n.shadow))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};n.attr(t).invert(),i&&i.attr(t).invert()}var e=this,n=e.group,i=e.trackerGroup,r=e.chart;Ke(r,"resize",t),Ke(e,"destroy",function(){tn(r,"resize",t)}),t(),e.invertGroups=t},createGroup:function(){var t=this.chart;(this.group=t.renderer.g("series")).attr({visibility:this.visible?"visible":"hidden",zIndex:this.options.zIndex}).translate(this.xAxis.left,this.yAxis.top).add(t.seriesGroup),this.createGroup=Le},render:function(){var t,e=this,n=e.chart,i=e.options,r=i.clip!==!1,o=i.animation,o=(i=o&&e.animate)?o&&o.duration||500:0,s=e.clipRect,a=n.renderer;s||(s=e.clipRect=!n.hasRendered&&n.clipRect?n.clipRect:a.clipRect(0,0,n.plotSizeX,n.plotSizeY+1),n.clipRect)||(n.clipRect=s),e.createGroup(),t=e.group,e.drawDataLabels(),i&&e.animate(!0),e.getAttribs(),e.drawGraph&&e.drawGraph(),e.drawPoints(),e.options.enableMouseTracking!==!1&&e.drawTracker(),n.inverted&&e.invertGroups(),r&&!e.hasRendered&&(t.clip(s),e.trackerGroup&&e.trackerGroup.clip(n.clipRect)),i&&e.animate(),setTimeout(function(){s.isAnimating=!1,(t=e.group)&&s!==n.clipRect&&s.renderer&&(r&&t.clip(e.clipRect=n.clipRect),s.destroy())},o),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirtyData,n=this.group;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:this.xAxis.left,translateY:this.yAxis.top})),this.translate(),this.setTooltipPoints(!0),this.render(),e&&en(this,"updatedData")},setState:function(t){var e=this.options,n=this.graph,i=e.states,e=e.lineWidth,t=t||"";this.state!==t&&(this.state=t,i[t]&&i[t].enabled===!1||(t&&(e=i[t].lineWidth||e+1),n&&!n.dashstyle&&n.attr({"stroke-width":e},t?0:500)))},setVisible:function(t,e){var n,i=this.chart,r=this.legendItem,o=this.group,s=this.tracker,a=this.dataLabelsGroup,l=this.points,c=i.options.chart.ignoreHiddenSeries;if(n=this.visible,n=(this.visible=t=t===G?!n:t)?"show":"hide",o&&o[n](),s)s[n]();else if(l)for(o=l.length;o--;)s=l[o],s.tracker&&s.tracker[n]();a&&a[n](),r&&i.legend.colorizeItem(this,t),this.isDirty=!0,this.options.stacking&&Ue(i.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),c&&(i.isDirtyBox=!0),e!==!1&&i.redraw(),en(this,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===G?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),en(this,t?"select":"unselect")},drawTrackerGroup:function(){var t=this.trackerGroup,e=this.chart;return this.isCartesian&&(t||(this.trackerGroup=t=e.renderer.g().attr({zIndex:this.options.zIndex||1}).add(e.trackerGroup)),t.translate(this.xAxis.left,this.yAxis.top)),t},drawTracker:function(){var t,e=this,n=e.options,i=n.trackByArea,r=[].concat(i?e.areaPath:e.graphPath),o=r.length,s=e.chart,a=s.renderer,l=s.options.tooltip.snap,c=e.tracker,u=n.cursor,u=u&&{cursor:u},h=e.singlePoints,d=e.drawTrackerGroup();if(o&&!i)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-l,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+l,r[t-1]);for(t=0;t<h.length;t++)o=h[t],r.push("M",o.plotX-l,o.plotY,"L",o.plotX+l,o.plotY);c?c.attr({d:r}):e.tracker=a.path(r).attr({isTracker:!0,"stroke-linejoin":"bevel",visibility:e.visible?"visible":"hidden",stroke:Ie,fill:i?Ie:Ne,"stroke-width":n.lineWidth+(i?0:2*l)}).on(Me?"touchstart":"mouseover",function(){s.hoverSeries!==e&&e.onMouseOver()}).on("mouseout",function(){n.stickyTracking||e.onMouseOut()}).css(u).add(d)}},We=g(vn),Ve.line=We,cn.area=Qe(ze,{threshold:0}),We=g(vn,{type:"area",getSegmentPath:function(t){var e,n=vn.prototype.getSegmentPath.call(this,t),i=[].concat(n),r=this.options;e=n.length;var o=this.yAxis.getThreshold(r.threshold);if(3===e&&i.push("L",n[1],n[2]),r.stacking&&"areaspline"!==this.type)for(e=t.length-1;e>=0;e--)e<t.length-1&&r.step&&i.push(t[e+1].plotX,t[e].yBottom),i.push(t[e].plotX,t[e].yBottom);else i.push("L",t[t.length-1].plotX,o,"L",t[0].plotX,o);return this.areaPath=this.areaPath.concat(i),n},drawGraph:function(){this.areaPath=[],vn.prototype.drawGraph.apply(this);var t=this.areaPath,e=this.options,n=this.area;n?n.animate({d:t}):this.area=this.chart.renderer.path(t).attr({fill:p(e.fillColor,un(this.color).setOpacity(e.fillOpacity||.75).get())}).add(this.group)},drawLegendSymbol:function(t,e){e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,t.options.symbolWidth,12,2).attr({zIndex:3}).add(e.legendGroup)}}),Ve.area=We,cn.spline=Qe(ze),pn=g(vn,{type:"spline",getPointSpline:function(t,e,n){var i,r,o,s,a=e.plotX,l=e.plotY,c=t[n-1],u=t[n+1];if(n&&n<t.length-1){t=c.plotY,o=u.plotX;var h,u=u.plotY;i=(1.5*a+c.plotX)/2.5,r=(1.5*l+t)/2.5,o=(1.5*a+o)/2.5,s=(1.5*l+u)/2.5,h=(s-r)*(o-a)/(o-i)+l-s,r+=h,s+=h,r>t&&r>l?(r=pe(t,l),s=2*l-r):t>r&&l>r&&(r=fe(t,l),s=2*l-r),s>u&&s>l?(s=pe(u,l),r=2*l-s):u>s&&l>s&&(s=fe(u,l),r=2*l-s),e.rightContX=o,e.rightContY=s}return n?(e=["C",c.rightContX||c.plotX,c.rightContY||c.plotY,i||a,r||l,a,l],c.rightContX=c.rightContY=null):e=["M",a,l],e}}),Ve.spline=pn,cn.areaspline=Qe(cn.area);var yn=We.prototype,pn=g(pn,{type:"areaspline",getSegmentPath:yn.getSegmentPath,drawGraph:yn.drawGraph});Ve.areaspline=pn,cn.column=Qe(ze,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{y:null,verticalAlign:null},threshold:0}),pn=g(vn,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){vn.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&Ue(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},translate:function(){var e,n,i=this,r=i.chart,o=i.options,s=o.stacking,a=o.borderWidth,l=0,c=i.xAxis,h=c.reversed,d={};vn.prototype.translate.apply(i),Ue(r.series,function(t){t.type===i.type&&t.visible&&i.options.group===t.options.group&&(t.options.stacking?(e=t.stackKey,d[e]===G&&(d[e]=l++),n=d[e]):n=l++,t.columnIndex=n)});var f=i.points,c=me(c.transA)*(c.ordinalSlope||o.pointRange||c.closestPointRange||1),m=c*o.groupPadding,g=(c-2*m)/l,v=o.pointWidth,y=u(v)?(g-v)/2:g*o.pointPadding,b=p(v,g-2*y),w=de(pe(b,1+2*a)),x=y+(m+((h?l-i.columnIndex:i.columnIndex)||0)*g-c/2)*(h?-1:1),S=i.yAxis.getThreshold(o.threshold),T=p(o.minPointLength,5);Ue(f,function(e){var n=e.plotY,o=p(e.yBottom,S),l=e.plotX+x,c=de(fe(n,o)),u=de(pe(n,o)-c),h=i.yAxis.stacks[(e.y<0?"-":"")+i.stackKey];s&&i.visible&&h&&h[e.x]&&h[e.x].setOffset(x,w),me(u)<T&&T&&(u=T,c=me(c-S)>T?o-T:S-(S>=n?T:0)),t(e,{barX:l,barY:c,barW:w,barH:u,pointWidth:b}),e.shapeType="rect",e.shapeArgs=n=r.renderer.Element.prototype.crisp.call(0,a,l,c,w,u),a%2&&(n.y-=1,n.height+=1),e.trackerArgs=me(u)<3&&Qe(e.shapeArgs,{height:6,y:c-3})})},getSymbol:function(){},drawLegendSymbol:We.prototype.drawLegendSymbol,drawGraph:function(){},drawPoints:function(){var t,e,n=this,i=n.options,r=n.chart.renderer;Ue(n.points,function(o){var s=o.plotY;s===G||isNaN(s)||null===o.y||(t=o.graphic,e=o.shapeArgs,t?(on(t),t.animate(Qe(e))):o.graphic=t=r[o.shapeType](e).attr(o.pointAttr[o.selected?"select":""]).add(n.group).shadow(i.shadow,null,i.stacking&&!i.borderRadius))})},drawTracker:function(){var t,e,n,i,r,o=this,s=o.chart,a=s.renderer,l=+new Date,c=o.options,u=c.cursor,d=u&&{cursor:u},p=o.drawTrackerGroup();Ue(o.points,function(u){e=u.tracker,t=u.trackerArgs||u.shapeArgs,i=u.plotY,r=!o.isCartesian||i!==G&&!isNaN(i),delete t.strokeWidth,null!==u.y&&r&&(e?e.attr(t):u.tracker=a[u.shapeType](t).attr({isTracker:l,fill:Ie,visibility:o.visible?"visible":"hidden"}).on(Me?"touchstart":"mouseover",function(t){n=t.relatedTarget||t.fromElement,s.hoverSeries!==o&&h(n,"isTracker")!==l&&o.onMouseOver(),u.onMouseOver()}).on("mouseout",function(t){c.stickyTracking||(n=t.relatedTarget||t.toElement,h(n,"isTracker")===l)||o.onMouseOut()}).css(d).add(u.group||p))})},animate:function(t){var e=this,n=e.points,i=e.options;t||(Ue(n,function(t){var n=t.graphic,t=t.shapeArgs,r=e.yAxis,o=i.threshold;n&&(n.attr({height:0,y:u(o)?r.getThreshold(o):r.translate(r.getExtremes().min,0,1,0,1)}),n.animate({height:t.height,y:t.y},i.animation))}),e.animate=null)},remove:function(){var t=this,e=t.chart;e.hasRendered&&Ue(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),vn.prototype.remove.apply(t,arguments)}}),Ve.column=pn,cn.bar=Qe(cn.column,{dataLabels:{align:"left",x:5,y:null,verticalAlign:"middle"}}),yn=g(pn,{type:"bar",inverted:!0}),Ve.bar=yn,cn.scatter=Qe(ze,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),yn=g(vn,{type:"scatter",sorted:!1,translate:function(){var t=this;vn.prototype.translate.apply(t),Ue(t.points,function(e){e.shapeType="circle",e.shapeArgs={x:e.plotX,y:e.plotY,r:t.chart.options.tooltip.snap}})},drawTracker:function(){for(var t,e=this,n=e.options.cursor,n=n&&{cursor:n},i=e.points,r=i.length;r--;)(t=i[r].graphic)&&(t.element._i=r);e._hasTracking?e._hasTracking=!0:e.group.attr({isTracker:!0}).on(Me?"touchstart":"mouseover",function(t){e.onMouseOver(),t.target._i!==G&&i[t.target._i].onMouseOver()}).on("mouseout",function(){e.options.stickyTracking||e.onMouseOut()}).css(n)}}),Ve.scatter=yn,cn.pie=Qe(ze,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}}),ze={type:"pie",isCartesian:!1,pointClass:g(gn,{init:function(){gn.prototype.init.apply(this,arguments);var e,n=this;return t(n,{visible:n.visible!==!1,name:p(n.name,"Slice")}),e=function(){n.slice()},Ke(n,"select",e),Ke(n,"unselect",e),n},setVisible:function(t){var e,n=this.series.chart,i=this.tracker,r=this.dataLabel,o=this.connector,s=this.shadowGroup;e=(this.visible=t=t===G?!this.visible:t)?"show":"hide",this.group[e](),i&&i[e](),r&&r[e](),o&&o[e](),s&&s[e](),this.legendItem&&n.legend.colorizeItem(this,t)},slice:function(t,e,n){var i=this.series.chart,r=this.slicedTranslation;D(n,i),p(e,!0),t=this.sliced=u(t)?t:!this.sliced,t={translateX:t?r[0]:i.plotLeft,translateY:t?r[1]:i.plotTop},this.group.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)}}),pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var t=this;Ue(t.points,function(e){var n=e.graphic,e=e.shapeArgs,i=-ye/2;n&&(n.attr({r:0,start:i,end:i}),n.animate({r:e.r,start:e.start,end:e.end},t.options.animation))}),t.animate=null},setData:function(t,e){vn.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),p(e,!0)&&this.chart.redraw()},getCenter:function(){var t,e=this.options,i=this.chart,r=i.plotWidth,o=i.plotHeight,e=e.center.concat([e.size,e.innerSize||0]),s=fe(r,o);return Ze(e,function(e,i){return(t=/%$/.test(e))?[r,o,s,s][i]*n(e)/100:e})},translate:function(){this.generatePoints();var t,e,n,i,r,o,s,a=0,l=-.25,c=this.options,u=c.slicedOffset,h=u+c.borderWidth,d=this.chart,p=this.points,f=2*ye,m=c.dataLabels.distance;this.center=t=this.getCenter(),this.getX=function(e,n){return i=ce.asin((e-t[1])/(t[2]/2+m)),t[0]+(n?-1:1)*ge(i)*(t[2]/2+m)},Ue(p,function(t){a+=t.y}),Ue(p,function(c){r=a?c.y/a:0,e=ue(1e3*l*f)/1e3,l+=r,n=ue(1e3*l*f)/1e3,c.shapeType="arc",c.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:e,end:n},i=(n+e)/2,c.slicedTranslation=Ze([ge(i)*u+d.plotLeft,ve(i)*u+d.plotTop],ue),o=ge(i)*t[2]/2,s=ve(i)*t[2]/2,c.tooltipPos=[t[0]+.7*o,t[1]+.7*s],c.labelPos=[t[0]+o+ge(i)*m,t[1]+s+ve(i)*m,t[0]+o+ge(i)*h,t[1]+s+ve(i)*h,t[0]+o,t[1]+s,0>m?"center":f/4>i?"left":"right",i],c.percentage=100*r,c.total=a}),this.setTooltipPoints()},render:function(){this.getAttribs(),this.drawPoints(),this.options.enableMouseTracking!==!1&&this.drawTracker(),this.drawDataLabels(),this.options.animation&&this.animate&&this.animate(),this.isDirty=!1},drawPoints:function(){var e,n,i,r,o,s=this,a=s.chart,l=a.renderer,c=s.options.shadow;Ue(s.points,function(u){n=u.graphic,o=u.shapeArgs,i=u.group,r=u.shadowGroup,c&&!r&&(r=u.shadowGroup=l.g("shadow").attr({zIndex:4}).add()),i||(i=u.group=l.g("point").attr({zIndex:5}).add()),e=u.sliced?u.slicedTranslation:[a.plotLeft,a.plotTop],i.translate(e[0],e[1]),r&&r.translate(e[0],e[1]),n?n.animate(o):u.graphic=n=l.arc(o).setRadialReference(s.center).attr(t(u.pointAttr[""],{"stroke-linejoin":"round"})).add(u.group).shadow(c,r),u.visible===!1&&u.setVisible(!1)})},drawDataLabels:function(){var t,e,n,i,r,o,s,a,l=this.data,c=this.chart,u=this.options.dataLabels,h=p(u.connectorPadding,10),d=p(u.connectorWidth,1),f=p(u.softConnector,!0),m=u.distance,g=this.center,v=g[2]/2,y=g[1],b=m>0,w=[[],[]],x=2;if(u.enabled)for(vn.prototype.drawDataLabels.apply(this),Ue(l,function(t){t.dataLabel&&w[t.labelPos[7]<ye/2?0:1].push(t)}),w[1].reverse(),s=function(t,e){return e.y-t.y},l=w[0][0]&&w[0][0].dataLabel&&(w[0][0].dataLabel.getBBox().height||21);x--;){var S,T=[],C=[],k=w[x],B=k.length;if(m>0){for(a=y-v-m;y+v+m>=a;a+=l)T.push(a);if(o=T.length,B>o){for(n=[].concat(k),n.sort(s),a=B;a--;)n[a].rank=a;for(a=B;a--;)k[a].rank>=o&&k.splice(a,1);B=k.length}for(a=0;B>a;a++){for(t=k[a],n=t.labelPos,t=9999,r=0;o>r;r++)e=me(T[r]-n[1]),t>e&&(t=e,S=r);if(a>S&&null!==T[a])S=a;else for(B-a+S>o&&null!==T[a]&&(S=o-B+a);null===T[S];)S++;C.push({i:S,y:T[S]}),T[S]=null}C.sort(s)}for(a=0;B>a;a++)t=k[a],n=t.labelPos,e=t.dataLabel,o=t.visible===!1?"hidden":"visible",i=n[1],m>0?(r=C.pop(),S=r.i,r=r.y,(i>r&&null!==T[S+1]||r>i&&null!==T[S-1])&&(r=i)):r=i,i=u.justify?g[0]+(x?-1:1)*(v+m):this.getX(0===S||S===T.length-1?i:r,x),e.attr({visibility:o,align:n[6]})[e.moved?"animate":"attr"]({x:i+u.x+({left:h,right:-h}[n[6]]||0),y:r+u.y}),e.moved=!0,b&&d&&(e=t.connector,n=f?["M",i+("left"===n[6]?5:-5),r,"C",i,r,2*n[2]-n[4],2*n[3]-n[5],n[2],n[3],"L",n[4],n[5]]:["M",i+("left"===n[6]?5:-5),r,"L",n[2],n[3],"L",n[4],n[5]],e?(e.animate({d:n}),e.attr("visibility",o)):t.connector=e=this.chart.renderer.path(n).attr({"stroke-width":d,stroke:u.connectorColor||t.color||"#606060",visibility:o,zIndex:3}).translate(c.plotLeft,c.plotTop).add())}},drawTracker:pn.prototype.drawTracker,drawLegendSymbol:We.prototype.drawLegendSymbol,getSymbol:function(){}},ze=g(vn,ze),Ve.pie=ze,t(Highcharts,{Axis:H,CanVGRenderer:fn,Chart:F,Color:un,Legend:j,Point:gn,Tick:N,Tooltip:$,Renderer:R,Series:vn,SVGRenderer:hn,VMLRenderer:dn,dateFormat:W,pathAnim:q,getOptions:function(){return z},hasBidiBug:Be,numberFormat:v,seriesTypes:Ve,setOptions:function(t){return z=Qe(z,t),L(),z},addEvent:Ke,removeEvent:tn,createElement:m,discardElement:_,css:f,each:Ue,extend:t,map:Ze,merge:Qe,pick:p,splat:d,extendClass:g,pInt:n,product:"Highcharts",version:"2.2.5"})}(),/**
* Bootstrap.js by @fat & @mdo
* plugins: bootstrap-transition.js, bootstrap-scrollspy.js, bootstrap-tab.js, bootstrap-tooltip.js, bootstrap-popover.js
* Copyright 2012 Twitter, Inc.
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/
!function(t){t(function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return n[t]}();return t&&{end:t}}()})}(window.jQuery),!function(t){function e(e,n){var i,r=t.proxy(this.process,this),o=t(e).is("body")?t(window):t(e);this.options=t.extend({},t.fn.scrollspy.defaults,n),this.$scrollElement=o.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(i=t(e).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e,n=this;this.offsets=t([]),this.targets=t([]),e=this.$body.find(this.selector).map(function(){var e=t(this),n=e.data("target")||e.attr("href"),i=/^#\w/.test(n)&&t(n);return i&&i.length&&[[i.position().top,n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(e>=i)return s!=(t=o.last()[0])&&this.activate(t);for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(!r[t+1]||e<=r[t+1])&&this.activate(o[t])},activate:function(e){var n,i;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}},t.fn.scrollspy=function(n){return this.each(function(){var i=t(this),r=i.data("scrollspy"),o="object"==typeof n&&n;r||i.data("scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),!function(t){var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,n,i,r=this.element,o=r.closest("ul:not(.dropdown-menu)"),s=r.attr("data-target");s||(s=r.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(e=o.find(".active a").last()[0],i=t.Event("show",{relatedTarget:e}),r.trigger(i),i.isDefaultPrevented()||(n=t(s),this.activate(r.parent("li"),o),this.activate(n,n.parent(),function(){r.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),s=i&&t.support.transition&&o.hasClass("fade");s?o.one(t.support.transition.end,r):r(),o.removeClass("in")}},t.fn.tab=function(n){return this.each(function(){var i=t(this),r=i.data("tab");r||i.data("tab",r=new e(this)),"string"==typeof n&&r[n]()})},t.fn.tab.Constructor=e,t(function(){t("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})})}(window.jQuery),!function(t){var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,n,i){var r,o;this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.enabled=!0,"click"==this.options.trigger?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=this.options.trigger&&(r="hover"==this.options.trigger?"mouseenter":"focus",o="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.leave,this))),this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,e,this.$element.data()),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);return n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var t,e,n,i,r,o,s;if(this.hasContent()&&this.enabled){switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,e=/in/.test(o),t.remove().css({top:0,left:0,display:"block"}).appendTo(e?this.$element:document.body),n=this.getPosition(e),i=t[0].offsetWidth,r=t[0].offsetHeight,e?o.split(" ")[1]:o){case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":s={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":s={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":s={top:n.top+n.height/2-r/2,left:n.left+n.width}}t.css(s).addClass(o).addClass("in")}},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){n.off(t.support.transition.end).remove()},500);n.one(t.support.transition.end,function(){clearTimeout(e),n.remove()})}var n=this.tip();return n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():n.remove(),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(e){return t.extend({},e?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},t.fn.tooltip=function(n){return this.each(function(){var i=t(this),r=i.data("tooltip"),o="object"==typeof n&&n;r||i.data("tooltip",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0}}(window.jQuery),!function(t){var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content > *")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-content")||("function"==typeof n.content?n.content.call(e[0]):n.content)},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),t.fn.popover=function(n){return this.each(function(){var i=t(this),r=i.data("popover"),o="object"==typeof n&&n;r||i.data("popover",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),function(){function t(e,n,i){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return e===n;if(e._chain&&(e=e._wrapped),n._chain&&(n=n._wrapped),e.isEqual&&x.isFunction(e.isEqual))return e.isEqual(n);if(n.isEqual&&x.isFunction(n.isEqual))return n.isEqual(e);var r=l.call(e);if(r!=l.call(n))return!1;switch(r){case"[object String]":return e==""+n;case"[object Number]":return e!=+e?n!=+n:0==e?1/e==1/n:e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object RegExp]":return e.source==n.source&&e.global==n.global&&e.multiline==n.multiline&&e.ignoreCase==n.ignoreCase}if("object"!=typeof e||"object"!=typeof n)return!1;for(var o=i.length;o--;)if(i[o]==e)return!0;i.push(e);var o=0,s=!0;if("[object Array]"==r){if(o=e.length,s=o==n.length)for(;o--&&(s=o in e==o in n&&t(e[o],n[o],i)););}else{if("constructor"in e!="constructor"in n||e.constructor!=n.constructor)return!1;for(var a in e)if(x.has(e,a)&&(o++,!(s=x.has(n,a)&&t(e[a],n[a],i))))break;if(s){for(a in n)if(x.has(n,a)&&!o--)break;s=!o}}return i.pop(),s}var e=this,n=e._,i={},r=Array.prototype,o=Object.prototype,s=r.slice,a=r.unshift,l=o.toString,c=o.hasOwnProperty,u=r.forEach,h=r.map,d=r.reduce,p=r.reduceRight,f=r.filter,m=r.every,g=r.some,v=r.indexOf,y=r.lastIndexOf,o=Array.isArray,b=Object.keys,w=Function.prototype.bind,x=function(t){return new E(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.3.3";var S=x.each=x.forEach=function(t,e,n){if(null!=t)if(u&&t.forEach===u)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,o=t.length;o>r&&!(r in t&&e.call(n,t[r],r,t)===i);r++);else for(r in t)if(x.has(t,r)&&e.call(n,t[r],r,t)===i)break};x.map=x.collect=function(t,e,n){var i=[];return null==t?i:h&&t.map===h?t.map(e,n):(S(t,function(t,r,o){i[i.length]=e.call(n,t,r,o)}),t.length===+t.length&&(i.length=t.length),i)},x.reduce=x.foldl=x.inject=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),d&&t.reduce===d)return i&&(e=x.bind(e,i)),r?t.reduce(e,n):t.reduce(e);if(S(t,function(t,o,s){r?n=e.call(i,n,t,o,s):(n=t,r=!0)}),!r)throw new TypeError("Reduce of empty array with no initial value");return n},x.reduceRight=x.foldr=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),p&&t.reduceRight===p)return i&&(e=x.bind(e,i)),r?t.reduceRight(e,n):t.reduceRight(e);var o=x.toArray(t).reverse();return i&&!r&&(e=x.bind(e,i)),r?x.reduce(o,e,n,i):x.reduce(o,e)},x.find=x.detect=function(t,e,n){var i;return T(t,function(t,r,o){return e.call(n,t,r,o)?(i=t,!0):void 0}),i},x.filter=x.select=function(t,e,n){var i=[];return null==t?i:f&&t.filter===f?t.filter(e,n):(S(t,function(t,r,o){e.call(n,t,r,o)&&(i[i.length]=t)}),i)},x.reject=function(t,e,n){var i=[];return null==t?i:(S(t,function(t,r,o){e.call(n,t,r,o)||(i[i.length]=t)}),i)},x.every=x.all=function(t,e,n){var r=!0;return null==t?r:m&&t.every===m?t.every(e,n):(S(t,function(t,o,s){return(r=r&&e.call(n,t,o,s))?void 0:i}),!!r)};var T=x.some=x.any=function(t,e,n){e||(e=x.identity);var r=!1;return null==t?r:g&&t.some===g?t.some(e,n):(S(t,function(t,o,s){return r||(r=e.call(n,t,o,s))?i:void 0}),!!r)};x.include=x.contains=function(t,e){var n=!1;return null==t?n:v&&t.indexOf===v?-1!=t.indexOf(e):n=T(t,function(t){return t===e})},x.invoke=function(t,e){var n=s.call(arguments,2);return x.map(t,function(t){return(x.isFunction(e)?e||t:t[e]).apply(t,n)})},x.pluck=function(t,e){return x.map(t,function(t){return t[e]})},x.max=function(t,e,n){if(!e&&x.isArray(t)&&t[0]===+t[0])return Math.max.apply(Math,t);if(!e&&x.isEmpty(t))return-1/0;var i={computed:-1/0};return S(t,function(t,r,o){r=e?e.call(n,t,r,o):t,r>=i.computed&&(i={value:t,computed:r})}),i.value},x.min=function(t,e,n){if(!e&&x.isArray(t)&&t[0]===+t[0])return Math.min.apply(Math,t);if(!e&&x.isEmpty(t))return 1/0;var i={computed:1/0};return S(t,function(t,r,o){r=e?e.call(n,t,r,o):t,r<i.computed&&(i={value:t,computed:r})}),i.value},x.shuffle=function(t){var e,n=[];return S(t,function(t,i){e=Math.floor(Math.random()*(i+1)),n[i]=n[e],n[e]=t}),n},x.sortBy=function(t,e,n){var i=x.isFunction(e)?e:function(t){return t[e]};return x.pluck(x.map(t,function(t,e,r){return{value:t,criteria:i.call(n,t,e,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;return void 0===n?1:void 0===i?-1:i>n?-1:n>i?1:0}),"value")},x.groupBy=function(t,e){var n={},i=x.isFunction(e)?e:function(t){return t[e]};return S(t,function(t,e){var r=i(t,e);(n[r]||(n[r]=[])).push(t)}),n},x.sortedIndex=function(t,e,n){n||(n=x.identity);for(var i=0,r=t.length;r>i;){var o=i+r>>1;n(t[o])<n(e)?i=o+1:r=o}return i},x.toArray=function(t){return t?x.isArray(t)||x.isArguments(t)?s.call(t):t.toArray&&x.isFunction(t.toArray)?t.toArray():x.values(t):[]},x.size=function(t){return x.isArray(t)?t.length:x.keys(t).length},x.first=x.head=x.take=function(t,e,n){return null==e||n?t[0]:s.call(t,0,e)},x.initial=function(t,e,n){return s.call(t,0,t.length-(null==e||n?1:e))},x.last=function(t,e,n){return null==e||n?t[t.length-1]:s.call(t,Math.max(t.length-e,0))},x.rest=x.tail=function(t,e,n){return s.call(t,null==e||n?1:e)},x.compact=function(t){return x.filter(t,function(t){return!!t})},x.flatten=function(t,e){return x.reduce(t,function(t,n){return x.isArray(n)?t.concat(e?n:x.flatten(n)):(t[t.length]=n,t)},[])},x.without=function(t){return x.difference(t,s.call(arguments,1))},x.uniq=x.unique=function(t,e,n){var n=n?x.map(t,n):t,i=[];return t.length<3&&(e=!0),x.reduce(n,function(n,r,o){return(e?x.last(n)===r&&n.length:x.include(n,r))||(n.push(r),i.push(t[o])),n},[]),i},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=x.intersect=function(t){var e=s.call(arguments,1);return x.filter(x.uniq(t),function(t){return x.every(e,function(e){return x.indexOf(e,t)>=0})})},x.difference=function(t){var e=x.flatten(s.call(arguments,1),!0);return x.filter(t,function(t){return!x.include(e,t)})},x.zip=function(){for(var t=s.call(arguments),e=x.max(x.pluck(t,"length")),n=Array(e),i=0;e>i;i++)n[i]=x.pluck(t,""+i);return n},x.indexOf=function(t,e,n){if(null==t)return-1;var i;if(n)return n=x.sortedIndex(t,e),t[n]===e?n:-1;if(v&&t.indexOf===v)return t.indexOf(e);for(n=0,i=t.length;i>n;n++)if(n in t&&t[n]===e)return n;return-1},x.lastIndexOf=function(t,e){if(null==t)return-1;if(y&&t.lastIndexOf===y)return t.lastIndexOf(e);for(var n=t.length;n--;)if(n in t&&t[n]===e)return n;return-1},x.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0);for(var n=arguments[2]||1,i=Math.max(Math.ceil((e-t)/n),0),r=0,o=Array(i);i>r;)o[r++]=t,t+=n;return o};var C=function(){};x.bind=function(t,e){var n,i;if(t.bind===w&&w)return w.apply(t,s.call(arguments,1));if(!x.isFunction(t))throw new TypeError;return i=s.call(arguments,2),n=function(){if(!(this instanceof n))return t.apply(e,i.concat(s.call(arguments)));C.prototype=t.prototype;var r=new C,o=t.apply(r,i.concat(s.call(arguments)));return Object(o)===o?o:r}},x.bindAll=function(t){var e=s.call(arguments,1);return 0==e.length&&(e=x.functions(t)),S(e,function(e){t[e]=x.bind(t[e],t)}),t},x.memoize=function(t,e){var n={};return e||(e=x.identity),function(){var i=e.apply(this,arguments);return x.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},x.delay=function(t,e){var n=s.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},x.defer=function(t){return x.delay.apply(x,[t,1].concat(s.call(arguments,1)))},x.throttle=function(t,e){var n,i,r,o,s,a,l=x.debounce(function(){s=o=!1},e);return function(){return n=this,i=arguments,r||(r=setTimeout(function(){r=null,s&&t.apply(n,i),l()},e)),o?s=!0:a=t.apply(n,i),l(),o=!0,a}},x.debounce=function(t,e,n){var i;return function(){var r=this,o=arguments;n&&!i&&t.apply(r,o),clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(r,o)},e)}},x.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments))}},x.wrap=function(t,e){return function(){var n=[t].concat(s.call(arguments,0));return e.apply(this,n)}},x.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},x.after=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}},x.keys=b||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e,n=[];for(e in t)x.has(t,e)&&(n[n.length]=e);return n},x.values=function(t){return x.map(t,x.identity)},x.functions=x.methods=function(t){var e,n=[];for(e in t)x.isFunction(t[e])&&n.push(e);return n.sort()},x.extend=function(t){return S(s.call(arguments,1),function(e){for(var n in e)t[n]=e[n]}),t},x.pick=function(t){var e={};return S(x.flatten(s.call(arguments,1)),function(n){n in t&&(e[n]=t[n])}),e},x.defaults=function(t){return S(s.call(arguments,1),function(e){for(var n in e)null==t[n]&&(t[n]=e[n])}),t},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t},x.isEqual=function(e,n){return t(e,n,[])},x.isEmpty=function(t){if(null==t)return!0;if(x.isArray(t)||x.isString(t))return 0===t.length;for(var e in t)if(x.has(t,e))return!1;return!0},x.isElement=function(t){return!(!t||1!=t.nodeType)},x.isArray=o||function(t){return"[object Array]"==l.call(t)},x.isObject=function(t){return t===Object(t)},x.isArguments=function(t){return"[object Arguments]"==l.call(t)},x.isArguments(arguments)||(x.isArguments=function(t){return!(!t||!x.has(t,"callee"))}),x.isFunction=function(t){return"[object Function]"==l.call(t)},x.isString=function(t){return"[object String]"==l.call(t)},x.isNumber=function(t){return"[object Number]"==l.call(t)},x.isFinite=function(t){return x.isNumber(t)&&isFinite(t)},x.isNaN=function(t){return t!==t},x.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==l.call(t)},x.isDate=function(t){return"[object Date]"==l.call(t)},x.isRegExp=function(t){return"[object RegExp]"==l.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return c.call(t,e)},x.noConflict=function(){return e._=n,this},x.identity=function(t){return t},x.times=function(t,e,n){for(var i=0;t>i;i++)e.call(n,i)},x.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},x.result=function(t,e){if(null==t)return null;var n=t[e];return x.isFunction(n)?n.call(t):n},x.mixin=function(t){S(x.functions(t),function(e){I(e,x[e]=t[e])})};var k=0;x.uniqueId=function(t){var e=k++;return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B,_=/.^/,M={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(B in M)M[M[B]]=B;var A=/\\|'|\r|\n|\t|\u2028|\u2029/g,D=/\\(\\|'|r|n|t|u2028|u2029)/g,L=function(t){return t.replace(D,function(t,e){return M[e]})};x.template=function(t,e,n){n=x.defaults(n||{},x.templateSettings),t="__p+='"+t.replace(A,function(t){return"\\"+M[t]}).replace(n.escape||_,function(t,e){return"'+\n_.escape("+L(e)+")+\n'"}).replace(n.interpolate||_,function(t,e){return"'+\n("+L(e)+")+\n'"}).replace(n.evaluate||_,function(t,e){return"';\n"+L(e)+"\n;__p+='"})+"';\n",n.variable||(t="with(obj||{}){\n"+t+"}\n");var t="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+t+"return __p;\n",i=new Function(n.variable||"obj","_",t);return e?i(e,x):(e=function(t){return i.call(this,t,x)},e.source="function("+(n.variable||"obj")+"){\n"+t+"}",e)},x.chain=function(t){return x(t).chain()};var E=function(t){this._wrapped=t};x.prototype=E.prototype;var N=function(t,e){return e?x(t).chain():t},I=function(t,e){E.prototype[t]=function(){var t=s.call(arguments);return a.call(t,this._wrapped),N(e.apply(x,t),this._chain)}};x.mixin(x),S("pop,push,reverse,shift,sort,splice,unshift".split(","),function(t){var e=r[t];E.prototype[t]=function(){var n=this._wrapped;e.apply(n,arguments);var i=n.length;return("shift"==t||"splice"==t)&&0===i&&delete n[0],N(n,this._chain)}}),S(["concat","join","slice"],function(t){var e=r[t];E.prototype[t]=function(){return N(e.apply(this._wrapped,arguments),this._chain)}}),E.prototype.chain=function(){return this._chain=!0,this},E.prototype.value=function(){return this._wrapped}}.call(this),function(){var t,e=this,n=e.Backbone,i=Array.prototype.slice,r=Array.prototype.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="0.9.2";var o=e._;!o&&"undefined"!=typeof require&&(o=require("underscore"));var s=e.jQuery||e.Zepto||e.ender;t.setDomLibrary=function(t){s=t},t.noConflict=function(){return e.Backbone=n,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=/\s+/,l=t.Events={on:function(t,e,n){var i,r,o,s,l;if(!e)return this;for(t=t.split(a),i=this._callbacks||(this._callbacks={});r=t.shift();)o=(l=i[r])?l.tail:{},o.next=s={},o.context=n,o.callback=e,i[r]={tail:s,next:l?l.next:o};return this},off:function(t,e,n){var i,r,s,l,c,u;if(r=this._callbacks){if(!t&&!e&&!n)return delete this._callbacks,this;for(t=t?t.split(a):o.keys(r);i=t.shift();)if(s=r[i],delete r[i],s&&(e||n))for(l=s.tail;(s=s.next)!==l;)c=s.callback,u=s.context,(e&&c!==e||n&&u!==n)&&this.on(i,c,u);return this}},trigger:function(t){var e,n,r,o,s,l;if(!(r=this._callbacks))return this;for(s=r.all,t=t.split(a),l=i.call(arguments,1);e=t.shift();){if(n=r[e])for(o=n.tail;(n=n.next)!==o;)n.callback.apply(n.context||this,l);if(n=s)for(o=n.tail,e=[e].concat(l);(n=n.next)!==o;)n.callback.apply(n.context||this,e)}return this}};l.bind=l.on,l.unbind=l.off;var c=t.Model=function(t,e){var n;t||(t={}),e&&e.parse&&(t=this.parse(t)),(n=C(this,"defaults"))&&(t=o.extend({},n,t)),e&&e.collection&&(this.collection=e.collection),this.attributes={},this._escapedAttributes={},this.cid=o.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(t,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=o.clone(this.attributes),this.initialize.apply(this,arguments)};o.extend(c.prototype,l,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(){return o.clone(this.attributes)},get:function(t){return this.attributes[t]},escape:function(t){var e;return(e=this._escapedAttributes[t])?e:(e=this.get(t),this._escapedAttributes[t]=o.escape(null==e?"":""+e))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var i,r;if(o.isObject(t)||null==t?(i=t,n=e):(i={},i[t]=e),n||(n={}),!i)return this;if(i instanceof c&&(i=i.attributes),n.unset)for(r in i)i[r]=void 0;if(!this._validate(i,n))return!1;this.idAttribute in i&&(this.id=i[this.idAttribute]);var e=n.changes={},s=this.attributes,a=this._escapedAttributes,l=this._previousAttributes||{};for(r in i)t=i[r],(!o.isEqual(s[r],t)||n.unset&&o.has(s,r))&&(delete a[r],(n.silent?this._silent:e)[r]=!0),n.unset?delete s[r]:s[r]=t,o.isEqual(l[r],t)&&o.has(s,r)==o.has(l,r)?(delete this.changed[r],delete this._pending[r]):(this.changed[r]=t,n.silent||(this._pending[r]=!0));return n.silent||this.change(n),this},unset:function(t,e){return(e||(e={})).unset=!0,this.set(t,null,e)},clear:function(t){return(t||(t={})).unset=!0,this.set(o.clone(this.attributes),t)},fetch:function(e){var e=e?o.clone(e):{},n=this,i=e.success;return e.success=function(t,r,o){return n.set(n.parse(t,o),e)?(i&&i(n,t),void 0):!1},e.error=t.wrapError(e.error,n,e),(this.sync||t.sync).call(this,"read",this,e)},save:function(e,n,i){var r,s;if(o.isObject(e)||null==e?(r=e,i=n):(r={},r[e]=n),i=i?o.clone(i):{},i.wait){if(!this._validate(r,i))return!1;s=o.clone(this.attributes)}if(e=o.extend({},i,{silent:!0}),r&&!this.set(r,i.wait?e:i))return!1;var a=this,l=i.success;return i.success=function(t,e,n){return e=a.parse(t,n),i.wait&&(delete i.wait,e=o.extend(r||{},e)),a.set(e,i)?(l?l(a,t):a.trigger("sync",a,t,i),void 0):!1},i.error=t.wrapError(i.error,a,i),n=this.isNew()?"create":"update",n=(this.sync||t.sync).call(this,n,this,i),i.wait&&this.set(s,e),n},destroy:function(e){var e=e?o.clone(e):{},n=this,i=e.success,r=function(){n.trigger("destroy",n,n.collection,e)};if(this.isNew())return r(),!1;e.success=function(t){e.wait&&r(),i?i(n,t):n.trigger("sync",n,t,e)},e.error=t.wrapError(e.error,n,e);var s=(this.sync||t.sync).call(this,"delete",this,e);return e.wait||r(),s},url:function(){var t=C(this,"urlRoot")||C(this.collection,"url")||k();return this.isNew()?t:t+("/"==t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(t){t||(t={});var e=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var i=o.extend({},t.changes,this._silent);this._silent={};for(n in i)this.trigger("change:"+n,this,this.get(n),t);if(e)return this;for(;!o.isEmpty(this._pending);){this._pending={},this.trigger("change",this,t);for(n in this.changed)!this._pending[n]&&!this._silent[n]&&delete this.changed[n];this._previousAttributes=o.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(t){return arguments.length?o.has(this.changed,t):!o.isEmpty(this.changed)},changedAttributes:function(t){if(!t)return this.hasChanged()?o.clone(this.changed):!1;var e,n,i=!1,r=this._previousAttributes;for(n in t)o.isEqual(r[n],e=t[n])||((i||(i={}))[n]=e);return i},previous:function(t){return arguments.length&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(t,e){if(e.silent||!this.validate)return!0;var t=o.extend({},this.attributes,t),n=this.validate(t,e);return n?(e&&e.error?e.error(this,n,e):this.trigger("error",this,n,e),!1):!0}});var u=t.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,{silent:!0,parse:e.parse})};o.extend(u.prototype,l,{model:c,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},add:function(t,e){var n,i,s,a,l,c={},u={},h=[];for(e||(e={}),t=o.isArray(t)?t.slice():[t],n=0,i=t.length;i>n;n++){if(!(s=t[n]=this._prepareModel(t[n],e)))throw Error("Can't add an invalid model to a collection");a=s.cid,l=s.id,c[a]||this._byCid[a]||null!=l&&(u[l]||this._byId[l])?h.push(n):c[a]=u[l]=s}for(n=h.length;n--;)t.splice(h[n],1);for(n=0,i=t.length;i>n;n++)(s=t[n]).on("all",this._onModelEvent,this),this._byCid[s.cid]=s,null!=s.id&&(this._byId[s.id]=s);if(this.length+=i,r.apply(this.models,[null!=e.at?e.at:this.models.length,0].concat(t)),this.comparator&&this.sort({silent:!0}),e.silent)return this;for(n=0,i=this.models.length;i>n;n++)c[(s=this.models[n]).cid]&&(e.index=n,s.trigger("add",s,this,e));return this},remove:function(t,e){var n,i,r,s;for(e||(e={}),t=o.isArray(t)?t.slice():[t],n=0,i=t.length;i>n;n++)(s=this.getByCid(t[n])||this.get(t[n]))&&(delete this._byId[s.id],delete this._byCid[s.cid],r=this.indexOf(s),this.models.splice(r,1),this.length--,e.silent||(e.index=r,s.trigger("remove",s,this,e)),this._removeReference(s));return this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,e),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,o.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t]},getByCid:function(t){return t&&this._byCid[t.cid||t]},at:function(t){return this.models[t]},where:function(t){return o.isEmpty(t)?[]:this.filter(function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},sort:function(t){if(t||(t={}),!this.comparator)throw Error("Cannot sort a set without a comparator");var e=o.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("reset",this,t),this},pluck:function(t){return o.map(this.models,function(e){return e.get(t)})},reset:function(t,e){t||(t=[]),e||(e={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return this._reset(),this.add(t,o.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var n=this,i=e.success;return e.success=function(t,r,o){n[e.add?"add":"reset"](n.parse(t,o),e),i&&i(n,t)},e.error=t.wrapError(e.error,n,e),(this.sync||t.sync).call(this,"read",this,e)},create:function(t,e){var n=this,e=e?o.clone(e):{},t=this._prepareModel(t,e);if(!t)return!1;e.wait||n.add(t,e);var i=e.success;return e.success=function(r,o){e.wait&&n.add(r,e),i?i(r,o):r.trigger("sync",t,o,e)},t.save(null,e),t},parse:function(t){return t},chain:function(){return o(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(t,e){return e||(e={}),t instanceof c?t.collection||(t.collection=this):(e.collection=this,t=new this.model(t,e),t._validate(t.attributes,e)||(t=!1)),t},_removeReference:function(t){this==t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"==t||"remove"==t)&&n!=this||("destroy"==t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],this._byId[e.id]=e),this.trigger.apply(this,arguments))}}),o.each("forEach,each,map,reduce,reduceRight,find,detect,filter,select,reject,every,all,some,any,include,contains,invoke,max,min,sortBy,sortedIndex,toArray,size,first,initial,rest,last,without,indexOf,shuffle,lastIndexOf,isEmpty,groupBy".split(","),function(t){u.prototype[t]=function(){return o[t].apply(o,[this.models].concat(o.toArray(arguments)))}});var h=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},d=/:\w+/g,p=/\*\w+/g,f=/[-[\]{}()+?.,\\^$|#\s]/g;o.extend(h.prototype,l,{initialize:function(){},route:function(e,n,i){return t.history||(t.history=new m),o.isRegExp(e)||(e=this._routeToRegExp(e)),i||(i=this[n]),t.history.route(e,o.bind(function(r){r=this._extractParameters(e,r),i&&i.apply(this,r),this.trigger.apply(this,["route:"+n].concat(r)),t.history.trigger("route",this,n,r)},this)),this},navigate:function(e,n){t.history.navigate(e,n)},_bindRoutes:function(){if(this.routes){var t,e=[];for(t in this.routes)e.unshift([t,this.routes[t]]);t=0;for(var n=e.length;n>t;t++)this.route(e[t][0],e[t][1],this[e[t][1]])}},_routeToRegExp:function(t){return t=t.replace(f,"\\$&").replace(d,"([^/]+)").replace(p,"(.*?)"),RegExp("^"+t+"$")},_extractParameters:function(t,e){return t.exec(e).slice(1)}});var m=t.History=function(){this.handlers=[],o.bindAll(this,"checkUrl")},g=/^[#\/]/,v=/msie [\w.]+/;m.started=!1,o.extend(m.prototype,l,{interval:50,getHash:function(t){return(t=(t?t.location:window.location).href.match(/#(.*)$/))?t[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||e){var t=window.location.pathname,n=window.location.search;n&&(t+=n)}else t=this.getHash();return t.indexOf(this.options.root)||(t=t.substr(this.options.root.length)),t.replace(g,"")},start:function(t){if(m.started)throw Error("Backbone.history has already been started");m.started=!0,this.options=o.extend({},{root:"/"},this.options,t),this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);var t=this.getFragment(),e=document.documentMode;return(e=v.exec(navigator.userAgent.toLowerCase())&&(!e||7>=e))&&(this.iframe=s('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?s(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!e?s(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t,t=window.location,e=t.pathname==this.options.root,this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!e?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&e&&t.hash&&(this.fragment=this.getHash().replace(g,""),window.history.replaceState({},document.title,t.protocol+"//"+t.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())
},stop:function(){s(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),m.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t==this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t==this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(t){var e=this.fragment=this.getFragment(t);return o.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(t,e){if(!m.started)return!1;e&&!0!==e||(e={trigger:e});var n=(t||"").replace(g,"");this.fragment!=n&&(this._hasPushState?(0!=n.indexOf(this.options.root)&&(n=this.options.root+n),this.fragment=n,window.history[e.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,e.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,e.replace))):window.location.assign(this.options.root+t),e.trigger&&this.loadUrl(t))},_updateHash:function(t,e,n){n?t.replace(t.toString().replace(/(javascript:|#).*$/,"")+"#"+e):t.hash=e}});var y=t.View=function(t){this.cid=o.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,w="model,collection,el,id,attributes,className,tagName".split(",");o.extend(y.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(t,e,n){return t=document.createElement(t),e&&s(t).attr(e),n&&s(t).html(n),t},setElement:function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof s?t:s(t),this.el=this.$el[0],!1!==e&&this.delegateEvents(),this},delegateEvents:function(t){if(t||(t=C(this,"events"))){this.undelegateEvents();for(var e in t){var n=t[e];if(o.isFunction(n)||(n=this[t[e]]),!n)throw Error('Method "'+t[e]+'" does not exist');var i=e.match(b),r=i[1],i=i[2],n=o.bind(n,this),r=r+(".delegateEvents"+this.cid);""===i?this.$el.bind(r,n):this.$el.delegate(i,r,n)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(t){this.options&&(t=o.extend({},this.options,t));for(var e=0,n=w.length;n>e;e++){var i=w[e];t[i]&&(this[i]=t[i])}this.options=t},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var t=C(this,"attributes")||{};this.id&&(t.id=this.id),this.className&&(t["class"]=this.className),this.setElement(this.make(this.tagName,t),!1)}}}),c.extend=u.extend=h.extend=y.extend=function(t,e){var n=T(this,t,e);return n.extend=this.extend,n};var x={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};t.sync=function(e,n,i){var r=x[e];i||(i={});var a={type:r,dataType:"json"};return i.url||(a.url=C(n,"url")||k()),i.data||!n||"create"!=e&&"update"!=e||(a.contentType="application/json",a.data=JSON.stringify(n.toJSON())),t.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),!t.emulateHTTP||"PUT"!==r&&"DELETE"!==r||(t.emulateJSON&&(a.data._method=r),a.type="POST",a.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",r)}),"GET"!==a.type&&!t.emulateJSON&&(a.processData=!1),s.ajax(o.extend(a,i))},t.wrapError=function(t,e,n){return function(i,r){r=i===e?r:i,t?t(e,r,n):e.trigger("error",e,r,n)}};var S=function(){},T=function(t,e,n){var i;return i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},o.extend(i,t),S.prototype=t.prototype,i.prototype=new S,e&&o.extend(i.prototype,e),n&&o.extend(i,n),i.prototype.constructor=i,i.__super__=t.prototype,i},C=function(t,e){return t&&t[e]?o.isFunction(t[e])?t[e]():t[e]:null},k=function(){throw Error('A "url" property or function must be specified')}}.call(this),function(t,e){function n(t,e,n){this._d=t,this._isUTC=!!e,this._a=t._a||null,t._a=null,this._lang=n||!1}function i(t){var e=this._data={},n=t.years||t.y||0,i=t.months||t.M||0,o=t.weeks||t.w||0,s=t.days||t.d||0,a=t.hours||t.h||0,l=t.minutes||t.m||0,c=t.seconds||t.s||0,u=t.milliseconds||t.ms||0;this._milliseconds=u+1e3*c+6e4*l+36e5*a,this._days=s+7*o,this._months=i+12*n,e.milliseconds=u%1e3,c+=r(u/1e3),e.seconds=c%60,l+=r(c/60),e.minutes=l%60,a+=r(l/60),e.hours=a%24,s+=r(a/24),s+=7*o,e.days=s%30,i+=r(s/30),e.months=i%12,n+=r(i/12),e.years=n,this._lang=!1}function r(t){return 0>t?Math.ceil(t):Math.floor(t)}function o(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function s(t,e,n){var i,r=e._milliseconds,o=e._days,s=e._months;r&&t._d.setTime(+t+r*n),o&&t.date(t.date()+o*n),s&&(i=t.date(),t.date(1).month(t.month()+s*n).date(Math.min(i,t.daysInMonth())))}function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(t,e){var n,i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0;for(n=0;i>n;n++)~~t[n]!==~~e[n]&&o++;return o+r}function c(e,n){var i,r;for(i=1;7>i;i++)e[i]=null==e[i]?2===i?1:0:e[i];return e[7]=n,r=new t(0),n?(r.setUTCFullYear(e[0],e[1],e[2]),r.setUTCHours(e[3],e[4],e[5],e[6])):(r.setFullYear(e[0],e[1],e[2]),r.setHours(e[3],e[4],e[5],e[6])),r._a=e,r}function u(t,e){var n,i,r=[];for(!e&&E&&(e=require("./lang/"+t)),n=0;n<N.length;n++)e[N[n]]=e[N[n]]||D.en[N[n]];for(n=0;12>n;n++)i=B([2e3,n]),r[n]=new RegExp("^"+(e.months[n]||e.months(i,""))+"|^"+(e.monthsShort[n]||e.monthsShort(i,"")).replace(".",""),"i");return e.monthsParse=e.monthsParse||r,D[t]=e,e}function h(t){var e="string"==typeof t&&t||t&&t._lang||null;return e?D[e]||u(e):B}function d(t){return K[t]?"'+("+K[t]+")+'":t.replace($,"").replace(/\\?'/g,"\\'")}function p(t){return h().longDateFormat[t]||t}function f(t){var e="var a,b;return '"+t.replace(P,d)+"';",n=Function;return new n("t","v","o","p","m",e)}function m(t,e){function n(n,r){return i[n].call?i[n](t,e):i[n][r]}for(var i=h(t);H.test(e);)e=e.replace(H,p);return Q[e]||(Q[e]=f(e)),Q[e](t,n,i.ordinal,o,i.meridiem)}function g(t){switch(t){case"DDDD":return G;case"YYYY":return R;case"S":case"SS":case"SSS":case"DDD":return F;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return V;case"Z":case"ZZ":return z;case"T":return W;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return j;default:return new RegExp(t.replace("\\",""))}}function v(t,e,n,i){var r;switch(t){case"M":case"MM":n[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":for(r=0;12>r;r++)if(h().monthsParse[r].test(e)){n[1]=r;break}break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(n[2]=~~e);break;case"YY":e=~~e,n[0]=e+(e>70?1900:2e3);break;case"YYYY":n[0]=~~Math.abs(e);break;case"a":case"A":i.isPm="pm"===(e+"").toLowerCase();break;case"H":case"HH":case"h":case"hh":n[3]=~~e;break;case"m":case"mm":n[4]=~~e;break;case"s":case"ss":n[5]=~~e;break;case"S":case"SS":case"SSS":n[6]=~~(1e3*("0."+e));break;case"Z":case"ZZ":i.isUTC=!0,r=(e+"").match(X),r&&r[1]&&(i.tzh=~~r[1]),r&&r[2]&&(i.tzm=~~r[2]),r&&"+"===r[0]&&(i.tzh=-i.tzh,i.tzm=-i.tzm)}}function y(t,e){var n,i,r=[0,0,1,0,0,0,0],o={tzh:0,tzm:0},s=e.match(P);for(n=0;n<s.length;n++)i=(g(s[n]).exec(t)||[])[0],t=t.replace(g(s[n]),""),v(s[n],i,r,o);return o.isPm&&r[3]<12&&(r[3]+=12),o.isPm===!1&&12===r[3]&&(r[3]=0),r[3]+=o.tzh,r[4]+=o.tzm,c(r,o.isUTC)}function b(t,e){var i,r,o,s,a,c=t.match(O)||[],u=99;for(o=0;o<e.length;o++)s=y(t,e[o]),r=m(new n(s),e[o]).match(O)||[],a=l(c,r),u>a&&(u=a,i=s);return i}function w(e){var n,i="YYYY-MM-DDT";if(Y.exec(e)){for(n=0;4>n;n++)if(U[n][1].exec(e)){i+=U[n][0];break}return z.exec(e)?y(e,i+" Z"):y(e,i)}return new t(e)}function x(t,e,n,i,r){var o=r.relativeTime[t];return"function"==typeof o?o(e||1,!!n,t,i):o.replace(/%d/i,e||1)}function S(t,e,n){var i=A(Math.abs(t)/1e3),r=A(i/60),o=A(r/60),s=A(o/24),a=A(s/365),l=45>i&&["s",i]||1===r&&["m"]||45>r&&["mm",r]||1===o&&["h"]||22>o&&["hh",o]||1===s&&["d"]||25>=s&&["dd",s]||45>=s&&["M"]||345>s&&["MM",A(s/30)]||1===a&&["y"]||["yy",a];return l[2]=e,l[3]=t>0,l[4]=n,x.apply({},l)}function T(t,e){B.fn[t]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),this):this._d["get"+n+e]()}}function C(t){B.duration.fn[t]=function(){return this._data[t]}}function k(t,e){B.duration.fn["as"+t]=function(){return+this/e}}for(var B,_,M="1.7.0",A=Math.round,D={},L="en",E="undefined"!=typeof module&&module.exports,N="months|monthsShort|weekdays|weekdaysShort|weekdaysMin|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),I=/^\/?Date\((\-?\d+)/i,P=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?)/g,H=/(LT|LL?L?L?)/g,$=/(^\[)|(\\)|\]$/g,O=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,j=/\d\d?/,F=/\d{1,3}/,G=/\d{3}/,R=/\d{1,4}/,V=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,z=/Z|[\+\-]\d\d:?\d\d/i,W=/T/i,Y=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,q="YYYY-MM-DDTHH:mm:ssZ",U=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],X=/([\+\-]|\d\d)/gi,J="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Z={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Q={},K={M:"(a=t.month()+1)",MMM:'v("monthsShort",t.month())',MMMM:'v("months",t.month())',D:"(a=t.date())",DDD:"(a=new Date(t.year(),t.month(),t.date()),b=new Date(t.year(),0,1),a=~~(((a-b)/864e5)+1.5))",d:"(a=t.day())",dd:'v("weekdaysMin",t.day())',ddd:'v("weekdaysShort",t.day())',dddd:'v("weekdays",t.day())',w:"(a=new Date(t.year(),t.month(),t.date()-t.day()+5),b=new Date(a.getFullYear(),0,4),a=~~((a-b)/864e5/7+1.5))",YY:"p(t.year()%100,2)",YYYY:"p(t.year(),4)",a:"m(t.hours(),t.minutes(),!0)",A:"m(t.hours(),t.minutes(),!1)",H:"t.hours()",h:"t.hours()%12||12",m:"t.minutes()",s:"t.seconds()",S:"~~(t.milliseconds()/100)",SS:"p(~~(t.milliseconds()/10),2)",SSS:"p(t.milliseconds(),3)",Z:'((a=-t.zone())<0?((a=-a),"-"):"+")+p(~~(a/60),2)+":"+p(~~a%60,2)',ZZ:'((a=-t.zone())<0?((a=-a),"-"):"+")+p(~~(10*a/6),4)'},te="DDD w M D d".split(" "),ee="M D H h m s w".split(" ");te.length;)_=te.pop(),K[_+"o"]=K[_]+"+o(a)";for(;ee.length;)_=ee.pop(),K[_+_]="p("+K[_]+",2)";for(K.DDDD="p("+K.DDD+",3)",B=function(i,r){if(null===i||""===i)return null;var o,s;return B.isMoment(i)?new n(new t(+i._d),i._isUTC,i._lang):(r?o=a(r)?b(i,r):y(i,r):(s=I.exec(i),o=i===e?new t:s?new t(+s[1]):i instanceof t?i:a(i)?c(i):"string"==typeof i?w(i):new t(i)),new n(o))},B.utc=function(t,e){return a(t)?new n(c(t,!0),!0):("string"==typeof t&&!z.exec(t)&&(t+=" +0000",e&&(e+=" Z")),B(t,e).utc())},B.unix=function(t){return B(1e3*t)},B.duration=function(t,e){var n,r=B.isDuration(t),o="number"==typeof t,s=r?t._data:o?{}:t;return o&&(e?s[e]=t:s.milliseconds=t),n=new i(s),r&&(n._lang=t._lang),n},B.humanizeDuration=function(t,e,n){return B.duration(t,e===!0?null:e).humanize(e===!0?!0:n)},B.version=M,B.defaultFormat=q,B.lang=function(t,e){var n;if(!t)return L;if((e||!D[t])&&u(t,e),D[t]){for(n=0;n<N.length;n++)B[N[n]]=D[t][N[n]];B.monthsParse=D[t].monthsParse,L=t}},B.langData=h,B.isMoment=function(t){return t instanceof n},B.isDuration=function(t){return t instanceof i},B.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"}}),B.fn=n.prototype={clone:function(){return B(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?!l(this._a,(this._a[7]?B.utc(this):this).toArray()):!isNaN(this._d.getTime())},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(t){return m(this,t?t:B.defaultFormat)},add:function(t,e){var n=e?B.duration(+e,t):B.duration(t);return s(this,n,1),this},subtract:function(t,e){var n=e?B.duration(+e,t):B.duration(t);return s(this,n,-1),this},diff:function(t,e,n){var i,r=this._isUTC?B(t).utc():B(t).local(),o=6e4*(this.zone()-r.zone()),s=this._d-r._d-o,a=this.year()-r.year(),l=this.month()-r.month(),c=this.date()-r.date();return i="months"===e?12*a+l+c/30:"years"===e?a+(l+c/30)/12:"seconds"===e?s/1e3:"minutes"===e?s/6e4:"hours"===e?s/36e5:"days"===e?s/864e5:"weeks"===e?s/6048e5:s,n?i:A(i)},from:function(t,e){return B.duration(this.diff(t)).lang(this._lang).humanize(!e)},fromNow:function(t){return this.from(B(),t)},calendar:function(){var t=this.diff(B().sod(),"days",!0),e=this.lang().calendar,n=e.sameElse,i=-6>t?n:-1>t?e.lastWeek:0>t?e.lastDay:1>t?e.sameDay:2>t?e.nextDay:7>t?e.nextWeek:n;return this.format("function"==typeof i?i.apply(this):i)},isLeapYear:function(){var t=this.year();return 0===t%4&&0!==t%100||0===t%400},isDST:function(){return this.zone()<B([this.year()]).zone()||this.zone()<B([this.year(),5]).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==t?e:this.add({d:t-e})},startOf:function(t){switch(t.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return this},endOf:function(t){return this.startOf(t).add(t.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return B.utc([this.year(),this.month()+1,0]).date()},lang:function(t){return t===e?h(this):(this._lang=t,this)}},_=0;_<J.length;_++)T(J[_].toLowerCase(),J[_]);T("year","FullYear"),B.duration.fn=i.prototype={weeks:function(){return r(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*this._months},humanize:function(t){var e=+this,n=this.lang().relativeTime,i=S(e,!t,this.lang());return t&&(i=(0>=e?n.past:n.future).replace(/%s/i,i)),i},lang:B.fn.lang};for(_ in Z)Z.hasOwnProperty(_)&&(k(_,Z[_]),C(_.toLowerCase()));k("Weeks",6048e5),E&&(module.exports=B),"undefined"==typeof ender&&(this.moment=B),"function"==typeof define&&define.amd&&define("moment",[],function(){return B})}.call(this,Date),function(t){t.fn.touchwipe=function(e){var n={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:!0};return e&&t.extend(n,e),this.each(function(){function t(){this.removeEventListener("touchmove",e),r=null,s=!1}function e(e){if(n.preventDefaultEvents&&e.preventDefault(),s){var i=e.touches[0].pageX,a=e.touches[0].pageY,l=r-i,c=o-a;Math.abs(l)>=n.min_move_x?(t(),l>0?n.wipeLeft(e):n.wipeRight(e)):Math.abs(c)>=n.min_move_y&&(t(),c>0?n.wipeDown(e):n.wipeUp(e))}}function i(t){1==t.touches.length&&(r=t.touches[0].pageX,o=t.touches[0].pageY,s=!0,this.addEventListener("touchmove",e,!1))}var r,o,s=!1;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",i,!1)}),this}}(jQuery),function(t,e,n){function i(t,n){var i,r=e.createElement(t||"div");for(i in n)r[i]=n[i];return r}function r(t){for(var e=1,n=arguments.length;n>e;e++)t.appendChild(arguments[e]);return t}function o(t,e,n,i){var r=["opacity",e,~~(100*t),n,i].join("-"),o=.01+100*(n/i),s=Math.max(1-(1-t)/e*(100-o),t),a=u.substring(0,u.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return d[r]||(p.insertRule("@"+l+"keyframes "+r+"{"+"0%{opacity:"+s+"}"+o+"%{opacity:"+t+"}"+(o+.01)+"%{opacity:1}"+(o+e)%100+"%{opacity:"+t+"}"+"100%{opacity:"+s+"}"+"}",0),d[r]=1),r}function s(t,e){var i,r,o=t.style;if(o[e]!==n)return e;for(e=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<h.length;r++)if(i=h[r]+e,o[i]!==n)return i}function a(t,e){for(var n in e)t.style[s(t,n)||n]=e[n];return t}function l(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)t[r]===n&&(t[r]=i[r])}return t}function c(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}var u,h=["webkit","Moz","ms","O"],d={},p=function(){var t=i("style");return r(e.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}(),f={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto"},m=function g(t){return this.spin?(this.opts=l(t||{},g.defaults,f),void 0):new g(t)};m.defaults={},l(m.prototype,{spin:function(t){this.stop();var e,n,r=this,o=r.opts,s=r.el=a(i(0,{className:o.className}),{position:"relative",zIndex:o.zIndex}),l=o.radius+o.length+o.width;if(t&&(t.insertBefore(s,t.firstChild||null),n=c(t),e=c(s),a(s,{left:("auto"==o.left?n.x-e.x+(t.offsetWidth>>1):o.left+l)+"px",top:("auto"==o.top?n.y-e.y+(t.offsetHeight>>1):o.top+l)+"px"})),s.setAttribute("aria-role","progressbar"),r.lines(s,r.opts),!u){var h=0,d=o.fps,p=d/o.speed,f=(1-o.opacity)/(p*o.trail/100),m=p/o.lines;!function g(){h++;for(var t=o.lines;t;t--){var e=Math.max(1-(h+t*m)%p*f,o.opacity);r.opacity(s,o.lines-t,e,o)}r.timeout=r.el&&setTimeout(g,~~(1e3/d))}()}return r},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=n),this},lines:function(t,e){function n(t,n){return a(i(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*l+e.rotate)+"deg) translate("+e.radius+"px"+",0)",borderRadius:(e.width>>1)+"px"})}for(var s,l=0;l<e.lines;l++)s=a(i(),{position:"absolute",top:1+~(e.width/2)+"px",transform:e.hwaccel?"translate3d(0,0,0)":"",opacity:e.opacity,animation:u&&o(e.opacity,e.trail,l,e.lines)+" "+1/e.speed+"s linear infinite"}),e.shadow&&r(s,a(n("#000","0 0 4px #000"),{top:"2px"})),r(t,r(s,n(e.color,"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}}),!function(){function t(t,e){return i("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}var e=a(i("group"),{behavior:"url(#default#VML)"});!s(e,"transform")&&e.adj?(p.addRule(".spin-vml","behavior:url(#default#VML)"),m.prototype.lines=function(e,n){function i(){return a(t("group",{coordsize:c+" "+c,coordorigin:-l+" "+-l}),{width:c,height:c})}function o(e,o,s){r(h,r(a(i(),{rotation:360/n.lines*e+"deg",left:~~o}),r(a(t("roundrect",{arcsize:1}),{width:l,height:n.width,left:n.radius,top:-n.width>>1,filter:s}),t("fill",{color:n.color,opacity:n.opacity}),t("stroke",{opacity:0}))))}var s,l=n.length+n.width,c=2*l,u=2*-(n.width+n.length)+"px",h=a(i(),{position:"absolute",top:u,left:u});if(n.shadow)for(s=1;s<=n.lines;s++)o(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=n.lines;s++)o(s);return r(e,h)},m.prototype.opacity=function(t,e,n,i){var r=t.firstChild;i=i.shadow&&i.lines||0,r&&e+i<r.childNodes.length&&(r=r.childNodes[e+i],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=n))}):u=s(e,"animation")}(),t.Spinner=m}(window,document),function(t){t.fn.spin=function(e,n){var i={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}};if(Spinner)return this.each(function(){var r=t(this),o=r.data();o.spinner&&(o.spinner.stop(),delete o.spinner),e!==!1&&("string"==typeof e&&(e=e in i?i[e]:{},n&&(e.color=n)),o.spinner=new Spinner(t.extend({color:r.css("color")},e)).spin(this))});throw"Spinner class not available."}}(jQuery),function(t,e){function n(t){return h.PF.compile(t||"nplurals=2; plural=(n != 1);")}function i(t,e){this._key=t,this._i18n=e}var r=Array.prototype,o=Object.prototype,s=r.slice,a=o.hasOwnProperty,l=r.forEach,c={},u={forEach:function(t,e,n){var i,r,o;if(null!==t)if(l&&t.forEach===l)t.forEach(e,n);else if(t.length===+t.length){for(i=0,r=t.length;r>i;i++)if(i in t&&e.call(n,t[i],i,t)===c)return}else for(o in t)if(a.call(t,o)&&e.call(n,t[o],o,t)===c)return},extend:function(t){return this.forEach(s.call(arguments,1),function(e){for(var n in e)t[n]=e[n]}),t}},h=function(t){if(this.defaults={locale_data:{messages:{"":{domain:"messages",lang:"en",plural_forms:"nplurals=2; plural=(n != 1);"}}},domain:"messages"},this.options=u.extend({},this.defaults,t),this.textdomain(this.options.domain),t.domain&&!this.options.locale_data[this.options.domain])throw new Error("Text domain set to non-existent domain: `"+t.domain+"`")};h.context_delimiter=String.fromCharCode(4),u.extend(i.prototype,{onDomain:function(t){return this._domain=t,this},withContext:function(t){return this._context=t,this},ifPlural:function(t,e){return this._val=t,this._pkey=e,this},fetch:function(t){return"[object Array]"!={}.toString.call(t)&&(t=[].slice.call(arguments)),(t&&t.length?h.sprintf:function(t){return t})(this._i18n.dcnpgettext(this._domain,this._context,this._key,this._pkey,this._val),t)}}),u.extend(h.prototype,{translate:function(t){return new i(t,this)},textdomain:function(t){return t?(this._textdomain=t,void 0):this._textdomain},gettext:function(t){return this.dcnpgettext.call(this,e,e,t)},dgettext:function(t,n){return this.dcnpgettext.call(this,t,e,n)},dcgettext:function(t,n){return this.dcnpgettext.call(this,t,e,n)},ngettext:function(t,n,i){return this.dcnpgettext.call(this,e,e,t,n,i)},dngettext:function(t,n,i,r){return this.dcnpgettext.call(this,t,e,n,i,r)},dcngettext:function(t,n,i,r){return this.dcnpgettext.call(this,t,e,n,i,r)},pgettext:function(t,n){return this.dcnpgettext.call(this,e,t,n)},dpgettext:function(t,e,n){return this.dcnpgettext.call(this,t,e,n)},dcpgettext:function(t,e,n){return this.dcnpgettext.call(this,t,e,n)},npgettext:function(t,n,i,r){return this.dcnpgettext.call(this,e,t,n,i,r)},dnpgettext:function(t,e,n,i,r){return this.dcnpgettext.call(this,t,e,n,i,r)},dcnpgettext:function(t,e,i,r,o){r=r||i,t=t||this._textdomain,o="undefined"==typeof o?1:o;var s;if(!this.options)return s=new h,s.dcnpgettext.call(s,void 0,void 0,i,r,o);if(!this.options.locale_data)throw new Error("No locale data provided.");if(!this.options.locale_data[t])throw new Error("Domain `"+t+"` was not found.");if(!this.options.locale_data[t][""])throw new Error("No locale meta information provided.");if(!i)throw new Error("No translation key found.");if("number"!=typeof o&&(o=parseInt(o,10),isNaN(o)))throw new Error("The number that was passed in is not a number.");var a,l,c=e?e+h.context_delimiter+i:i,u=this.options.locale_data,d=u[t],p=d[""].plural_forms||(u.messages||this.defaults.locale_data.messages)[""].plural_forms,f=n(p)(o)+1;if(!d)throw new Error("No domain named `"+t+"` could be found.");return a=d[c],!a||f>=a.length?(this.options.missing_key_callback&&this.options.missing_key_callback(c),l=[null,i,r],l[n(p)(o)+1]):(l=a[f],l?l:(l=[null,i,r],l[n(p)(o)+1]))}});/**
   sprintf() for JavaScript 0.7-beta1
   http://www.diveintojavascript.com/projects/javascript-sprintf

   Copyright (c) Alexandru Marasteanu <alexaholic [at) gmail (dot] com>
   All rights reserved.

   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions are met:
       * Redistributions of source code must retain the above copyright
         notice, this list of conditions and the following disclaimer.
       * Redistributions in binary form must reproduce the above copyright
         notice, this list of conditions and the following disclaimer in the
         documentation and/or other materials provided with the distribution.
       * Neither the name of sprintf() for JavaScript nor the
         names of its contributors may be used to endorse or promote products
         derived from this software without specific prior written permission.

   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   DISCLAIMED. IN NO EVENT SHALL Alexandru Marasteanu BE LIABLE FOR ANY
   DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
   (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
   LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
   ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
   (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */
var d=function(){function t(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function e(t,e){for(var n=[];e>0;n[--e]=t);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,i){var r,o,s,a,l,c,u,h=1,p=n.length,f="",m=[];for(o=0;p>o;o++)if(f=t(n[o]),"string"===f)m.push(n[o]);else if("array"===f){if(a=n[o],a[2])for(r=i[h],s=0;s<a[2].length;s++){if(!r.hasOwnProperty(a[2][s]))throw d('[sprintf] property "%s" does not exist',a[2][s]);r=r[a[2][s]]}else r=a[1]?i[a[1]]:i[h++];if(/[^s]/.test(a[8])&&"number"!=t(r))throw d("[sprintf] expecting number but found %s",t(r));switch(("undefined"==typeof r||null===r)&&(r=""),a[8]){case"b":r=r.toString(2);break;case"c":r=String.fromCharCode(r);break;case"d":r=parseInt(r,10);break;case"e":r=a[7]?r.toExponential(a[7]):r.toExponential();break;case"f":r=a[7]?parseFloat(r).toFixed(a[7]):parseFloat(r);break;case"o":r=r.toString(8);break;case"s":r=(r=String(r))&&a[7]?r.substring(0,a[7]):r;break;case"u":r=Math.abs(r);break;case"x":r=r.toString(16);break;case"X":r=r.toString(16).toUpperCase()}r=/[def]/.test(a[8])&&a[3]&&r>=0?"+"+r:r,c=a[4]?"0"==a[4]?"0":a[4].charAt(1):" ",u=a[6]-String(r).length,l=a[6]?e(c,u):"",m.push(a[5]?r+l:l+r)}return m.join("")},n.cache={},n.parse=function(t){for(var e=t,n=[],i=[],r=0;e;){if(null!==(n=/^[^\x25]+/.exec(e)))i.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(e)))i.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)))throw"[sprintf] huh?";if(n[2]){r|=1;var o=[],s=n[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(s)))throw"[sprintf] huh?";for(o.push(a[1]);""!==(s=s.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(s)))o.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(s)))throw"[sprintf] huh?";o.push(a[1])}n[2]=o}else r|=2;if(3===r)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";i.push(n)}e=e.substring(n[0].length)}return i},n}(),p=function(t,e){return e.unshift(t),d.apply(null,e)};h.parse_plural=function(t,e){return t=t.replace(/n/g,e),h.parse_expression(t)},h.sprintf=function(t,e){return"[object Array]"=={}.toString.call(e)?p(t,[].slice.call(e)):d.apply(this,[].slice.call(arguments))},h.prototype.sprintf=function(){return h.sprintf.apply(this,arguments)},h.PF={},h.PF.parse=function(t){var e=h.PF.extractPluralExpr(t);return h.PF.parser.parse.call(h.PF.parser,e)},h.PF.compile=function(t){function e(t){return t===!0?1:t?t:0}var n=h.PF.parse(t);return function(t){return e(h.PF.interpreter(n)(t))}},h.PF.interpreter=function(t){return function(e){switch(t.type){case"GROUP":return h.PF.interpreter(t.expr)(e);case"TERNARY":return h.PF.interpreter(t.expr)(e)?h.PF.interpreter(t.truthy)(e):h.PF.interpreter(t.falsey)(e);case"OR":return h.PF.interpreter(t.left)(e)||h.PF.interpreter(t.right)(e);case"AND":return h.PF.interpreter(t.left)(e)&&h.PF.interpreter(t.right)(e);case"LT":return h.PF.interpreter(t.left)(e)<h.PF.interpreter(t.right)(e);case"GT":return h.PF.interpreter(t.left)(e)>h.PF.interpreter(t.right)(e);case"LTE":return h.PF.interpreter(t.left)(e)<=h.PF.interpreter(t.right)(e);case"GTE":return h.PF.interpreter(t.left)(e)>=h.PF.interpreter(t.right)(e);case"EQ":return h.PF.interpreter(t.left)(e)==h.PF.interpreter(t.right)(e);case"NEQ":return h.PF.interpreter(t.left)(e)!=h.PF.interpreter(t.right)(e);case"MOD":return h.PF.interpreter(t.left)(e)%h.PF.interpreter(t.right)(e);case"VAR":return e;case"NUM":return t.val;default:throw new Error("Invalid Token found.")}}},h.PF.extractPluralExpr=function(t){t=t.replace(/^\s\s*/,"").replace(/\s\s*$/,""),/;\s*$/.test(t)||(t=t.concat(";"));var e,n=/nplurals\=(\d+);/,i=/plural\=(.*);/,r=t.match(n),o={};if(!(r.length>1))throw new Error("nplurals not found in plural_forms string: "+t);if(o.nplurals=r[1],t=t.replace(n,""),e=t.match(i),!(e&&e.length>1))throw new Error("`plural` expression not found: "+t);return e[1]},h.PF.parser=function(){var t={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"?":6,":":7,"||":8,"&&":9,"<":10,"<=":11,">":12,">=":13,"!=":14,"==":15,"%":16,"(":17,")":18,n:19,NUMBER:20,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"?",7:":",8:"||",9:"&&",10:"<",11:"<=",12:">",13:">=",14:"!=",15:"==",16:"%",17:"(",18:")",19:"n",20:"NUMBER"},productions_:[0,[3,2],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,1],[4,1]],performAction:function(t,e,n,i,r,o){var s=o.length-1;switch(r){case 1:return{type:"GROUP",expr:o[s-1]};case 2:this.$={type:"TERNARY",expr:o[s-4],truthy:o[s-2],falsey:o[s]};break;case 3:this.$={type:"OR",left:o[s-2],right:o[s]};break;case 4:this.$={type:"AND",left:o[s-2],right:o[s]};break;case 5:this.$={type:"LT",left:o[s-2],right:o[s]};break;case 6:this.$={type:"LTE",left:o[s-2],right:o[s]};break;case 7:this.$={type:"GT",left:o[s-2],right:o[s]};break;case 8:this.$={type:"GTE",left:o[s-2],right:o[s]};break;case 9:this.$={type:"NEQ",left:o[s-2],right:o[s]};break;case 10:this.$={type:"EQ",left:o[s-2],right:o[s]};break;case 11:this.$={type:"MOD",left:o[s-2],right:o[s]};break;case 12:this.$={type:"GROUP",expr:o[s-1]};break;case 13:this.$={type:"VAR"};break;case 14:this.$={type:"NUM",val:Number(t)}}},table:[{3:1,4:2,17:[1,3],19:[1,4],20:[1,5]},{1:[3]},{5:[1,6],6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{4:17,17:[1,3],19:[1,4],20:[1,5]},{5:[2,13],6:[2,13],7:[2,13],8:[2,13],9:[2,13],10:[2,13],11:[2,13],12:[2,13],13:[2,13],14:[2,13],15:[2,13],16:[2,13],18:[2,13]},{5:[2,14],6:[2,14],7:[2,14],8:[2,14],9:[2,14],10:[2,14],11:[2,14],12:[2,14],13:[2,14],14:[2,14],15:[2,14],16:[2,14],18:[2,14]},{1:[2,1]},{4:18,17:[1,3],19:[1,4],20:[1,5]},{4:19,17:[1,3],19:[1,4],20:[1,5]},{4:20,17:[1,3],19:[1,4],20:[1,5]},{4:21,17:[1,3],19:[1,4],20:[1,5]},{4:22,17:[1,3],19:[1,4],20:[1,5]},{4:23,17:[1,3],19:[1,4],20:[1,5]},{4:24,17:[1,3],19:[1,4],20:[1,5]},{4:25,17:[1,3],19:[1,4],20:[1,5]},{4:26,17:[1,3],19:[1,4],20:[1,5]},{4:27,17:[1,3],19:[1,4],20:[1,5]},{6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[1,28]},{6:[1,7],7:[1,29],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{5:[2,3],6:[2,3],7:[2,3],8:[2,3],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,3]},{5:[2,4],6:[2,4],7:[2,4],8:[2,4],9:[2,4],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,4]},{5:[2,5],6:[2,5],7:[2,5],8:[2,5],9:[2,5],10:[2,5],11:[2,5],12:[2,5],13:[2,5],14:[2,5],15:[2,5],16:[1,16],18:[2,5]},{5:[2,6],6:[2,6],7:[2,6],8:[2,6],9:[2,6],10:[2,6],11:[2,6],12:[2,6],13:[2,6],14:[2,6],15:[2,6],16:[1,16],18:[2,6]},{5:[2,7],6:[2,7],7:[2,7],8:[2,7],9:[2,7],10:[2,7],11:[2,7],12:[2,7],13:[2,7],14:[2,7],15:[2,7],16:[1,16],18:[2,7]},{5:[2,8],6:[2,8],7:[2,8],8:[2,8],9:[2,8],10:[2,8],11:[2,8],12:[2,8],13:[2,8],14:[2,8],15:[2,8],16:[1,16],18:[2,8]},{5:[2,9],6:[2,9],7:[2,9],8:[2,9],9:[2,9],10:[2,9],11:[2,9],12:[2,9],13:[2,9],14:[2,9],15:[2,9],16:[1,16],18:[2,9]},{5:[2,10],6:[2,10],7:[2,10],8:[2,10],9:[2,10],10:[2,10],11:[2,10],12:[2,10],13:[2,10],14:[2,10],15:[2,10],16:[1,16],18:[2,10]},{5:[2,11],6:[2,11],7:[2,11],8:[2,11],9:[2,11],10:[2,11],11:[2,11],12:[2,11],13:[2,11],14:[2,11],15:[2,11],16:[2,11],18:[2,11]},{5:[2,12],6:[2,12],7:[2,12],8:[2,12],9:[2,12],10:[2,12],11:[2,12],12:[2,12],13:[2,12],14:[2,12],15:[2,12],16:[2,12],18:[2,12]},{4:30,17:[1,3],19:[1,4],20:[1,5]},{5:[2,2],6:[1,7],7:[2,2],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,2]}],defaultActions:{6:[2,1]},parseError:function(t){throw new Error(t)},parse:function(t){function e(t){r.length=r.length-2*t,o.length=o.length-t,s.length=s.length-t}function n(){var t;return t=i.lexer.lex()||1,"number"!=typeof t&&(t=i.symbols_[t]||t),t}var i=this,r=[0],o=[null],s=[],a=this.table,l="",c=0,u=0,h=0,d=2,p=1;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var f=this.lexer.yylloc;s.push(f),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var m,g,v,y,b,w,x,S,T,C={};;){if(v=r[r.length-1],this.defaultActions[v]?y=this.defaultActions[v]:(null==m&&(m=n()),y=a[v]&&a[v][m]),"undefined"==typeof y||!y.length||!y[0]){if(!h){T=[];for(w in a[v])this.terminals_[w]&&w>2&&T.push("'"+this.terminals_[w]+"'");var k="";k=this.lexer.showPosition?"Parse error on line "+(c+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+T.join(", ")+", got '"+this.terminals_[m]+"'":"Parse error on line "+(c+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[m]||m,line:this.lexer.yylineno,loc:f,expected:T})}if(3==h){if(m==p)throw new Error(k||"Parsing halted.");u=this.lexer.yyleng,l=this.lexer.yytext,c=this.lexer.yylineno,f=this.lexer.yylloc,m=n()}for(;;){if(d.toString()in a[v])break;if(0==v)throw new Error(k||"Parsing halted.");e(1),v=r[r.length-1]}g=m,m=d,v=r[r.length-1],y=a[v]&&a[v][d],h=3}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+m);switch(y[0]){case 1:r.push(m),o.push(this.lexer.yytext),s.push(this.lexer.yylloc),r.push(y[1]),m=null,g?(m=g,g=null):(u=this.lexer.yyleng,l=this.lexer.yytext,c=this.lexer.yylineno,f=this.lexer.yylloc,h>0&&h--);break;case 2:if(x=this.productions_[y[1]][1],C.$=o[o.length-x],C._$={first_line:s[s.length-(x||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(x||1)].first_column,last_column:s[s.length-1].last_column},b=this.performAction.call(C,l,u,c,this.yy,y[1],o,s),"undefined"!=typeof b)return b;x&&(r=r.slice(0,2*-1*x),o=o.slice(0,-1*x),s=s.slice(0,-1*x)),r.push(this.productions_[y[1]][0]),o.push(C.$),s.push(C._$),S=a[r[r.length-2]][r[r.length-1]],r.push(S);break;case 3:return!0}}return!0}},e=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parseError)throw new Error(t);this.yy.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.match+=t,this.matched+=t;var e=t.match(/\n/);return e&&this.yylineno++,this._input=this._input.slice(1),t},unput:function(t){return this._input=t+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),r=0;r<i.length;r++)if(e=this._input.match(this.rules[i[r]]))return n=e[0].match(/\n.*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-1:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,i[r],this.conditionStack[this.conditionStack.length-1]),t?t:void 0;return""===this._input?this.EOF:(this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno}),void 0)},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.performAction=function(t,e,n,i){switch(n){case 0:break;case 1:return 20;case 2:return 19;case 3:return 8;case 4:return 9;case 5:return 6;case 6:return 7;case 7:return 11;case 8:return 13;case 9:return 10;case 10:return 12;case 11:return 14;case 12:return 15;case 13:return 16;case 14:return 17;case 15:return 18;case 16:return 5;case 17:return"INVALID"}},t.rules=[/^\s+/,/^[0-9]+(\.[0-9]+)?\b/,/^n\b/,/^\|\|/,/^&&/,/^\?/,/^:/,/^<=/,/^>=/,/^</,/^>/,/^!=/,/^==/,/^%/,/^\(/,/^\)/,/^$/,/^./],t.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],inclusive:!0}},t}();return t.lexer=e,t}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports.Jed=h):("function"==typeof define&&define.amd&&define("jed",function(){return h}),t.Jed=h)}(this),/*!
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){return t}function n(t){return decodeURIComponent(t.replace(r," "))}function i(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return o.json?JSON.parse(t):t}catch(e){}}var r=/\+/g,o=t.cookie=function(r,s,a){if(void 0!==s){if(a=t.extend({},o.defaults,a),"number"==typeof a.expires){var l=a.expires,c=a.expires=new Date;c.setDate(c.getDate()+l)}return s=o.json?JSON.stringify(s):String(s),document.cookie=[o.raw?r:encodeURIComponent(r),"=",o.raw?s:encodeURIComponent(s),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}for(var u=o.raw?e:n,h=document.cookie.split("; "),d=r?void 0:{},p=0,f=h.length;f>p;p++){var m=h[p].split("="),g=u(m.shift()),v=u(m.join("="));if(r&&r===g){d=i(v);break}r||(d[g]=i(v))}return d};o.defaults={},t.removeCookie=function(e,n){return void 0!==t.cookie(e)?(t.cookie(e,"",t.extend({},n,{expires:-1})),!0):!1}}),function(){!function(t){return t.fn.graphicalSelect=function(){return this.each(function(){var e,n,i,r;return n=t(this),n.is("select")?(r=t("<div>",{width:n.outerWidth(),"class":"graphical-select",tabindex:"-1",id:""+t(n).attr("id")+"-graphical-select",html:'<div class="select-box"></div>'}),e=t("<ul>",{"class":"drop-down"}),i=r.find(".select-box"),n.find("option").each(function(r){var o,s,a,l;return s=t(this),s.data("skip")?!0:(l=s.data("html-text")?s.data("html-text"):s.text(),o=t("<li>",{html:l}),a=0===r%2?"even":"odd",o.addClass(a),s.is(":selected")&&(o.addClass("active selection"),i.html(s.text())),o.click(function(){return e.find(".active").removeClass("active"),e.find(".selection").removeClass("selection"),o.addClass("active selection"),i.html(s.text()),e.trigger("hide"),n.val(s.val()).trigger("change"),!1}),e.append(o))}),r.append(e.hide()),n.hide().after(r),e.bind("show",function(){return e.is(":animated")?!1:(i.addClass("expanded"),r.focus(),e.slideDown())}).bind("hide",function(){return e.is(":animated")?!1:(i.removeClass("expanded"),e.slideUp())}).bind("toggle",function(){return i.hasClass("expanded")?e.trigger("hide"):e.trigger("show")}),r.on("keydown",function(n){var r,o;return n.stopImmediatePropagation(),n.preventDefault(),i.hasClass("expanded")&&(r=n.which,r===t.ui.keyCode.ESCAPE?(e.find(".active").removeClass("active"),e.find(".selection").addClass("active"),e.trigger("hide")):r===t.ui.keyCode.DOWN?(o=e.find("li.active").removeClass("active"),o.length>0&&o.next().length>0?o.next().addClass("active"):e.children().first().addClass("active")):r===t.ui.keyCode.UP?(o=e.find("li.active").removeClass("active"),o.length>0&&o.prev().length>0?o.prev().addClass("active"):e.children().last().addClass("active")):r===t.ui.keyCode.ENTER&&(o=e.find("li.active"),0===o.length&&(o=e.children().first().addClass("active")),o.trigger("click"))),!1}),i.click(function(){return e.trigger("toggle"),!1}),t(document).click(function(){return e.trigger("hide")})):console.log("graphicalSelect can only be applied to select boxes!")})}}(jQuery)}.call(this),function(){var t,e;window.BspSoccer={Collections:{},Helpers:{},Models:{},Routers:{},Views:{},Config:{units:"percentage",decimalCap:1e3,liveBuffer:3e5,liveInterval:2e4,kickoffInterval:6e4,statusRotationInterval:3e3,updateVisualizationInterval:1e3,gameTimeDelayTolerance:3,awayTeamColor:"#E8964B",homeTeamColor:"#4EA8BF",secondaryColor:"#2B2F39",tertiaryColor:"#D2C05D",redCardColor:"#C9837B",yellowCardColor:"#D2C463",oddsUpColor:"#26BD26",oddsDownColor:"#BD2626",oddsSameColor:"#FFFFFF",flashTime:500,totalFlashes:1},Globals:{timestamp:null}},$(window).load(function(){return BspSoccer.Config.is_mobile||BspSoccer.Config.isTablet?setTimeout(function(){return window.scrollTo(0,1)},100):void 0}),$("html").click(function(){return $(".sub-menu").hide()}),(e=function(){return $(document).ready(function(){var t,e,n,i;t=function(){var t;return t=BspSoccer.Helpers.extract_language(),BspSoccer.Config.languages.hasOwnProperty(t)&&BspSoccer.Config.user_language!==t?BspSoccer.Globals.headerView.changeLanguage(t):void 0},BspSoccer.Globals.i18n=new Jed({locale_data:BspSoccer.Config.locale_data,domain:"messages"}),BspSoccer.Config.isTablet=!1,BspSoccer.Config.isTablet&&$("head link").each(function(){return $(this).attr("href").match(/tablet/)?$(this).attr("media","all"):void 0}),window.location&&window.location.href&&(n=window.location.href.indexOf("?"),-1!==n&&(i=window.location.href.substr(n+1),e=BspSoccer.Helpers.deparam(i),e.refr&&(BspSoccer.Config.refrCode=e.refr),!e.mobile_header||"false"!==e.mobile_header&&"no"!==e.mobile_header||(BspSoccer.Config.hideMobileHeader=!0),null!=e.language_select&&(BspSoccer.Config.language_select="false"!==e.language_select))),BspSoccer.primeCache(),$.get("/users/current.json",function(t){null!=t&&(BspSoccer.Config.user=t),BspSoccer.Helpers.trackCustomVars()}),BspSoccer.Globals.headerView=new BspSoccer.Views.Header,BspSoccer.Globals.footerView=new BspSoccer.Views.Footer,BspSoccer.Globals.helpView=new BspSoccer.Views.Help,BspSoccer.Globals.feedbackView=new BspSoccer.Views.FeedbackModal({el:"body"}),BspSoccer.Globals.termsView=new BspSoccer.Views.TermsModal({el:"body"}),BspSoccer.Globals.paywallView=new BspSoccer.Views.Paywall,BspSoccer.Config.is_mobile&&(BspSoccer.Globals.HistoryManager=new BspSoccer.Views.HistoryManager,$(window).on("popstate",function(t){var e;return t.stopImmediatePropagation(),e=Backbone.history.getFragment(),BspSoccer.Globals.HistoryManager.canGoBackInViewStack()?BspSoccer.Globals.HistoryManager.goToPreviousView():Backbone.history.navigate(e,{trigger:!0,replace:!0}),!1})),$.ajaxSetup({statusCode:{401:function(t){var e,n;console.log("Not logged in!",t);try{n=JSON.parse(t.responseText).url}catch(i){e=i,n="/login"}return BspSoccer.Config.is_mobile?window.location=n:BspSoccer.Globals.paywallView.render({display:!0,linkToUrl:n}),!1},402:function(t){var e,n;console.log("Not a subscriber",t);try{n=JSON.parse(t.responseText).url}catch(i){e=i,n="/login"}return BspSoccer.Globals.paywallView.render({display:!0,linkToUrl:n}),!1}}}),this.matchupsRouter=new BspSoccer.Routers.Matchups,Backbone.history.start({pushState:!0,root:"/"})?t():(t(),Backbone.history.navigate(""+BspSoccer.Config.user_language+"/matchups/",{trigger:!0,replace:!0}))})})(),window.console||(t=window.console={},t.log=t.error=t.info=t.debug=t.warn=t.trace=t.dir=t.dirxml=t.group=t.groupEnd=t.time=t.timeEnd=t.assert=t.profile=t.profileEnd=function(){return null})}.call(this),function(){BspSoccer.Models.CompetitionLevel=Backbone.Model.extend({initialize:function(){},toViewJSON:function(){return this.toJSON()}})}.call(this),function(){BspSoccer.Models.GameLog=Backbone.Model.extend({initialize:function(t){return t.gameDate&&this.set("gameDate",moment.utc(t.gameDate)),this},isAway:function(){return this.get("away")},opponentName:function(){return this.get("oppTeamDescriptor").name},opponentAbbrev:function(){return this.get("oppTeamDescriptor").nameAbbreviation},opponentSummary:function(){return this.isAway()?BspSoccer.Globals.i18n.translate("hist-opp-away").fetch(BspSoccer.Helpers.translate_team(this.opponentName(),this.opponentAbbrev())):BspSoccer.Globals.i18n.translate("hist-opp-home").fetch(BspSoccer.Helpers.translate_team(this.opponentName(),this.opponentAbbrev()))},homeTeamAbbrev:function(){return this.get("away")?this.get("oppTeamDescriptor").nameAbbreviation:this.get("teamDescriptor").nameAbbreviation},homeTeamName:function(){return this.get("away")?this.get("oppTeamDescriptor").name:this.get("teamDescriptor").name},result:function(t){var e;return this.get("finished")?(e=this.get("score")>this.get("oppScore")?BspSoccer.Globals.i18n.translate("W").fetch():this.get("score")<this.get("oppScore")?BspSoccer.Globals.i18n.translate("L").fetch():this.get("score")===this.get("oppScore")?BspSoccer.Globals.i18n.translate("D").fetch():"",t?e:this.get("away")?""+e+", "+this.get("oppScore")+" - "+this.get("score"):""+e+", "+this.get("score")+" - "+this.get("oppScore")):"PPD"},lookupStat:function(t){var e;return e=this.get?_.find(this.get("statIdsAndValues"),function(e){return e.id===t}):_.find(this.statIdsAndValues,function(e){return e.id===t}),e||console.log("lookupStat("+t+") was not found:",e),e},statValue:function(t){var e;return e=this.lookupStat(t),e?e.value:null},toViewJSON:function(){return _.extend(this.toJSON(),{isAway:this.isAway(),opponentName:this.opponentName(),opponentAbbrev:this.opponentAbbrev(),opponentSummary:this.opponentSummary(),homeTeamAbbrev:this.homeTeamAbbrev(),homeTeamName:this.homeTeamName(),result:this.result(),resultHtmlClass:"result-"+this.result(!0).toLowerCase(),statValue:_.bind(this.statValue,this)})}})}.call(this),function(){BspSoccer.Models.Matchup=Backbone.Model.extend({idAttribute:"gameId",initialize:function(t){return t.gameDateTime&&this.set({gameDateTime:moment.utc(t.gameDateTime)}),this},isPreMatch:function(){return this.get("gameStatusId")===BspSoccer.Helpers.GameStatus.PRE_MATCH},isPostponed:function(){return this.get("gameStatusId")===BspSoccer.Helpers.GameStatus.POSTPONED},isLive:function(){return this.get("gameStatusId")!==BspSoccer.Helpers.GameStatus.UNKNOWN&&this.get("gameStatusId")!==BspSoccer.Helpers.GameStatus.PRE_MATCH&&this.get("gameStatusId")!==BspSoccer.Helpers.GameStatus.FULL_TIME&&this.get("gameStatusId")!==BspSoccer.Helpers.GameStatus.POSTPONED},isAnalysisComplete:function(){return this.isLive()&&this.gameTime>93},isToday:function(){return this.get("gameStatusId")===BspSoccer.Helpers.GameStatus.PRE_MATCH&&0===moment(this.get("gameDateTime")).diff(moment(),"days")},isFirstHalf:function(){return this.get("gameStatusId")===BspSoccer.Helpers.GameStatus.FIRST_HALF||this.get("gameStatusId")===BspSoccer.Helpers.GameStatus.EXTRA_FIRST_HALF},isSecondHalf:function(){return this.get("gameStatusId")===BspSoccer.Helpers.GameStatus.SECOND_HALF||this.get("gameStatusId")===BspSoccer.Helpers.GameStatus.EXTRA_SECOND_HALF},isHalfTime:function(){return this.get("gameStatusId")===BspSoccer.Helpers.GameStatus.HALF_TIME},isShootout:function(){return this.get("gameStatusId")===BspSoccer.Helpers.GameStatus.SHOOTOUT},isGameComplete:function(){return this.get("gameStatusId")===BspSoccer.Helpers.GameStatus.FULL_TIME||this.get("isGameComplete")},isChampionsLeague:function(){return null!=this.competitionLevelId()&&5===this.competitionLevelId()},isWorldCup:function(){return null!=this.competitionLevelId()&&4===this.competitionLevelId()},competitionLevelId:function(){var t,e,n;return this.get("competitionLevel")||(null!=(t=this.get("homeTeamScoreboardInfo"))?null!=(e=t.teamDescriptor)?null!=(n=e.competitionLevelDescriptor)?n.id:void 0:void 0:void 0)},awayTeamName:function(){return this.get("awayTeamScoreboardInfo").teamDescriptor.name},homeTeamName:function(){return this.get("homeTeamScoreboardInfo").teamDescriptor.name},awayTeamAbbrev:function(){return this.get("awayTeamScoreboardInfo").teamDescriptor.nameAbbreviation},homeTeamAbbrev:function(){return this.get("homeTeamScoreboardInfo").teamDescriptor.nameAbbreviation},awayTeamScore:function(){return this.get("awayTeamScoreboardInfo").score},homeTeamScore:function(){return this.get("homeTeamScoreboardInfo").score},gameStatusId:function(){return this.get("gameStatusId")},gameTime:function(){return this.get("gameTime")},halfTime:function(){return this.isFirstHalf()||this.isHalfTime()?Math.max(45,this.gameTime()):45},gameClock:function(t){var e,n,i,r;return null==t?"---":(i=this.isFirstHalf()?0:45,r=moment().add("seconds",t).diff(moment(this.get("gameStatusTimeStamp")),"seconds"),e=i+Math.floor(r/60),e>=this.gameTime()+BspSoccer.Config.gameTimeDelayTolerance?""+this.gameTime()+"'":(n=r%60,e=10>e?"0"+e:""+e,n=10>n?"0"+n:""+n,""+e+":"+n))},kickoffClock:function(t){var e,n,i,r;return null==t?"---":moment(this.get("gameDateTime")).valueOf()>moment().add("seconds",t).valueOf()?(r=moment(this.get("gameDateTime")).diff(moment().add("seconds",t),"minutes"),e=Math.floor(r/1440)+"",r%=1440,n=Math.floor(r/60)+"",r%=60,i=r+"",10>e&&(e="0"+e),10>n&&(n="0"+n),10>i&&(i="0"+i),""+e+":"+n+":"+i):"00:00:00"},maxGameTime:function(){return Math.max(90,this.gameTime())},gameDateTime:function(){return this.get("gameDateTime")},toViewJSON:function(){return _.extend(this.toJSON(),{id:this.get("gameId"),isPreMatch:this.isPreMatch(),isPostponed:this.isPostponed(),isLive:this.isLive(),isAnalysisComplete:this.isAnalysisComplete(),isToday:this.isToday(),isFirstHalf:this.isFirstHalf(),isSecondHalf:this.isSecondHalf(),isHalfTime:this.isHalfTime(),isShootout:this.isShootout(),isGameComplete:this.isGameComplete(),isChampionsLeague:this.isChampionsLeague(),isWorldCup:this.isWorldCup(),awayTeamName:this.awayTeamName(),homeTeamName:this.homeTeamName(),awayTeamAbbrev:this.awayTeamAbbrev(),homeTeamAbbrev:this.homeTeamAbbrev(),awayTeamScore:this.awayTeamScore(),homeTeamScore:this.homeTeamScore(),competitionLevelId:this.competitionLevelId(),gameStatusId:this.gameStatusId(),gameDateTime:this.gameDateTime(),gameTime:this.gameTime(),halfTime:this.halfTime(),maxGameTime:this.maxGameTime()})}})}.call(this),function(){BspSoccer.Collections.CompetitionLevels=Backbone.Collection.extend({model:BspSoccer.Models.CompetitionLevel,toViewJSON:function(){return this.map(function(t){return t.toViewJSON()})}})}.call(this),function(){BspSoccer.Collections.GameLogs=Backbone.Collection.extend({model:BspSoccer.Models.GameLog,statValues:function(t){return this.map(function(e){return e.statValue(t)})},opponentSummaries:function(){return this.map(function(t){return t.opponentSummary()})},dateSummaries:function(){return this.map(function(t){return moment.utc(t.get("gameDate")).format("DD/MM/YY")})},opponentPossessionValues:function(){return _.map(this.possessionValues(),function(t){return 100-t})},possessionAverage:function(){var t,e,n;return e=this.possessionValues().length,e&&e>0?(n=_.reduce(this.possessionValues(),function(t,e){return t+e},0),t=n/e):null},opponentPossessionAverage:function(){var t;return t=this.possessionAverage(),t?100-t:null},goalsValues:function(){return this.statValues(3)},shotsOffTargetValues:function(){return this.statValues(10008)},opponentShotsOffTargetValues:function(){return this.statValues(30008)},savesValues:function(){return this.statValues(10013)},opponentSavesValues:function(){return this.statValues(30013)},goalsAllowedValues:function(){return this.statValues(9)},cornersValues:function(){return this.statValues(10004)},shotsFromCornersValues:function(){return this.statValues(10009)},aerialsWonValues:function(){return this.statValues(10030)},finalThirdPassesValues:function(){return this.statValues(10021)},throughBallsValues:function(){return this.statValues(10029)},totalKeyPassesPlusAssistsValues:function(){return this.statValues(10028)},possessionValues:function(){return this.statValues(19)},crossesValues:function(){return this.statValues(10005)},opponentCrossesBlockedValues:function(){return this.statValues(30006)},redCardsValues:function(){return this.statValues(10002)},yellowCardsValues:function(){return this.statValues(10003)},foulsValues:function(){return this.statValues(10010)},toViewJSON:function(){return this.map(function(t){return t.toViewJSON()})}})}.call(this),function(){BspSoccer.Collections.Matchups=Backbone.Collection.extend({model:BspSoccer.Models.Matchup,filteredMatchupsByDay:function(t,e){var n,i;return null==this.models?this:(n=BspSoccer.Helpers.pruneMatchups(this.models,t,e),i=_.groupBy(n,function(t){var e;return t.isLive()?"live":null!=(e=t.get("gameDateTime"))?e.local().format("ddd, D MMMM YYYY"):void 0}))},toViewJSON:function(){return this.map(function(t){return t.toViewJSON()})}})}.call(this),function(){var t,e,n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=function(t){function n(){return e=n.__super__.constructor.apply(this,arguments)}return i(n,t),n.send=function(t,e){var n;return n=$.Deferred(),this.trigger(t,e,function(t,e){return t?n.reject(t):n.resolve(e)}),n.promise()},n}(Backbone.Events),BspSoccer.Broadcaster=t,function(){var t,e,n,i,r,o,s,a,l,c,u,h,d,p,f;a={},BspSoccer.primeCache=function(){var e;BspSoccer.BootstrappedData&&(BspSoccer.BootstrappedData.MatchupProjections&&_.each(BspSoccer.BootstrappedData.MatchupProjections,function(t,e){var n;return n=c(e),a[n]=t}),BspSoccer.BootstrappedData.MatchupAnalysis&&_.each(BspSoccer.BootstrappedData.MatchupAnalysis,function(t,e){var n;return n=l(e),a[n]=t}),BspSoccer.BootstrappedData.Matchups&&_.each(BspSoccer.BootstrappedData.Matchups,function(t,e){var n;return n=h({date:e,competitionLevel:t.competitionLevel}),a[n]=t.matchups,_.each(t.matchups,function(t){return n=u(t.gameId),a[n]=t,t.isGameOfTheWeek?(n=u("motw",{date:moment.utc(t.gameDateTime).format("YYYYMMDD")}),a[n]=t):void 0})}),BspSoccer.BootstrappedData.MatchupOfTheWeek&&_.each(BspSoccer.BootstrappedData.MatchupOfTheWeek,function(t,e){var n;return t.isGameOfTheWeek?(n=u("motw",{date:e}),a[n]=t):void 0}),BspSoccer.BootstrappedData.AllCompetitionLevels&&(e=t(),a[e]=BspSoccer.BootstrappedData.AllCompetitionLevels))},c=function(t,e){return"/matchups/"+t+"/projections.json"+d(e)},l=function(t){return"/matchups/"+t+"/analysis.json"},u=function(t,e){return"/matchups/"+t+".json"+d(e)},h=function(t){return"/matchups.json"+d(t)},t=function(){return"/competition_levels.json"},f=function(){return"/timestamp.json"},d=function(t){var e,n;return n={},t&&(t.date&&(n.date=t.date),t.competitionLevel&&(n.competition_level=t.competitionLevel),null!=t.gameStatus&&(n.game_status=t.gameStatus),null!=t.gameTime&&(n.game_time=t.gameTime),null!=t.isLive&&(n.live=t.isLive)),BspSoccer.Config.refrCode&&(n.refr=BspSoccer.Config.refrCode),e=_.size(n)>0?"?"+$.param(n):""},p=function(t,e,n,i){var r;null==n&&(n=!0),null==i&&(i=!0),i&&null!=a[t]?(r=_.clone(a[t]),e(null,r)):$.ajax({url:t,cache:n,dataType:"json",success:function(n,i){var r;return"success"!==i?(r=i,e(r,null)):(a[t]=n,e(null,n))},error:function(t){return e(t,null)}})},i=function(t,e){var n;n=l(t.matchupId),p(n,e)},r=function(t,e){var n,i;i=c(t.matchupId,t.params),n=!0,null!=t.params&&null!=t.params.isLive&&t.params.isLive&&(n=!1),p(i,e,!1,n)},o=function(t,e){var n,i;i=h(t),n=!1,p(i,e,!1,n)},n=function(t,e){var n;n=u(t.matchupId,t.params),p(n,e)},e=function(e,n){var i;i=t(),p(i,n,!1)},s=function(t,e){var n;n=f(),p(n,e,!1,!1)},BspSoccer.Broadcaster.on("load:matchupAnalysis",i),BspSoccer.Broadcaster.on("load:matchupProjections",r),BspSoccer.Broadcaster.on("load:matchups",o),BspSoccer.Broadcaster.on("load:matchup",n),BspSoccer.Broadcaster.on("load:competitionLevels",e),BspSoccer.Broadcaster.on("load:timestamp",s)}()}.call(this),function(){var t,e,n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=function(t){function n(){return e=n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.events={"click a.prev-date":"handleDateNav","click a.next-date":"handleDateNav"},n.prototype.template=function(t){return JST["templates/components/date_navigator_view"](t)},n.prototype.initialize=function(t){return this.delegate=t.delegate},n.prototype.render=function(){return this.$el.html(this.template({delegate:this.delegate,hasMorePast:this.hasMorePast,hasMoreFuture:this.hasMoreFuture})),this.delegateEvents()},n.prototype.handleDateNav=function(t){var e,n;return $(t.currentTarget).is(".prev-date")?(e=this.hasMorePast,n=-7):$(t.currentTarget).is(".next-date")&&(e=this.hasMoreFuture,n=7),e()&&(this.delegate.normalizeDates(this.delegate.currentDate.add("days",n)),this.delegate.clearLiveInterval(),this.delegate.retrieveMatchups()),BspSoccer.Helpers.trackEvent("Scoreboard","Change Date",moment(this.delegate.currentDate).format("LL")),!1},n.prototype.hasMorePast=function(){var t,e;return t=BspSoccer.Config.end_past_date,""===t?!0:(e=moment(t,"YYYY-MM-DD").utc().valueOf(),e<this.delegate.startDate.valueOf())},n.prototype.hasMoreFuture=function(){var t,e,n;return t=BspSoccer.Config.end_future_date,""===t?!0:(e=moment(t,"YYYY-MM-DD").utc().valueOf(),n=moment(this.delegate.startDate).utc().add("days",7).valueOf(),e>n)},n}(Backbone.View),BspSoccer.Views.DateNavigator=t}.call(this),function(){BspSoccer.Views.Footer=Backbone.View.extend({className:"footer-view",template:JST["templates/footer_view"],events:{"click #terms-link":"renderTerms"},initialize:function(){this.container=$("#footer"),this.container.html(this.$el),this.render()},render:function(){return this.$el.html(this.template),this},renderTerms:function(){return BspSoccer.Config.is_mobile?window.open($("#terms-link").attr("href"),"_blank"):(BspSoccer.Globals.termsView.render(),$("iframe").attr("src",$("#terms-link").attr("href")))}})}.call(this),function(){BspSoccer.Views.Header=Backbone.View.extend({className:"header-view",template:function(t){return BspSoccer.Config.is_mobile?JST["templates/header_view_mobile"](t):JST["templates/header_view"](t)},events:{"click a#feedback-link":"renderFeedback","click li#language-select":"toggleLanguageMenu","click li#odds-select":"toggleOddsMenu","click a#help-button":"toggleHelpOverlay","click a.language-option":"handleLanguageChange","click a.units-option":"handleUnitsChange","click #logo":"handleLogoClick","click .mobile-menu-btn":"toggleMobileMenu","click #mobile-menu .menu-title .back-arrow":"goBackMenu"},initialize:function(){this.container=$("#header"),this.container.html(this.$el),this.render(),this.storedOpts={}},render:function(t){return null==t&&(t={}),document.title=BspSoccer.Globals.i18n.translate("page-title").fetch(),this.storedOpts=t,this.$el.html(this.template(this.storedOpts)),this},renderFeedback:function(){return BspSoccer.Globals.feedbackView.render()},toggleLanguageMenu:function(t){var e;return BspSoccer.Helpers.stopPropagation(t),BspSoccer.Config.is_mobile?($("#mobile-menu .language-menu").show(),$("#mobile-menu .main-menu").hide(),$("#mobile-menu .odds-menu").hide(),e=$("#mobile-menu .language-menu").height(),$("#header").css("height",""+e+"px")):($("#language-select .sub-menu").toggle(),$("#odds-select .sub-menu").hide(),$("#cl-select .sub-menu").hide())},toggleOddsMenu:function(t){var e;return BspSoccer.Helpers.stopPropagation(t),BspSoccer.Config.is_mobile?($("#mobile-menu .odds-menu").show(),$("#mobile-menu .main-menu").hide(),$("#mobile-menu .language-menu").hide(),e=$("#mobile-menu .odds-menu").height(),$("#header").css("height",""+e+"px")):($("#odds-select .sub-menu").toggle(),$("#language-select .sub-menu").hide(),$("#cl-select .sub-menu").hide())},toggleHelpOverlay:function(){return BspSoccer.Globals.analysisView.closeAnalyticsView(),$("#help-overlay").is(":visible")?$("#help-overlay").slideUp():$("#help-overlay").slideDown(),!1},toggleMobileMenu:function(){var t,e;return e=$("#mobile-menu > div:visible"),$("#header").height()>0?$("#header").css("height","0px"):(t=e.height(),$("#header").css("height",""+t+"px"))},goBackMenu:function(){var t;return $("#mobile-menu .main-menu").show(),$("#mobile-menu .odds-menu").hide(),$("#mobile-menu .language-menu").hide(),t=$("#mobile-menu .main-menu").height(),$("#header").css("height",""+t+"px")},changeLanguage:function(t){var e=this;return t!==BspSoccer.Config.user_language?(BspSoccer.Helpers.trackEvent("Language","Change Language",t),$.getScript("/assets/languages/"+t+".js").done(function(){var n;return moment.monthsShort=BspSoccer.Config.locale_data.messages["month-abbr"],$("body").removeClass(BspSoccer.Config.user_language),BspSoccer.Config.user_language=t,$("body").addClass(BspSoccer.Config.user_language),BspSoccer.Globals.i18n=new Jed({locale_data:BspSoccer.Config.locale_data,domain:"messages"}),n=t+BspSoccer.Helpers.extract_fragment(),Backbone.history.navigate(n),e.updateTranslations()})):void 0},handleLanguageChange:function(t){var e;return e=$(t.currentTarget).data("language"),this.changeLanguage(e),BspSoccer.Config.is_mobile&&this.goBackMenu(t),!1},handleUnitsChange:function(t){return BspSoccer.Config.units=$(t.currentTarget).data("units"),null!=BspSoccer.Globals.headerView&&BspSoccer.Globals.headerView.render(this.storedOpts),null!=BspSoccer.Globals.matchupView&&(BspSoccer.Config.is_mobile||BspSoccer.Globals.matchupView.scoreboardNav.disableScoreboardSlider(),BspSoccer.Globals.matchupView.render()),BspSoccer.Config.is_mobile&&this.goBackMenu(t),!1},handleLogoClick:function(){return Backbone.history.navigate(""+BspSoccer.Config.user_language+"/matchups",{trigger:!0}),!1},updateTranslations:function(){var t;null!=BspSoccer.Globals.helpView&&BspSoccer.Globals.helpView.render(),null!=BspSoccer.Globals.headerView&&BspSoccer.Globals.headerView.render(this.storedOpts),null!=BspSoccer.Globals.footerView&&BspSoccer.Globals.footerView.render(),null!=BspSoccer.Globals.matchupsListView&&BspSoccer.Globals.matchupsListView.render(),null!=BspSoccer.Globals.matchupView?(BspSoccer.Config.is_mobile||null==(null!=(t=BspSoccer.Globals.matchupView)?t.scoreboardNav:void 0)||BspSoccer.Globals.matchupView.scoreboardNav.disableScoreboardSlider(),BspSoccer.Globals.matchupView.render()):(null!=BspSoccer.Globals.matchupProjectionsView&&BspSoccer.Globals.matchupProjectionsView.render(),null!=BspSoccer.Globals.matchupAnalysisView&&BspSoccer.Globals.matchupAnalysisView.render()),null!=BspSoccer.Globals.paywallView&&BspSoccer.Globals.paywallView.render()},hideMenus:function(){return $("#language-select .sub-menu").hide(),$("#odds-select .sub-menu").hide()}})}.call(this),function(){BspSoccer.Views.Help=Backbone.View.extend({className:"help-view",template:JST["templates/help_view"],events:{"click .close-btn":"closeOverlay"},initialize:function(){this.container=$("#help-overlay"),this.container.html(this.$el),this.render()},render:function(){return this.$el.html(this.template),this},closeOverlay:function(){return this.container.slideUp()}})}.call(this),function(){BspSoccer.Views.HistoryManager=Backbone.Model.extend({initialize:function(){return this.currentView=null,this.currentViewId=null,this.viewStack=[],this.goingForward=!0,this},viewStackEmpty:function(){return _.isEmpty(this.viewStack)},canGoBackInViewStack:function(){var t;return t=this.depthInViewStack(this.currentView),!this.viewStackEmpty()&&this.viewStack.length>1&&t&&t>0},addView:function(t){var e,n,i;i=""+document.location.pathname+document.location.search,e=parseInt(t.cid.replace("view",""),10),n={view:t,id:e,viewPath:i},this.goingForward?this.viewStack.push(n):this.viewStack.unshift(n)},viewIsInViewStack:function(t){var e;return _.isEmpty(this.viewStack)?!1:(e=_.filter(this.viewStack,function(e){return e.id===t.cid}),_.isEmpty(e)?!1:_.last(e))},pathIsInViewStack:function(t){var e;return _.isEmpty(this.viewStack)?!1:(e=_.filter(this.viewStack,function(e){return e.viewPath===t}),!_.isEmpty(e))},depthInViewStack:function(t){var e,n;return n=parseInt(t.cid.replace("view",""),10),e=_.filter(this.viewStack,function(t){return n===t.id}),_.isEmpty(e)?!1:_.lastIndexOf(this.viewStack,_.last(e))},cleanupViewStack:function(){var t,e=this;return this.viewStackEmpty()||(t=this.depthInViewStack(this.currentView),this.viewStack.length>t+1&&setTimeout(function(){var n,i,r,o,s;for(i=e.viewStack.splice(t+1,e.viewStack.length-t),s=[],r=0,o=i.length;o>r;r++)n=i[r],n.view?s.push(n.view.cleanup()):s.push(void 0);return s},1200)),this},updateCurrentView:function(t){return this.currentView=t,this.currentViewId=parseInt(t.cid.replace("view",""),10)},goToPreviousView:function(){var t,e,n,i=this;n=_.filter(this.viewStack,function(t){return t.id<i.currentViewId}),_.isEmpty(n)||(this.goingForward=!1,e=_.last(n),t=e.view,this.updateCurrentView(t),t.reactivateView&&t.reactivateView(),this.animateView(t),this.cleanupViewStack())},navigateToView:function(t,e){var n,i,r,o=this;return this.viewStackEmpty()?(i=!1,n=$('<div class="current-view">').appendTo("#main-content")):(i=!0,n=this.goingForward?$('<div class="next-view">').appendTo("#main-content"):$('<div class="old-view">').appendTo("#main-content")),r=new t(_.extend(e,{container:n})),this.viewIsInViewStack(r)||this.addView(r),this.updateCurrentView(r),this.cleanupViewStack(),r.prepare(function(){return r?(r.render(),i?o.animateView(r):r.container.addClass("current-view")):void 0}),this},animateView:function(t){var e,n,i,r,o;for(this.goingForward?t.container.addClass("current-view").removeClass("next-view"):t.container.addClass("current-view").removeClass("old-view"),$("#main-content, #main-content .current-view, #main-content .old-view, #main-content .next-view").animate({scrollTop:0},200),o=this.viewStack,i=0,r=o.length;r>i;i++)n=o[i],n.id!==this.currentViewId&&(e=this.goingForward?"old-view":"next-view",n.view.container.is(".current-view")&&n.view.container.addClass(e).removeClass("current-view"));this.goingForward=!0}})}.call(this),function(){BspSoccer.Views.MatchupAnalysisData=Backbone.View.extend({className:"matchup-analysis-data-view",template:JST["templates/matchup_analysis_data_view"],events:{"click .nav-scroll a":"handleScrollClick"},initialize:function(t){return BspSoccer.Broadcaster.send("Views:MatchupAnalysisData:sectionCreated",{section:this}),this.matchupId=this.model?this.model.id:t.matchupId?t.matchupId:null,t.matchupData&&this.updateAnalysis(t.matchupData),t.show?this.show=t.show:this.resetShowValue(),this.charts=[],this.chartPromises=[],this.container=t.container?$(t.container):$("#main-content"),this.container.html(this.$el),BspSoccer.Broadcaster.on("Views:MatchupAnalysisNav:navClicked",this.handleNavClicked,this),this.subviews=[],this},prepare:function(t){var e=this;this.createMobileNavBar(),this.loadMatchup(function(n){return void 0===n&&"motw"!==e.matchupId?Backbone.history.navigate(""+BspSoccer.Config.user_language+"/matchups/motw/",{trigger:!0}):(BspSoccer.Globals.matchupAnalysisView=e,e.model=n,BspSoccer.Broadcaster.send("load:matchupAnalysis",{matchupId:e.model.id}).done(function(n){return e.updateAnalysis(n),t?t():void 0}))}).fail(function(){return t?t():void 0})},createMobileNavBar:function(){var t,e;return BspSoccer.Config.is_mobile&&(e=$("<div>").prependTo(this.container),t=new BspSoccer.Views.NavBar({el:e,defaultBackUrl:""+BspSoccer.Config.user_language+"/matchups/"+this.matchupId,title:_.bind(this.mobileNavBarTitle,this)}),this.subviews.push(t)),this},mobileNavBarTitle:function(){switch(this.show){case"head2head":return BspSoccer.Globals.i18n.translate("Head to Head").fetch();case"win-loss":return BspSoccer.Globals.i18n.translate("Win/Loss").fetch();case"shots":return BspSoccer.Globals.i18n.translate("Shots").fetch();case"corners":return BspSoccer.Globals.i18n.translate("Corners").fetch();case"possession":return BspSoccer.Globals.i18n.translate("Possession").fetch();case"crosses":return BspSoccer.Globals.i18n.translate("Crosses").fetch();case"fouls":return BspSoccer.Globals.i18n.translate("Fouls & Bookings").fetch();default:return"Matchup Analysis"}},resetShowValue:function(){this.head2HeadGames&&this.head2HeadGames.length>0?this.updateShow("head2head",!1):this.updateShow("win-loss",!1)},updateShow:function(t,e){t!==this.show&&(this.show=t,BspSoccer.Broadcaster.send("Views:MatchupAnalysisData:showUpdated",{show:this.show}),e&&this.render())},loadMatchup:function(t){var e,n,i=this;return e=$.Deferred(),n="motw"===this.matchupId?{date:this.currentDate.format("YYYYMMDD")}:{},BspSoccer.Broadcaster.send("load:matchup",{matchupId:this.matchupId,params:n}).done(function(n){return n&&(i.model=new BspSoccer.Models.Matchup(n),i.matchupId=i.model.get("gameId")),t&&t(i.model),e.resolve()}).fail(function(t){return e.reject(t)}),e},updateMatchup:function(t){var e,n=this;return e=$.Deferred(),this.model=t,BspSoccer.Broadcaster.send("load:matchupAnalysis",{matchupId:this.model.id}).done(function(t){return n.updateAnalysis(t),n.resetShowValue(),$.when(n.render()).done(function(){return e.resolve()})}).fail(function(t){return e.reject(t)}),e},updateAnalysis:function(t){return this.awayTeamPrevGames=new BspSoccer.Collections.GameLogs(t.awayTeamPrevGames.gameLogs),this.homeTeamPrevGames=new BspSoccer.Collections.GameLogs(t.homeTeamPrevGames.gameLogs),this.head2HeadGames=new BspSoccer.Collections.GameLogs(t.matchupPrevGames.gameLogs)},cleanupOldcharts:function(){var t,e,n,i;for(i=this.charts,e=0,n=i.length;n>e;e++)t=i[e],t.destroy&&t.destroy();this.charts=[],this.chartPromises=[]},drawChart:function(t){var e,n;return n=$.Deferred(),this.chartPromises.push(n),t.chart.events.load=function(){n.resolve()},e=new Highcharts.Chart(t),this.charts.push(e),e},handleNavClicked:function(t){this.updateShow(t.show,!0)},handleScrollClick:function(t){var e,n,i;t.preventDefault(),i=$($(t.currentTarget).attr("href")),e=i.position().top-54,n=$(".matchup-analysis-data-section-content").scrollTop()+e,$(".matchup-analysis-data-section-content").animate({scrollTop:n},500),BspSoccer.Helpers.trackEvent("Analysis","Click Sub-Section",""+$("#matchup-analysis-nav li.active a").text()+":"+$(t.currentTarget).text())
},toggleSpinner:function(t){return null==t&&(t=!0),t?this.$(".matchup-analysis-data-view").addClass("loading").spin():this.$(".matchup-analysis-data-view").removeClass("loading").spin(!1)},render:function(){var t,e,n,i,r,o;for(this.cleanupOldcharts(),o=this.subviews,i=0,r=o.length;r>i;i++)n=o[i],n.render();if(this.model){switch(this.$el.html(this.template({show:this.show,awayTeamPrevGames:this.awayTeamPrevGames?this.awayTeamPrevGames.toViewJSON():[],homeTeamPrevGames:this.homeTeamPrevGames?this.homeTeamPrevGames.toViewJSON():[],head2HeadGames:this.head2HeadGames?this.head2HeadGames.toViewJSON():[],matchup:this.model.toViewJSON()})),this.show){case"win-loss":this.renderWinLossView();break;case"shots":this.renderShotsView();break;case"corners":this.renderCornersView();break;case"possession":this.renderPossessionView();break;case"crosses":this.renderCrossesView();break;case"fouls":this.renderFoulsView();break;default:this.renderHead2HeadView()}t=this.$("#matchup-analysis-"+this.show),t.addClass("active"),e=t.find(".nav-scroll"),e.size()>0&&t.find(".matchup-analysis-data-section-content").scrollTop(0).scrollspy({offset:55,target:"#"+e.attr("id")}),$(".info-button").popover({trigger:"manual",placement:"left",delay:{show:0,hide:100}}),$(".info-button img").mouseenter(function(){return $(".info-button").popover("show")}),$(".info-button img").mouseleave(function(){return $(".info-button").popover("hide")}),!BspSoccer.Config.is_mobile&&this.$(".matchup-analysis-data-section-nav").size()>0&&this.$(".matchup-analysis-data-section-nav").css("width",this.$(".matchup-analysis-data-section.active").width()-BspSoccer.Helpers.getScrollbarWidth()),(BspSoccer.Config.is_mobile||BspSoccer.Config.isTablet)&&this.$(".highcharts-container").each(function(){var t;return t=$('<div class="chart-drag-handle">'),t.css({position:"absolute",height:"100%",width:"100%",top:0,"z-index":100}),$(this).append(t),t.on("touchstart",function(t){return t.stopPropagation()}),t.on("touchmove",function(t){return t.stopPropagation()}),t.on("touchend",function(t){return t.stopPropagation()}),t.on("touchcancel",function(t){return t.stopPropagation()})})}else this.$el.html("");return $("body").removeClass("loading"),$.when.apply(null,this.chartPromises)},renderHead2HeadView:function(){var t,e,n,i,r;this.head2HeadGames&&this.head2HeadGames.length>1&&(e=BspSoccer.Helpers.chartConfig({chartType:"area",seriesStacking:"normal",chartTitle:BspSoccer.Globals.i18n.translate("Possession Percentage").fetch(),legendEnabled:!1}),e.yAxis={max:100,min:0,title:{text:BspSoccer.Globals.i18n.translate("Percent of possession").fetch()}},e.series=[{name:BspSoccer.Globals.i18n.translate("possession-percentage-on").fetch(BspSoccer.Helpers.translate_team(this.model.homeTeamName(),this.model.homeTeamAbbrev())),data:this.head2HeadGames.opponentPossessionValues(),color:BspSoccer.Config.homeTeamColor},{name:BspSoccer.Globals.i18n.translate("possession-percentage-on").fetch(BspSoccer.Helpers.translate_team(this.model.awayTeamName(),this.model.awayTeamAbbrev())),data:this.head2HeadGames.possessionValues(),color:BspSoccer.Config.awayTeamColor}],e.tooltip={formatter:function(){return""+this.series.name+" "+this.x+": "+this.y.toFixed(1)+"%"}},e.chart.renderTo="head2head-possession-by-game",e.xAxis={categories:this.head2HeadGames.dateSummaries()},BspSoccer.Config.is_mobile&&(e.xAxis.labels=BspSoccer.Helpers.mobileVerticalLabels),(r=e.yAxis.title).style||(r.style={}),e.yAxis.title.style.color=BspSoccer.Config.secondaryColor,this.drawChart(e)),this.head2HeadGames&&this.head2HeadGames.length>0&&(t=BspSoccer.Helpers.chartConfig({chartType:"pie",chartTitle:BspSoccer.Globals.i18n.translate("Possession Percentage By Team").fetch(),legendEnabled:!0}),i=this.head2HeadGames.possessionAverage(),n=this.head2HeadGames.opponentPossessionAverage(),t.series=[{type:"pie",name:"Possession Percent",data:[{name:""+BspSoccer.Helpers.translate_team(this.model.homeTeamName(),this.model.homeTeamAbbrev())+" "+(n?n.toFixed(1):void 0)+"%",y:this.head2HeadGames.opponentPossessionAverage(),color:BspSoccer.Config.homeTeamColor},{name:""+BspSoccer.Helpers.translate_team(this.model.awayTeamName(),this.model.awayTeamAbbrev())+" "+(i?i.toFixed(1):void 0)+"%",y:this.head2HeadGames.possessionAverage(),color:BspSoccer.Config.awayTeamColor}]}],t.chart.renderTo="head2head-possession-by-team",t.tooltip={formatter:function(){return""+BspSoccer.Globals.i18n.translate("Overall Possession Percentage").fetch()+": "+this.key}},this.drawChart(t))},renderWinLossView:function(){},renderShotsView:function(){var t,e,n,i,r,o;return i=BspSoccer.Helpers.chartConfig({chartType:"bar",seriesStacking:"normal",chartTitle:BspSoccer.Globals.i18n.translate("Shots").fetch(),width:"half"}),i.yAxis={title:{text:null}},e=_.extend(i,{series:[{name:BspSoccer.Globals.i18n.translate("hist-shots-off-target").fetch(BspSoccer.Helpers.translate_team(this.model.awayTeamName(),this.model.awayTeamAbbrev())),data:this.awayTeamPrevGames.shotsOffTargetValues(),color:BspSoccer.Config.awayTeamColor},{name:BspSoccer.Globals.i18n.translate("hist-shots-on-target-saved").fetch(BspSoccer.Helpers.translate_team(this.model.awayTeamName(),this.model.awayTeamAbbrev())),data:this.awayTeamPrevGames.opponentSavesValues(),color:BspSoccer.Config.tertiaryColor},{name:BspSoccer.Globals.i18n.translate("hist-goals").fetch(BspSoccer.Helpers.translate_team(this.model.awayTeamName(),this.model.awayTeamAbbrev())),data:this.awayTeamPrevGames.goalsValues(),color:BspSoccer.Config.secondaryColor}]}),e.chart.renderTo="matchup-analysis-shots-away-own",e.xAxis={categories:this.awayTeamPrevGames.opponentSummaries()},e.title.text=BspSoccer.Globals.i18n.translate("hist-shots").fetch(BspSoccer.Helpers.translate_team(this.model.awayTeamName(),this.model.awayTeamAbbrev())),this.drawChart(e),o=_.extend(i,{series:[{name:BspSoccer.Globals.i18n.translate("hist-shots-off-target").fetch(BspSoccer.Helpers.translate_team(this.model.homeTeamName(),this.model.homeTeamAbbrev())),data:this.homeTeamPrevGames.shotsOffTargetValues(),color:BspSoccer.Config.homeTeamColor},{name:BspSoccer.Globals.i18n.translate("hist-shots-on-target-saved").fetch(BspSoccer.Helpers.translate_team(this.model.homeTeamName(),this.model.homeTeamAbbrev())),data:this.homeTeamPrevGames.opponentSavesValues(),color:BspSoccer.Config.tertiaryColor},{name:BspSoccer.Globals.i18n.translate("hist-goals").fetch(BspSoccer.Helpers.translate_team(this.model.homeTeamName(),this.model.homeTeamAbbrev())),data:this.homeTeamPrevGames.goalsValues(),color:BspSoccer.Config.secondaryColor}]}),o.chart.renderTo="matchup-analysis-shots-home-own",o.xAxis={categories:this.homeTeamPrevGames.opponentSummaries()},o.title.text=BspSoccer.Globals.i18n.translate("hist-shots").fetch(BspSoccer.Helpers.translate_team(this.model.homeTeamName(),this.model.homeTeamAbbrev())),this.drawChart(o),n=BspSoccer.Helpers.chartConfig({chartType:"bar",seriesStacking:"normal",chartTitle:BspSoccer.Globals.i18n.translate("Shots Allowed").fetch(),width:"half"}),n.yAxis={title:{text:null}},t=_.extend(n,{series:[{name:BspSoccer.Globals.i18n.translate("Opponent Shots Off Target").fetch(),data:this.awayTeamPrevGames.opponentShotsOffTargetValues(),color:BspSoccer.Config.awayTeamColor},{name:BspSoccer.Globals.i18n.translate("Opponent Shots On Target (Saved)").fetch(),data:this.awayTeamPrevGames.savesValues(),color:BspSoccer.Config.tertiaryColor},{name:BspSoccer.Globals.i18n.translate("Opponent Goals").fetch(),data:this.awayTeamPrevGames.goalsAllowedValues(),color:BspSoccer.Config.secondaryColor}]}),t.chart.renderTo="matchup-analysis-shots-away-allowed",t.xAxis={categories:this.awayTeamPrevGames.opponentSummaries()},t.title.text=BspSoccer.Globals.i18n.translate("hist-shots-allowed").fetch(BspSoccer.Helpers.translate_team(this.model.awayTeamName(),this.model.awayTeamAbbrev())),this.drawChart(t),r=_.extend(n,{series:[{name:BspSoccer.Globals.i18n.translate("Opponent Shots Off Target").fetch(),data:this.homeTeamPrevGames.opponentShotsOffTargetValues(),color:BspSoccer.Config.homeTeamColor},{name:BspSoccer.Globals.i18n.translate("Opponent Shots On Target (Saved)").fetch(),data:this.homeTeamPrevGames.savesValues(),color:BspSoccer.Config.tertiaryColor},{name:BspSoccer.Globals.i18n.translate("Opponent Goals").fetch(),data:this.homeTeamPrevGames.goalsAllowedValues(),color:BspSoccer.Config.secondaryColor}]}),r.chart.renderTo="matchup-analysis-shots-home-allowed",r.xAxis={categories:this.homeTeamPrevGames.opponentSummaries()},r.title.text=BspSoccer.Globals.i18n.translate("hist-shots-allowed").fetch(BspSoccer.Helpers.translate_team(this.model.homeTeamName(),this.model.homeTeamAbbrev())),this.drawChart(r)},renderCornersView:function(){var t,e,n;return e=BspSoccer.Helpers.chartConfig({chartType:null}),e.yAxis=[{title:{text:BspSoccer.Globals.i18n.translate("Corners Won").fetch(),style:{color:BspSoccer.Config.secondaryColor}}},{title:{text:BspSoccer.Globals.i18n.translate("Aerials Won").fetch(),style:{color:BspSoccer.Config.secondaryColor}},opposite:!0}],e.chart.inverted=!1,t=_.extend(e,{series:[{name:BspSoccer.Globals.i18n.translate("Corners Won").fetch(),data:this.awayTeamPrevGames.cornersValues(),color:BspSoccer.Config.awayTeamColor,yAxis:0,type:"column"},{name:BspSoccer.Globals.i18n.translate("Aerials Won").fetch(),data:this.awayTeamPrevGames.aerialsWonValues(),color:BspSoccer.Config.secondaryColor,yAxis:1,type:"line"}]}),t.chart.renderTo="matchup-analysis-corners-away",t.xAxis={categories:this.awayTeamPrevGames.opponentSummaries()},BspSoccer.Config.is_mobile?t.xAxis.labels=BspSoccer.Helpers.mobileVerticalLabels:BspSoccer.Helpers.is_chinese()&&(t.xAxis.labels={rotation:-45,align:"right"}),t.yAxis[0].title.style.color=BspSoccer.Config.awayTeamColor,t.title.text=BspSoccer.Globals.i18n.translate("hist-corners-won-and-aerials-won").fetch(BspSoccer.Helpers.translate_team(this.model.awayTeamName(),this.model.awayTeamAbbrev())),this.drawChart(t),n=_.extend(e,{series:[{name:BspSoccer.Globals.i18n.translate("Corners Won").fetch(),data:this.homeTeamPrevGames.cornersValues(),color:BspSoccer.Config.homeTeamColor,yAxis:0,type:"column"},{name:BspSoccer.Globals.i18n.translate("Aerials Won").fetch(),data:this.homeTeamPrevGames.aerialsWonValues(),color:BspSoccer.Config.secondaryColor,yAxis:1,type:"line"}]}),n.chart.renderTo="matchup-analysis-corners-home",n.xAxis={categories:this.homeTeamPrevGames.opponentSummaries()},BspSoccer.Config.is_mobile?n.xAxis.labels=BspSoccer.Helpers.mobileVerticalLabels:BspSoccer.Helpers.is_chinese()&&(n.xAxis.labels={rotation:-45,align:"right"}),n.yAxis[0].title.style.color=BspSoccer.Config.homeTeamColor,n.title.text=BspSoccer.Globals.i18n.translate("hist-corners-won-and-aerials-won").fetch(BspSoccer.Helpers.translate_team(this.model.homeTeamName(),this.model.homeTeamAbbrev())),this.drawChart(n)},renderPossessionView:function(){var t,e,n,i,r,o,s,a,l,c;return i=BspSoccer.Helpers.chartConfig({chartType:"area",chartTitle:" ",legendEnabled:!1}),i.yAxis={max:100,min:0,title:{text:BspSoccer.Globals.i18n.translate("Percent of possession").fetch()}},i.tooltip={formatter:function(){return""+this.x+": "+this.y.toFixed(1)+"% "+BspSoccer.Globals.i18n.translate("Possession").fetch()}},t=_.extend(i,{series:[{name:BspSoccer.Globals.i18n.translate("hist-possession-percentage").fetch(BspSoccer.Helpers.translate_team(this.model.awayTeamName(),this.model.awayTeamAbbrev())),data:this.awayTeamPrevGames.possessionValues(),color:BspSoccer.Config.awayTeamColor}]}),t.chart.renderTo="matchup-analysis-possession-away",t.title.text=BspSoccer.Globals.i18n.translate("hist-possession-percentage").fetch(BspSoccer.Helpers.translate_team(this.model.awayTeamName(),this.model.awayTeamAbbrev())),t.xAxis={categories:this.awayTeamPrevGames.opponentSummaries()},BspSoccer.Config.is_mobile?t.xAxis.labels=BspSoccer.Helpers.mobileVerticalLabels:BspSoccer.Helpers.is_chinese()&&(t.xAxis.labels={rotation:-45,align:"right"}),(s=t.yAxis.title).style||(s.style={}),t.yAxis.title.style.color=BspSoccer.Config.awayTeamColor,this.drawChart(t),r=_.extend(i,{series:[{name:BspSoccer.Globals.i18n.translate("hist-possession-percentage").fetch(BspSoccer.Helpers.translate_team(this.model.homeTeamName(),this.model.homeTeamAbbrev())),data:this.homeTeamPrevGames.possessionValues(),color:BspSoccer.Config.homeTeamColor}]}),r.chart.renderTo="matchup-analysis-possession-home",r.title.text=BspSoccer.Globals.i18n.translate("hist-possession-percentage").fetch(BspSoccer.Helpers.translate_team(this.model.homeTeamName(),this.model.homeTeamAbbrev())),r.xAxis={categories:this.homeTeamPrevGames.opponentSummaries()},BspSoccer.Config.is_mobile?r.xAxis.labels=BspSoccer.Helpers.mobileVerticalLabels:BspSoccer.Helpers.is_chinese()&&(r.xAxis.labels={rotation:-45,align:"right"}),(a=r.yAxis.title).style||(a.style={}),r.yAxis.title.style.color=BspSoccer.Config.homeTeamColor,this.drawChart(r),n=BspSoccer.Helpers.chartConfig({chartType:null}),n.yAxis=[{title:{text:BspSoccer.Globals.i18n.translate("Attacking Third Passes").fetch(),style:{color:BspSoccer.Config.secondaryColor}}},{title:{text:BspSoccer.Globals.i18n.translate("Through balls & Attempts").fetch(),style:{color:BspSoccer.Config.secondaryColor}},min:0,opposite:!0}],n.chart.inverted=!1,e=_.extend(n,{series:[{name:BspSoccer.Globals.i18n.translate("Attacking Third Passes Legend").fetch(),data:this.awayTeamPrevGames.finalThirdPassesValues(),color:BspSoccer.Config.awayTeamColor,yAxis:0,type:"column"},{name:BspSoccer.Globals.i18n.translate("Through Balls").fetch(),data:this.awayTeamPrevGames.throughBallsValues(),color:BspSoccer.Config.secondaryColor,yAxis:1,type:"line"},{name:BspSoccer.Globals.i18n.translate("Total Attempts Assisted").fetch(),data:this.awayTeamPrevGames.totalKeyPassesPlusAssistsValues(),color:BspSoccer.Config.tertiaryColor,yAxis:1,type:"line"}]}),e.chart.renderTo="matchup-analysis-possession-secondary-away",e.title.text=BspSoccer.Globals.i18n.translate("hist-passing").fetch(BspSoccer.Helpers.translate_team(this.model.awayTeamName(),this.model.awayTeamAbbrev())),e.xAxis={categories:this.awayTeamPrevGames.opponentSummaries()},BspSoccer.Config.is_mobile?e.xAxis.labels=BspSoccer.Helpers.mobileVerticalLabels:BspSoccer.Helpers.is_chinese()&&(e.xAxis.labels={rotation:-45,align:"right"}),(l=e.yAxis[0].title).style||(l.style={}),e.yAxis[0].title.style.color=BspSoccer.Config.awayTeamColor,this.drawChart(e),o=_.extend(n,{series:[{name:BspSoccer.Globals.i18n.translate("Attacking Third Passes Legend").fetch(),data:this.homeTeamPrevGames.finalThirdPassesValues(),color:BspSoccer.Config.homeTeamColor,yAxis:0,type:"column"},{name:BspSoccer.Globals.i18n.translate("Through Balls").fetch(),data:this.homeTeamPrevGames.throughBallsValues(),color:BspSoccer.Config.secondaryColor,yAxis:1,type:"line"},{name:BspSoccer.Globals.i18n.translate("Total Attempts Assisted").fetch(),data:this.homeTeamPrevGames.totalKeyPassesPlusAssistsValues(),color:BspSoccer.Config.tertiaryColor,yAxis:1,type:"line"}]}),o.chart.renderTo="matchup-analysis-possession-secondary-home",o.title.text=BspSoccer.Globals.i18n.translate("hist-passing").fetch(BspSoccer.Helpers.translate_team(this.model.homeTeamName(),this.model.homeTeamAbbrev())),o.xAxis={categories:this.homeTeamPrevGames.opponentSummaries()},BspSoccer.Config.is_mobile?o.xAxis.labels=BspSoccer.Helpers.mobileVerticalLabels:BspSoccer.Helpers.is_chinese()&&(o.xAxis.labels={rotation:-45,align:"right"}),(c=o.yAxis[0].title).style||(c.style={}),o.yAxis[0].title.style.color=BspSoccer.Config.homeTeamColor,this.drawChart(o)},renderCrossesView:function(){var t,e,n;return e=BspSoccer.Helpers.chartConfig({chartType:"bar",width:"half",height:"noScroll"}),e.yAxis={title:{text:null}},t=_.extend(e,{series:[{name:BspSoccer.Globals.i18n.translate("Crosses Blocked").fetch(),data:this.awayTeamPrevGames.opponentCrossesBlockedValues(),color:BspSoccer.Config.secondaryColor},{name:BspSoccer.Globals.i18n.translate("Total Crosses").fetch(),data:this.awayTeamPrevGames.crossesValues(),color:BspSoccer.Config.awayTeamColor}]}),t.chart.renderTo="matchup-analysis-crosses-away",t.xAxis={categories:this.awayTeamPrevGames.opponentSummaries()},t.title.text=BspSoccer.Globals.i18n.translate("hist-total-crosses").fetch(BspSoccer.Helpers.translate_team(this.model.awayTeamName(),this.model.awayTeamAbbrev())),this.drawChart(t),n=_.extend(e,{series:[{name:BspSoccer.Globals.i18n.translate("Crosses Blocked").fetch(),data:this.homeTeamPrevGames.opponentCrossesBlockedValues(),color:BspSoccer.Config.secondaryColor},{name:BspSoccer.Globals.i18n.translate("Total Crosses").fetch(),data:this.homeTeamPrevGames.crossesValues(),color:BspSoccer.Config.homeTeamColor}]}),n.chart.renderTo="matchup-analysis-crosses-home",n.xAxis={categories:this.homeTeamPrevGames.opponentSummaries()},n.title.text=BspSoccer.Globals.i18n.translate("hist-total-crosses").fetch(BspSoccer.Helpers.translate_team(this.model.homeTeamName(),this.model.homeTeamAbbrev())),this.drawChart(n)},renderFoulsView:function(){var t,e,n;return e=BspSoccer.Helpers.chartConfig({chartType:"bar",width:"half",height:"noScroll"}),e.yAxis={title:{text:BspSoccer.Globals.i18n.translate("Infringements").fetch()}},t=_.extend(e,{series:[{name:BspSoccer.Globals.i18n.translate("Red Cards").fetch(),data:this.awayTeamPrevGames.redCardsValues(),color:BspSoccer.Config.redCardColor},{name:BspSoccer.Globals.i18n.translate("Yellow Cards").fetch(),data:this.awayTeamPrevGames.yellowCardsValues(),color:BspSoccer.Config.yellowCardColor},{name:BspSoccer.Globals.i18n.translate("Fouls").fetch(),data:this.awayTeamPrevGames.foulsValues(),color:BspSoccer.Config.secondaryColor}]}),t.chart.renderTo="matchup-analysis-fouls-away",t.xAxis={categories:this.awayTeamPrevGames.opponentSummaries()},t.title.text=BspSoccer.Globals.i18n.translate("hist-disciplinary-record").fetch(BspSoccer.Helpers.translate_team(this.model.awayTeamName(),this.model.awayTeamAbbrev())),this.drawChart(t),n=_.extend(e,{series:[{name:BspSoccer.Globals.i18n.translate("Red Cards").fetch(),data:this.homeTeamPrevGames.redCardsValues(),color:BspSoccer.Config.redCardColor},{name:BspSoccer.Globals.i18n.translate("Yellow Cards").fetch(),data:this.homeTeamPrevGames.yellowCardsValues(),color:BspSoccer.Config.yellowCardColor},{name:BspSoccer.Globals.i18n.translate("Fouls").fetch(),data:this.homeTeamPrevGames.foulsValues(),color:BspSoccer.Config.secondaryColor}]}),n.chart.renderTo="matchup-analysis-fouls-home",n.xAxis={categories:this.homeTeamPrevGames.opponentSummaries()},n.title.text=BspSoccer.Globals.i18n.translate("hist-disciplinary-record").fetch(BspSoccer.Helpers.translate_team(this.model.homeTeamName(),this.model.homeTeamAbbrev())),this.drawChart(n)},cleanup:function(){var t,e,n,i;if(this.cleanupOldcharts(),this.subviews)for(i=this.subviews,e=0,n=i.length;n>e;e++)t=i[e],t.cleanup?t.cleanup():(t.undelegateEvents(),t.remove());return this.undelegateEvents(),BspSoccer.Broadcaster.off("Views:MatchupAnalysisNav:navClicked",this.handleNavClicked,this),this.remove(),this.container&&this.container.hasClass("next-view")?this.container.remove():void 0}})}.call(this),function(){BspSoccer.Views.MatchupAnalysisNav=Backbone.View.extend({className:"matchup-analysis-nav-view",template:JST["templates/matchup_analysis_nav_view"],events:{"click ul.nav-tabs a":"handleNavClick"},initialize:function(t){return this.show=t.show?t.show:"head2head",this.container=t.container?$(t.container):$(".matchup-analysis-nav"),this.container.html(this.$el),BspSoccer.Broadcaster.on("Views:MatchupAnalysisData:showUpdated",this.handleShowUpdated,this),this},handleShowUpdated:function(t){return t.show!==this.show&&(this.show=t.show,this.render()),this},updateMatchup:function(t){this.model=t,this.show="head2head",this.render()},handleNavClick:function(t){var e,n;return t.preventDefault(),e=this.show,this.show=$(t.currentTarget).data("show"),BspSoccer.Config.is_mobile?(n=$(t.currentTarget).attr("href"),Backbone.history.navigate(n,{trigger:!0})):e!==this.show&&(BspSoccer.Broadcaster.send("Views:MatchupAnalysisNav:navClicked",{show:this.show}),this.render(),BspSoccer.Helpers.trackEvent("Analysis","Switch Section",$(t.currentTarget).text())),!1},render:function(){return $("body.mobile").attr("class","mobile matchup-analysis-data"),this.model?(this.$el.html(this.template({show:this.show,matchup:this.model.toViewJSON()})),this.show&&this.$("#matchup-analyisis-nav-"+this.show).addClass("active")):this.$el.html(""),this},cleanup:function(){return this.undelegateEvents(),BspSoccer.Broadcaster.off("Views:MatchupAnalysisData:showUpdated",this.handleShowUpdated,this),this.remove()}})}.call(this),function(){BspSoccer.Views.MatchupAnalysis=Backbone.View.extend({className:"matchup-analysis-view",template:JST["templates/matchup_analysis_view"],events:{"click .title-bar":"toggleAnalyticsView"},initialize:function(t){return t.model&&(this.model=t.model),this.matchupId=this.model?this.model.id:t.matchupId?t.matchupId:null,BspSoccer.Broadcaster.on("Views:MatchupAnalysisData:sectionCreated",this.handleAnalysisSectionDataUpdated,this),this.container=t.container?$(t.container):$(".matchup-analysis-wrapper"),this.analysisShow=t.analysis_show?t.analysis_show:null,this.subviews={nav:null,data:null},this.insertTemplateIntoDom(),this.createAnalysisSection()},cleanup:function(){var t,e,n;n=this.subviews;for(t in n)e=n[t],null!=e&&e.cleanup();return this.undelegateEvents(),BspSoccer.Broadcaster.off("Views:MatchupAnalysisData:sectionCreated",this.handleAnalysisSectionDataUpdated,this),this.remove()},insertTemplateIntoDom:function(){return this.container.html(this.$el),this.$el.html(this.template({matchupId:this.matchupId}))},createAnalysisSection:function(){var t,e=this;return this.analysisSectionNav=new BspSoccer.Views.MatchupAnalysisNav({model:this.model,show:this.analysisShow,container:this.$(".matchup-analysis-nav")}),this.subviews.nav=this.analysisSectionNav,BspSoccer.Config.is_mobile?!0:(t=$.Deferred(),BspSoccer.Broadcaster.send("load:matchupAnalysis",{matchupId:this.matchupId}).done(function(n){return e.analysisSectionData=new BspSoccer.Views.MatchupAnalysisData({model:e.model,matchupData:n,show:e.analysisShow,container:e.$(".matchup-analysis-data")}),e.subviews.data=e.analysisSectionData,t.resolve()}),t)},updateText:function(){return $(".matchup-analysis-wrapper .title-bar .title").text(BspSoccer.Globals.i18n.translate("BSports In-Depth Analytics").fetch()),$(".matchup-analysis-section").is(":visible")?$(".matchup-analysis-wrapper .title-bar .open-close .text").text(BspSoccer.Globals.i18n.translate("close").fetch()):$(".matchup-analysis-wrapper .title-bar .open-close .text").text(BspSoccer.Globals.i18n.translate("open").fetch())},updateMatchup:function(t){var e,n,i,r,o,s;i=null==this.model,this.model=t,r=[],s=this.subviews;for(n in s)o=s[n],null!=o&&r.push(o.updateMatchup(t));return i&&this.render(),e=$.Deferred(),$.when.apply(null,r).done(function(){return e.resolve()}).fail(function(t){return e.reject(t)}),e},render:function(){var t,e,n,i,r=this;if(null!=(n=this.model)?n.isWorldCup():void 0)return this.$el.html('<div class="world-cup-hack"></div>'),this;this.model&&null!=this.model.id?$(".title-bar").show():$(".title-bar").hide(),this.updateText(),i=this.subviews;for(t in i)e=i[t],null!=e&&e.render();return this.$el.show(),$(".grip").touchwipe({wipeUp:function(){return r.closeAnalyticsView()},wipeDown:function(){return r.openAnalyticsView()},min_move_y:20,preventDefaultEvents:!0}),this},handleAnalysisSectionDataUpdated:function(t){return this.subviews.data=null,null!=this.analysisSectionData&&this.analysisSectionData.cleanup(),t.section&&(this.analysisSectionData=t.section,this.subviews.data=this.analysisSectionData),this},toggleAnalyticsView:function(){return BspSoccer.Config.is_mobile?void 0:$(".matchup-analysis-section").is(":visible")?this.closeAnalyticsView():this.openAnalyticsView()},openAnalyticsView:function(){return $(".matchup-analysis-section").slideDown(),$(".open-close .icon").addClass("opened"),$(".open-close .text").text(BspSoccer.Globals.i18n.translate("close").fetch()),this.render()},closeAnalyticsView:function(){return $(".matchup-analysis-section").slideUp(),$(".open-close .icon").removeClass("opened"),$(".open-close .text").text(BspSoccer.Globals.i18n.translate("open").fetch())}})}.call(this),function(){BspSoccer.Views.MatchupProjectionsData=Backbone.View.extend({className:"matchup-projections-data-view",template:function(t){return BspSoccer.Config.is_mobile?JST["templates/matchup_projections_data_view_mobile"](t):JST["templates/matchup_projections_data_view"](t)},events:{"click .btn-refresh":"handleRefresh","click .matchup-nav a":"handleSectionToggle","mouseover #match-graph-container":"handleGraphMouseOver","mousemove #match-graph-container":"handleGraphMouseOver","mouseout #match-graph-container":"handleGraphMouseOut","mouseover #match-time-line-bar-container":"handleGraphMouseOver","mousemove #match-time-line-bar-container":"handleGraphMouseOver","mouseout #match-time-line-container":"handleGraphMouseOut","click #match-forecast-section .toggle a":"handleMatchForecastToggle","click #correct-score-section .toggle a":"handleCorrectScoreToggle","click #spreads-section .toggle a":"handleSpreadsToggle","click #over-under-section .over-under .header":"toggleOverUnderSection","click #over-under-section a[href='#expand-over-under']":"expandAllOverUnderSections","mouseover #match-time-line-container .event":"handleEventMouseOver","mouseout #match-time-line-container .event":"handleEventMouseOut"},initialize:function(t){return BspSoccer.Broadcaster.send("Views:MatchupProjectionsData:sectionCreated",{section:this}),this.container=t.container?$(t.container):$(".matchup-projections-wrapper"),this.timeInterval={matchupId:null,liveIntervalId:null,liveTimeoutId:null,kickoffId:null,gameClockIntervalId:null,oddsChangeTimeout:null},this.matchupId=this.model?this.model.id:t.matchupId?t.matchupId:null,this.resetProjections(),t.matchupData&&(this.updateMatchupInformation(t.matchupData.scoreboards[0]),this.updateGameEvents(t.matchupData.gameEvents),this.updateProjections(t.matchupData.gameOutcomePredictions)),this.mobileSection=t.show?t.show:"match-forecast",this.activeSection=t.activeSection?t.activeSection:"match-graph",this.subviews=[],this.forecastToggle="final",this.scoreToggle="final",this.spreadsToggle="final",this.charts=[],this.chartAnimation=!0,this.collapsedOverUnder=[],this.container.html(this.$el),this.timestamp=null,this.computerServerTimeOffset=null,this.updateTimestamp(),this.dead=!1,this},prepare:function(t){var e=this;this.loadMatchup(function(n){var i;return void 0===n&&"motw"!==e.matchupId?Backbone.history.navigate(""+BspSoccer.Config.user_language+"/matchups/motw/",{trigger:!0}):(BspSoccer.Globals.matchupProjectionsView=e,e.model=n,e.createMobileNavBar(),i=e.updateMatchup(n),$.when.apply(null,[i]).done(function(){return t?t():void 0}).fail(function(){return t?t():void 0}))}).fail(function(){return t?t():void 0})},cleanup:function(){return this.cleanupCharts(),this.clearTimeInterval(),this.undelegateEvents(),this.remove(),this.container&&this.container.hasClass("next-view")&&this.container.remove(),this.dead=!0},createMobileNavBar:function(){var t,e;return BspSoccer.Config.is_mobile&&(e=$("<div>").prependTo(this.container),t=new BspSoccer.Views.NavBar({el:e,defaultBackUrl:"/"+BspSoccer.Config.user_language+"/matchups/"+this.matchupId+"/",showRefreshButton:!1,refreshFunction:_.bind(this.updateMatchupData,this),title:_.bind(this.mobileNavBarTitle,this)}),this.subviews.push(t)),this},mobileNavBarTitle:function(){switch(this.mobileSection){case"match-forecast":return BspSoccer.Globals.i18n.translate("Match Forecast").fetch();case"correct-score":return BspSoccer.Globals.i18n.translate("Correct Score").fetch();case"over-under":return BspSoccer.Globals.i18n.translate("Over/Under").fetch();case"asian-handicap":return BspSoccer.Globals.i18n.translate("Asian Handicap").fetch();default:return"Matchup Projections"}},cleanupCharts:function(){var t,e,n,i;for(i=this.charts,e=0,n=i.length;n>e;e++)t=i[e],t.destroy&&t.destroy();this.charts=[]},checkTimeInterval:function(){var t,e,n,i,r,o,s=this;null!=this.model&&((this.timeInterval.matchupId!==this.model.id||this.model.isGameComplete())&&this.clearTimeInterval(),this.timeInterval.matchupId=this.model.id,!BspSoccer.Config.is_mobile&&this.model.isPreMatch()&&null==this.timeInterval.kickoffId&&this.startKickoffInterval(),!BspSoccer.Config.is_mobile&&this.model.isLive()&&null==this.timeInterval.gameClockIntervalId&&this.startGameClock(),this.model.isGameComplete()||this.model.isPostponed()||null!=this.timeInterval.liveTimeoutId||null!=this.timeInterval.liveIntervalId||(n=moment(this.model.gameDateTime()).valueOf(),e=n-BspSoccer.Config.liveBuffer,t=this.timestamp.valueOf(),r=e-t,i=r%BspSoccer.Config.liveInterval,0>i&&(i*=-1),r-=i,o=BspSoccer.Config.liveInterval-i,this.timeInterval.liveTimeoutId=0>=r?window.setTimeout(function(){return s.dead?(s.cleanup(),void 0):s.startLiveInterval()},o):window.setTimeout(function(){return s.dead?(s.cleanup(),void 0):s.startLiveInterval()},r)))},startKickoffInterval:function(){var t=this;return this.timeInterval.kickoffId=window.setInterval(function(){return t.updateKickoffClock(),t.model.isPreMatch()?void 0:(window.clearInterval(t.timeInterval.kickoffId),t.timeInterval.kickoffId=null)},BspSoccer.Config.kickoffInterval)},startLiveInterval:function(){var t=this;return this.updateMatchupData(this.model),this.timeInterval.liveIntervalId=window.setInterval(function(){return t.dead?(t.cleanup(),void 0):t.updateMatchupData(t.model)},BspSoccer.Config.liveInterval)},startGameClock:function(){var t=this;return this.timeInterval.gameClockIntervalId=window.setInterval(function(){return t.updateGameClock()},1e3)},clearTimeInterval:function(){window.clearInterval(this.timeInterval.liveIntervalId),window.clearTimeout(this.timeInterval.liveTimeoutId),window.clearInterval(this.timeInterval.kickoffId),window.clearInterval(this.timeInterval.gameClockIntervalId),window.clearTimeout(this.timeInterval.oddsChangeTimeout),this.timeInterval.matchupId=null,this.timeInterval.liveIntervalId=null,this.timeInterval.liveTimeoutId=null,this.timeInterval.kickoffId=null,this.timeInterval.gameClockIntervalId=null,this.timeInterval.oddsChangeTimeout=null},updateKickoffClock:function(){var t;return t=this.model.kickoffClock(this.computerServerTimeOffset),this.model.isPostponed()?($("#kickoff-countdown").addClass("ppd"),$("#kickoff-countdown").text(BspSoccer.Globals.i18n.translate("Postponed").fetch()),$("#kickoff-countdown + .label").addClass("opaque"),window.clearInterval(this.timeInterval.kickoffId),this.timeInterval.kickoffId=null):"00:00:00"===t?($("#kickoff-countdown").addClass("zero"),$("#kickoff-countdown").text(BspSoccer.Globals.i18n.translate("Match to Begin Soon").fetch()),$("#kickoff-countdown + .label").addClass("opaque"),window.clearInterval(this.timeInterval.kickoffId),this.timeInterval.kickoffId=null):$("#kickoff-countdown").text(t)},updateGameClock:function(){return BspSoccer.Config.is_mobile?void 0:$("#game-clock").text(this.model.gameClock(this.computerServerTimeOffset))},updateTimestamp:function(){var t=this;return BspSoccer.Helpers.updateTimestamp(function(){return t.timestamp=BspSoccer.Globals.timestamp.clone(),t.computerServerTimeOffset=moment(t.timestamp).diff(moment(),"seconds"),null!=t.model?(t.checkTimeInterval(),t.updateKickoffClock(),t.updateGameClock()):void 0})},loadMatchup:function(t){var e,n,i=this;return e=$.Deferred(),n="motw"===this.matchupId?{date:this.currentDate.format("YYYYMMDD")}:{},BspSoccer.Broadcaster.send("load:matchup",{matchupId:this.matchupId,params:n}).done(function(n){return n&&(i.model=new BspSoccer.Models.Matchup(n),i.matchupId=i.model.get("gameId")),t&&t(i.model),e.resolve()}).fail(function(t){return e.reject(t)}),e},updateMatchup:function(t){var e,n,i=this;if(!this.dead)return this.chartAnimation=!0,this.model=t,this.resetProjections(),n={gameStatus:this.model.gameStatusId(),gameTime:this.model.gameTime(),isLive:this.model.isLive()},e=$.Deferred(),BspSoccer.Broadcaster.send("load:matchupProjections",{matchupId:this.model.id,params:n}).done(function(t){return i.updateTimestamp(),1===t.scoreboards.length&&t.scoreboards[0].gameId===i.model.id&&(i.matchupId=t.scoreboards[0].gameId,i.updateMatchupInformation(t.scoreboards[0]),i.updateGameEvents(t.gameEvents),i.updateProjections(t.gameOutcomePredictions)),BspSoccer.Config.is_mobile||i.render(),e.resolve()}),e},updateMatchupData:function(t){var e,n,i=this;return null==t&&(t=null),this.dead?void 0:(null!=t&&(this.model=t),n={gameStatus:this.model.gameStatusId(),gameTime:this.model.gameTime(),isLive:!0},e=$.Deferred(),BspSoccer.Broadcaster.send("load:matchupProjections",{matchupId:this.model.id,params:n}).done(function(t){return 1===t.scoreboards.length&&t.scoreboards[0].gameId===i.model.id&&(i.changingGameStatus(t)&&i.updateTimestamp(),i.updateMatchupInformation(t.scoreboards[0]),i.updateGameEvents(t.gameEvents),i.updateProjections(t.gameOutcomePredictions)),i.render(),e.resolve()
}),e)},updateMatchupInformation:function(t){return this.oddsAreChanging=null==this.oddsAreChanging||this.model.gameTime()!==t.gameTime||this.model.gameStatusId()!==t.gameStatusId,this.model.attributes=t},updateGameEvents:function(t){return this.gameEvents=t},updateLiveGameOdds:function(t){var e,n,i;for(null==this.liveGameOdds&&(this.liveGameOdds=[]),null==this.extraFirstHalfOdds&&(this.extraFirstHalfOdds={}),n=0,i=t.length;i>n;n++)e=t[n],e.gameTime>45&&this.model.isSecondHalf()&&e.gameStatusId===BspSoccer.Helpers.GameStatus.FIRST_HALF?this.extraFirstHalfOdds[e.gameTime]=e:(null==this.liveGameOdds[e.gameTime]||e.gameTime===this.model.gameTime())&&(this.liveGameOdds[e.gameTime]=e);this.model.gameTime()>this.liveGameOdds.length-1&&(this.model.attributes.gameTime=this.liveGameOdds.length-1),this.liveGameOdds.length-1===this.model.gameTime()+1&&(this.liveGameOdds=this.liveGameOdds.slice(0,this.model.gameTime()+1))},updateFactorAnalysis:function(t){var e,n,i;for(this.factorAnalysis=t.length>0?{}:null,n=0,i=t.length;i>n;n++)e=t[n],e.id===BspSoccer.Helpers.FactorAnalysis.POSSESSION_PERCENTAGE?this.factorAnalysis.possessionPercentage=e:e.id===BspSoccer.Helpers.FactorAnalysis.SHOTS?this.factorAnalysis.shots=e:e.id===BspSoccer.Helpers.FactorAnalysis.SHOTS_IN_BOX?this.factorAnalysis.shotsInBox=e:e.id===BspSoccer.Helpers.FactorAnalysis.SHOTS_ON_TARGET&&(this.factorAnalysis.shotsOnTarget=e)},updateGameOdds:function(t){var e;return e=this.gameOdds,this.gameOdds=null!=t?t.gameOdds:this.gameOdds,this.oddsAreChanging?this.previousGameOdds=null!=e?e:this.gameOdds:void 0},updateScorePrediction:function(t){var e;return e=this.scorePrediction,this.scorePrediction=null!=t?t.scorePrediction:this.scorePrediction,this.oddsAreChanging?this.previousScorePrediction=null!=e?e:this.scorePrediction:void 0},updateOverUnder:function(t){var e;return e=this.overUnder,this.overUnder=null!=t?t.overUnderProbabilities:this.overUnder,this.oddsAreChanging?this.previousOverUnder=null!=e?e:this.overUnder:void 0},updateSpreadPrediction:function(t){var e,n,i,r,o;return r=this.spreads,e=t.fullTimeSpreads,n=t.halfTimeSpreads,o=function(t){var e,n,i,r,o,s,a,l,c;for(e=1,n=0,o=l=0,c=t.length;c>l;o=++l)s=t[o],r=s.homeSpread,i=Math.abs(r.probability-.5),e>i&&(e=i,n=o);return a=n-3>=0?n-3:0,t=t.splice(a,7)},n=o(n),e=o(e),i={"final":e,half:n},this.spreads=null!=t?i:this.spreads,this.oddsAreChanging?this.previousSpreads=null!=r?r:this.spreads:void 0},updateProjections:function(t){var e;t&&(this.updateFactorAnalysis(t.factorAnalysis),e=this.model.isLive()?this.currentPredictions(t.liveGamePredictions):this.preMatchPredictions(t.liveGamePredictions),this.updateGameOdds(e),this.updateLiveGameOdds(t.liveGameOdds),this.updateScorePrediction(e),this.updateSpreadPrediction(e),this.updateOverUnder(e))},preMatchPredictions:function(t){var e,n,i;for(n=0,i=t.length;i>n;n++)if(e=t[n],e.gameStatusId===BspSoccer.Helpers.GameStatus.PRE_MATCH)return e;return null},currentPredictions:function(t){var e,n,i;for(n=0,i=t.length;i>n;n++)if(e=t[n],this.model.gameTime()===e.gameTime)return e;return null},resetProjections:function(){return this.factorAnalysis=null,this.liveGameOdds=null,this.extraFirstHalfOdds=null,this.gameOdds=null,this.scorePrediction=null,this.overUnder=null,this.collapsedOverUnder=[],this.oddsAreChanging=null},resetSecondHalf:function(){return this.liveGameOdds=this.liveGameOdds.slice(0,46)},changingGameStatus:function(t){return 1===t.scoreboards.length&&t.scoreboards[0].gameStatusId!==this.model.gameStatusId()?(t.scoreboards[0].gameStatusId===BspSoccer.Helpers.GameStatus.SECOND_HALF&&this.resetSecondHalf(),!0):!1},render:function(){var t,e,n,i;if(this.dead)return this.cleanup(),void 0;for($("#matchup-projection-odds").is(":visible")&&(this.projectionOddsScroll=$("#matchup-projection-odds").scrollTop()),this.cleanupCharts(),i=this.subviews,e=0,n=i.length;n>e;e++)t=i[e],t.render();return BspSoccer.Config.is_mobile?this.renderMobile():this.renderWeb(),this.undelegateEvents(),this.delegateEvents(),$("body").removeClass("loading"),this},renderWeb:function(){return this.model?(this.model.isFirstHalf()||this.model.isHalfTime()||this.fixGameEvents(),this.$el.html(this.template({matchup:this.model.toViewJSON(),calculateXFromGameTime:_.bind(this.calculateXFromGameTime,this),collapsedOverUnder:this.collapsedOverUnder,factorAnalysis:this.factorAnalysis,forecastToggle:this.forecastToggle,gameClock:this.model.gameClock(this.computerServerTimeOffset),gameEvents:{away:this.uniqueGameEvents("away"),home:this.uniqueGameEvents("home")},gameOdds:this.gameOdds,graph:{preMatchTeamsY:this.calculateTeamGraphY(0),liveTeamsY:this.calculateTeamGraphY(this.model.gameTime())},kickoffClock:this.model.kickoffClock(this.computerServerTimeOffset),oddsColor:_.bind(this.oddsColor,this),oddsDifference:_.bind(this.oddsDifference,this),oddsUpOrDown:_.bind(this.oddsUpOrDown,this),preMatchOdds:this.liveGameOdds[0],previousGameOdds:this.previousGameOdds,previousOverUnder:this.arrangeOverUnder(this.previousOverUnder),previousScorePrediction:{half:this.arrangeScorePredictions(this.previousScorePrediction,"half"),"final":this.arrangeScorePredictions(this.previousScorePrediction,"final")},previousSpreads:this.previousSpreads,scorePrediction:{half:this.arrangeScorePredictions(this.scorePrediction,"half"),"final":this.arrangeScorePredictions(this.scorePrediction,"final")},spreads:this.spreads,scoreToggle:this.scoreToggle,spreadsToggle:this.spreadsToggle,section:this.activeSection,overUnder:this.arrangeOverUnder(this.overUnder),units:BspSoccer.Config.units,unitsLabel:BspSoccer.Helpers.unitsLabel(BspSoccer.Config.units)})),this.model.isLive()&&this.fixGraphBar($("#match-graph-live-bar"),this.model.gameTime()),(this.model.isGameComplete()||this.model.isLive())&&(this.renderGraphView(),this.renderTimeLineView(),this.chartAnimation=!1),this.projectionOddsScroll&&($("#matchup-projection-odds").scrollTop(this.projectionOddsScroll),this.projectionOddsScroll=null),this.oddsAreChanging&&(this.flashOdds(),this.oddsAreChanging=!1),void 0):this.$el.html("<h1 style='text-align: center; padding: 20px; background-color: #FFF; font-weight: bold;'>"+BspSoccer.Globals.i18n.translate("Please select a matchup").fetch()+"</h1>")},renderMobile:function(){var t;this.model?(this.$el.html(this.template({matchup:this.model.toViewJSON(),forecastToggle:this.forecastToggle,gameOdds:this.gameOdds,previousSpreads:this.previousSpreads,scorePrediction:{half:this.arrangeScorePredictions(this.scorePrediction,"half"),"final":this.arrangeScorePredictions(this.scorePrediction,"final")},scoreToggle:this.scoreToggle,spreads:this.spreads,spreadsToggle:this.spreadsToggle,overUnder:this.arrangeOverUnder(this.overUnder),show:this.mobileSection})),t=this.$("#"+this.mobileSection+"-section"),t.addClass("active"),t.scrollTop(0)):this.$el.html("")},renderGraphView:function(){var t,e,n,i,r,o,s,a,l,c;for(r=[],t=[],i=[],c=this.liveGameOdds,a=0,l=c.length;l>a;a++)o=c[a],r.push(100*o.homeTeamProbability),t.push(100*o.awayTeamProbability),i.push(100*o.drawProbability);return s=[{name:"Home",data:r},{name:"Draw",data:i},{name:"Away",data:t}],n=BspSoccer.Helpers.matchGraphConfig(this.chartAnimation,this.model.maxGameTime(),s),e=new Highcharts.Chart(n),this.charts.push(e)},renderTimeLineView:function(){var t,e;return e=BspSoccer.Helpers.matchTimeLineConfig(this.chartAnimation,this.model.gameTime(),this.model.maxGameTime()),t=new Highcharts.Chart(e),this.charts.push(t)},handleRefresh:function(){return this.updateMatchupData(),!1},handleSectionToggle:function(t){return t.preventDefault(),this.setActiveSection($(t.currentTarget).attr("href")),BspSoccer.Helpers.trackEvent("Projections","Switch Section",$(t.currentTarget).text()),!1},handleGraphMouseOver:function(t){var e,n,i,r,o;return o=t.pageX,r=o-$("#match-graph-container").offset().left,n=this.model.isLive()?this.calculateXFromGameTime(this.model.gameTime()):$("#match-graph-container").width(),r>0&&n>r?(e=this.calculateGameTimeFromX(r),$("#match-graph-tooltip .time-box").text(e+"'"),$("#match-graph-tooltip").css("left",r+"px"),$("#match-time-line-crosshair").css("left",r+"px"),i=this.calculateTeamGraphY(e),$("#match-graph-tooltip .home").css("top",i.home+"%"),$("#match-graph-tooltip .home .text").text(BspSoccer.Globals.i18n.translate("team-wins").fetch(BspSoccer.Helpers.translate_team(this.model.homeTeamName(),this.model.homeTeamAbbrev()))+" "+BspSoccer.Helpers.unitFormatter(this.liveGameOdds[e].homeTeamProbability)),$("#match-graph-tooltip .draw").css("top",i.draw+"%"),$("#match-graph-tooltip .draw .text").text(BspSoccer.Globals.i18n.translate("Draw").fetch()+" "+BspSoccer.Helpers.unitFormatter(this.liveGameOdds[e].drawProbability)),$("#match-graph-tooltip .away").css("top",i.away+"%"),$("#match-graph-tooltip .away .text").text(BspSoccer.Globals.i18n.translate("team-wins").fetch(BspSoccer.Helpers.translate_team(this.model.awayTeamName(),this.model.awayTeamAbbrev()))+" "+BspSoccer.Helpers.unitFormatter(this.liveGameOdds[e].awayTeamProbability)),$("#match-graph-tooltip").show(),$("#match-time-line-crosshair").show(),this.fixGraphBar($("#match-graph-tooltip"),e,n)):($("#match-graph-tooltip").hide(),$("#match-time-line-crosshair").hide())},handleGraphMouseOut:function(){return $("#match-graph-tooltip").hide(),$("#match-time-line-crosshair").hide()},handleEventMouseOver:function(t){var e,n,i,r,o,s,a;return n=$(t.currentTarget),i=n.data("time"),a=n.data("type"),n.hasClass("home")?($("#match-time-line-home .bubble .text").html(this.gameEventsDescriptionList("home",i)),e=$("#match-time-line-home .bubble"),e.show(),s=e.outerHeight()+4,e.css("top",-1*s+"px"),r=this.calculateXFromGameTime(i),o=e.outerWidth()/2,e.css("left",r-o+"px")):n.hasClass("away")?($("#match-time-line-away .bubble .text").html(this.gameEventsDescriptionList("away",i)),e=$("#match-time-line-away .bubble"),e.show(),r=this.calculateXFromGameTime(i),o=e.outerWidth()/2,e.css("left",r-o+"px")):void 0},handleEventMouseOut:function(t){var e;return e=$(t.currentTarget),e.hasClass("home")?$("#match-time-line-home .bubble").hide():e.hasClass("away")?$("#match-time-line-away .bubble").hide():void 0},gameEventsDescriptionList:function(t,e){var n,i,r,o,s,a,l,c,u,h,d,p;for(r="home"===t?this.gameEvents.homeTeamEvents:this.gameEvents.awayTeamEvents,l=[],u=0,d=r.length;d>u;u++)n=r[u],n.gameTime===e&&l.push(n);for(l.sort(BspSoccer.Helpers.compareEvents),a=$("<ul>"),o=h=0,p=l.length;p>h;o=++h)n=l[o],i=BspSoccer.Helpers.gameEventString(n.eventTypeCode),"goal"===i?(c=BspSoccer.Config.show_player_names?""+BspSoccer.Globals.i18n.translate("event-goal").fetch()+": "+n.primaryPlayer.firstName+" "+n.primaryPlayer.lastName+" - "+n.gameTime+"'<br />":""+BspSoccer.Globals.i18n.translate("event-goal").fetch()+" - "+n.gameTime+"'<br />",c+=n.homeTeamScore>n.awayTeamScore?BspSoccer.Globals.i18n.translate("event-goal-winner").fetch(BspSoccer.Helpers.translate_team(this.model.homeTeamName(),this.model.homeTeamAbbrev()),n.homeTeamScore,n.awayTeamScore):n.awayTeamScore>n.homeTeamScore?BspSoccer.Globals.i18n.translate("event-goal-winner").fetch(BspSoccer.Helpers.translate_team(this.model.awayTeamName(),this.model.awayTeamAbbrev()),n.homeTeamScore,n.awayTeamScore):BspSoccer.Globals.i18n.translate("event-goal-tied").fetch(n.homeTeamScore,n.awayTeamScore)):"yellow-card"===i?c=BspSoccer.Config.show_player_names?""+BspSoccer.Globals.i18n.translate("event-yellow-card").fetch()+": "+n.primaryPlayer.firstName+" "+n.primaryPlayer.lastName+" - "+n.gameTime+"'":""+BspSoccer.Globals.i18n.translate("event-yellow-card").fetch()+" - "+n.gameTime+"'":"red-card"===i?c=BspSoccer.Config.show_player_names?""+BspSoccer.Globals.i18n.translate("event-red-card").fetch()+": "+n.primaryPlayer.firstName+" "+n.primaryPlayer.lastName+" - "+n.gameTime+"'":""+BspSoccer.Globals.i18n.translate("event-red-card").fetch()+" - "+n.gameTime+"'":"substitution"===i?BspSoccer.Config.show_player_names?(c=""+BspSoccer.Globals.i18n.translate("event-sub-on").fetch()+": "+n.primaryPlayer.firstName+" "+n.primaryPlayer.lastName+" - "+n.gameTime+"'<br />",c+=""+BspSoccer.Globals.i18n.translate("event-sub-off").fetch()+": "+n.secondaryPlayer.firstName+" "+n.secondaryPlayer.lastName):c=""+BspSoccer.Globals.i18n.translate("event-substitution").fetch()+" - "+n.gameTime+"'":c="",s=$("<li>").html(c),o===l.length-1&&s.addClass("last"),a.append(s);return a},handleMatchForecastToggle:function(t){return t.preventDefault(),$("#match-forecast-"+this.forecastToggle).hide(),$('#match-forecast-section .toggle a[data-time="'+this.forecastToggle+'"]').removeClass("active"),this.forecastToggle=$(t.currentTarget).data("time"),$("#match-forecast-"+this.forecastToggle).show(),$('#match-forecast-section .toggle a[data-time="'+this.forecastToggle+'"]').addClass("active"),"half"===this.forecastToggle?$("#match-forecast-title").text(BspSoccer.Globals.i18n.translate("Half Time Forecast").fetch()):$("#match-forecast-title").text(BspSoccer.Globals.i18n.translate("Match Forecast").fetch()),!1},handleSpreadsToggle:function(t){return this.$("#spreads-"+this.spreadsToggle).hide(),this.$('#spreads-section .toggle a[data-time="'+this.spreadsToggle+'"]').removeClass("active"),this.spreadsToggle=$(t.currentTarget).data("time"),this.$("#spreads-"+this.spreadsToggle).show(),this.$('#spreads-section .toggle a[data-time="'+this.spreadsToggle+'"]').addClass("active"),"half"===this.spreadsToggle?this.$("#spreads-title").text(BspSoccer.Globals.i18n.translate("Asian Handicap").fetch()):this.$("#spreads-title").text(BspSoccer.Globals.i18n.translate("Asian Handicap").fetch()),!1},handleCorrectScoreToggle:function(t){return t.preventDefault(),$("#correct-score-"+this.scoreToggle).hide(),$('#correct-score-section .toggle a[data-time="'+this.scoreToggle+'"]').removeClass("active"),this.scoreToggle=$(t.currentTarget).data("time"),$("#correct-score-"+this.scoreToggle).show(),$('#correct-score-section .toggle a[data-time="'+this.scoreToggle+'"]').addClass("active"),"half"===this.scoreToggle?$("#correct-score-title").text(BspSoccer.Globals.i18n.translate("Half Time Score").fetch()):$("#correct-score-title").text(BspSoccer.Globals.i18n.translate("Correct Score").fetch()),!1},toggleOverUnderSection:function(t){var e,n,i,r;return i=$(t.currentTarget),n=i.data("index"),e=i.children(".arrow"),r=$(".over-under-group-"+n),r.is(":visible")?(r.slideUp(),e.removeClass("up"),e.addClass("down"),this.collapsedOverUnder[n]=!0):(r.slideDown(),e.removeClass("down"),e.addClass("up"),this.collapsedOverUnder[n]=!1)},expandAllOverUnderSections:function(){var t,e,n;for($('div[class^="over-under-group"]').slideDown(),$(".over-under .header .arrow").removeClass("down"),$(".over-under .header .arrow").addClass("up"),t=e=0,n=this.collapsedOverUnder.length;n>=0?n>=e:e>=n;t=n>=0?++e:--e)this.collapsedOverUnder[t]=!1;return!1},setActiveSection:function(t){var e,n;this.$(".matchup-nav .btn.active").removeClass("active"),this.$(".matchup-nav .btn[href='"+t+"']").addClass("active"),n=this.$("#matchup-projection-info"),n.find(".info-pane.active").removeClass("active"),e=$(t),e.addClass("active"),this.activeSection=e.attr("id")},calculateXFromGameTime:function(t){var e,n;return e=null!=this.model?this.model.maxGameTime():this.matchup.maxGameTime,n=$(".matchup-view").width()/e,Math.round(t*n)},calculateGameTimeFromX:function(t){var e;return e=$(".matchup-view").width()/this.model.maxGameTime(),Math.round(t/e)},calculateTeamGraphY:function(t){var e,n,i,r,o,s,a,l,c,u;return o=12,u=this.liveGameOdds[t],s=100*u.homeTeamProbability,i=100*u.drawProbability,e=100*u.awayTeamProbability,c=o/2,l=100-(2*o+o/2),a=Math.round(s/2),c>a?a=c:a>l&&(a=l),c=o+o/2,l=100-(o+o/2),r=Math.round(s+i/2),c>r?r=c:r>l&&(r=l),c=2*o+o/2,l=100-o/2,n=Math.round(s+i+e/2),c>n?n=c:n>l&&(n=l),{home:a,draw:r,away:n}},oddsUpOrDown:function(t,e){return this.model.isLive()?e>t?"up":t>e?"down":"same":"none"},oddsColor:function(t,e){var n,i,r,o,s,a,l,c;return r=100*Math.abs(e-t),i=e>t?BspSoccer.Config.oddsUpColor:t>e?BspSoccer.Config.oddsDownColor:BspSoccer.Config.oddsSameColor,a=.12,l=0,o=1,s=50,c=r/(s-l),n=c,a>c?c=a:c>o&&(c=o),BspSoccer.Helpers.blendAlpha("#FFFFFF",i,c)},oddsDifference:function(t,e){var n;return n="",e>=t&&(n="+"),n+BspSoccer.Helpers.unitFormatter(e-t,"percentage")},arrangeScorePredictions:function(t,e){var n,i,r,o,s,a,l,c,u,h,d;if(null==t)return null;for(s=[],a={probability:0},n=[],i={probability:0},r=[],o={probability:0},u="final"===e?t.fullTimeScoreProbabilities:t.halfTimeScoreProbabilities,h=0,d=u.length;d>h;h++)l=u[h],l.offTheBoard=this.model.isLive()&&(this.model.homeTeamScore()>l.homeTeamScore||this.model.awayTeamScore()>l.awayTeamScore)?!0:!1,c=l.awayTeamScore>3||l.homeTeamScore>3?l.probability:null,l.awayTeamScore<l.homeTeamScore?null!=c?a.probability+=c:s.push(l):l.awayTeamScore>l.homeTeamScore?null!=c?i.probability+=c:n.push(l):null!=c?o.probability+=c:r.push(l);return s.sort(function(t,e){return t.homeTeamScore===e.homeTeamScore?t.awayTeamScore-e.awayTeamScore:t.homeTeamScore-e.homeTeamScore}),n.sort(function(t,e){return t.awayTeamScore===e.awayTeamScore?t.homeTeamScore-e.homeTeamScore:t.awayTeamScore-e.awayTeamScore}),r.sort(function(t,e){return t.homeTeamScore-e.homeTeamScore}),s.push(a),n.push(i),r.push(o),{home:s,away:n,draw:r}},arrangeOverUnder:function(t){var e,n,i;if(null==t)return null;t.sort(function(t,e){return t.scoreTotal-e.scoreTotal}),e=0;for(n in t)i=t[n],i.offTheBoard=this.model.isLive()&&i.scoreTotal<this.model.homeTeamScore()+this.model.awayTeamScore()?!0:!1,null==this.collapsedOverUnder[n]&&(this.collapsedOverUnder[n]=i.scoreTotal>3.5+e||this.model.isLive()&&i.offTheBoard===!0,this.model.isLive()&&i.offTheBoard===!0&&e++);return t},fitTimeBox:function(t,e,n){var i,r,o,s;return o=0,r=100,s=o,i=t,e-t>i-s&&(s=t,i=e),n-e>i-s&&(s=e,i=n),r-n>i-s&&(s=n,i=r),Math.round((i-s)/2+s)},uniqueGameEvents:function(t){var e,n,i,r,o,s,a;for(n=[],"home"===t?n=this.gameEvents.homeTeamEvents:"away"===t&&(n=this.gameEvents.awayTeamEvents),r=[],o={},s=0,a=n.length;a>s;s++)e=n[s],null!=o[e.gameTime]?(o[e.gameTime]=BspSoccer.Helpers.higherPriorityEvent(e,o[e.gameTime]),o[e.gameTime].extra=!0):(o[e.gameTime]=e,o[e.gameTime].extra=!1);for(i in o)e=o[i],r.push(e);return r},fixGameEvents:function(){var t,e,n,i,r,o,s,a,l,c;if(!this.model.isFirstHalf()&&!this.model.isHalfTime()){for(l=this.gameEvents.homeTeamEvents,r=0,s=l.length;s>r;r++)t=l[r],t.gameTime>45&&t.gameStatusId===BspSoccer.Helpers.GameStatus.FIRST_HALF&&(t.gameTime=45);for(c=this.gameEvents.awayTeamEvents,o=0,a=c.length;a>o;o++)t=c[o],t.gameTime>45&&t.gameStatusId===BspSoccer.Helpers.GameStatus.FIRST_HALF&&(t.gameTime=45);n=-1;for(e in this.extraFirstHalfOdds)i=parseInt(e),isFinite(i)&&(n=Math.max(n,i));-1!==n&&(this.liveGameOdds[45]=this.extraFirstHalfOdds[n])}},fixGraphBar:function(t,e,n){var i,r,o,s,a,l,c,u,h;return null==n&&(n=$("#match-graph-container").width()),a=4,h=t.offset().left,u=t.position().left,i=t.children(".crosshair").width(),c=t.children(".time-box").outerWidth(),l=h-(a+c)-$("#match-graph-container").offset().left,s=this.calculateTeamGraphY(e),r=Math.max(t.children(".home").width(),Math.max(t.children(".draw").width(),t.children(".away").width())),o=u+r,0>l?(t.children(".time-box").css("top",this.fitTimeBox(s.home,s.draw,s.away)+"%"),t.children(".time-box").css("left",a+i+"px")):(t.children(".time-box").css("top","50%"),t.children(".time-box").css("left",-1*(c+a)+"px")),o>n&&u-r>0?(t.children(".team").children(".arrow").removeClass("left"),t.children(".team").children(".arrow").addClass("right"),t.children(".time-box").css("top",this.fitTimeBox(s.home,s.draw,s.away)+"%"),t.children(".team").css("left","auto"),t.children(".team").css("right","0px")):l>=0?(t.children(".team").children(".arrow").removeClass("right"),t.children(".team").children(".arrow").addClass("left"),t.children(".time-box").css("top","50%"),t.children(".team").css("left",i+"px"),t.children(".team").css("right","auto")):void 0},flashOdds:function(){var t,e,n,i,r,o;for(e=2*BspSoccer.Config.flashTime*BspSoccer.Config.totalFlashes,o=[],t=n=i=BspSoccer.Config.flashTime,r=BspSoccer.Config.flashTime;r>0?e>=n:n>=e;t=n+=r)o.push(window.setTimeout(function(){return $(".odds-up").toggleClass("white"),$(".odds-down").toggleClass("white")},t));return o}})}.call(this),function(){BspSoccer.Views.MatchupProjectionsNav=Backbone.View.extend({className:"matchup-projections-nav-view",template:JST["templates/matchup_projections_nav_view"],events:{"click ul.nav-tabs a":"handleNavClick"},initialize:function(t){return this.show=t.show?t.show:"match-forecast",this.container=t.container?$(t.container):$(".matchup-projections-nav"),this.container.html(this.$el),this},updateMatchup:function(t){this.model=t,this.show="match-forecast",this.render()},handleNavClick:function(t){var e,n;return t.preventDefault(),e=this.show,this.show=$(t.currentTarget).data("show"),BspSoccer.Config.is_mobile&&(n=$(t.currentTarget).attr("href"),Backbone.history.navigate(n,{trigger:!0})),!1},render:function(){return $("body.mobile").attr("class","mobile matchup-projections-data"),this.model?this.$el.html(this.template({show:this.show,matchup:this.model.toViewJSON()})):this.$el.html(""),this.undelegateEvents(),this.delegateEvents(),this.updateUrl(),this},updateUrl:function(){var t;t=""+BspSoccer.Config.user_language+"/matchups/"+this.model.id+"/",Backbone.history.navigate(t,{trigger:!1,replace:!0})},cleanup:function(){return this.undelegateEvents(),this.remove()}})}.call(this),function(){BspSoccer.Views.MatchupProjections=Backbone.View.extend({className:"matchup-projections-view",template:JST["templates/matchup_projections_view"],initialize:function(t){return t.model&&(this.model=t.model),this.matchupId=this.model?this.model.id:t.matchupId?t.matchupId:null,BspSoccer.Broadcaster.on("Views:MatchupProjectionsData:sectionCreated",this.handleProjectionsSectionDataUpdated,this),this.container=t.container?$(t.container):$(".matchup-projections-wrapper"),this.projectionsShow=t.projections_show?t.projections_show:null,this.subviews={nav:null,data:null},this.dead=!1,this.insertTemplateIntoDom(),this.createProjectionsSection()},cleanup:function(){var t,e,n;this.dead=!0,n=this.subviews;for(t in n)e=n[t],null!=e&&e.cleanup();return this.undelegateEvents(),BspSoccer.Broadcaster.off("Views:MatchupProjectionsData:sectionCreated",this.handleProjectionsSectionDataUpdated,this),this.remove()},insertTemplateIntoDom:function(){return this.container.html(this.$el),this.$el.html(this.template({matchupId:this.matchupId}))},createProjectionsSection:function(){var t,e=this;if(!this.dead)return BspSoccer.Config.is_mobile?(this.projectionsSectionNav=new BspSoccer.Views.MatchupProjectionsNav({model:this.model,show:this.projectionsShow,container:this.$(".matchup-projections-nav")}),this.subviews.nav=this.projectionsSectionNav,!0):(t=$.Deferred(),BspSoccer.Broadcaster.send("load:matchupProjections",{matchupId:this.matchupId}).done(function(n){return e.dead?void 0:(e.projectionsSectionData=new BspSoccer.Views.MatchupProjectionsData({model:e.model,matchupData:n,show:e.projectionsShow,container:e.$(".matchup-projections-data")}),e.subviews.data=e.projectionsSectionData,e.render(),t.resolve())}),t)},updateMatchup:function(t){var e,n,i,r,o;if(!this.dead){this.model=t,i=[],o=this.subviews;for(n in o)r=o[n],null!=r&&i.push(r.updateMatchup(t));return e=$.Deferred(),$.when.apply(null,i).done(function(){return e.resolve()}).fail(function(t){return e.reject(t)}),e}},handleProjectionsSectionDataUpdated:function(t){return this.subviews.data=null,null!=this.projectionsSectionData&&this.projectionsSectionData.cleanup(),t.section&&(this.projectionsSectionData=t.section,this.subviews.data=this.projectionsSectionData),this},render:function(){var t,e,n;n=this.subviews;for(t in n)e=n[t],null!=e&&e.$el.is(":visible")&&e.render();return this.$el.show(),this}})}.call(this),function(){BspSoccer.Views.Matchup=Backbone.View.extend({className:"matchup-view",template:JST["templates/matchup_view"],initialize:function(t){return BspSoccer.Globals.matchupView=this,this.container=t.container?$(t.container):$("#main-content"),this.matchupId=t.matchupId?t.matchupId:"motw","motw"!==this.matchupId&&"next"!==this.matchupId&&(this.matchupId=parseInt(this.matchupId,10)),this.leagueId="next"===this.matchupId&&t.league?t.league:"",this.currentDate=t.date?moment(t.date,"YYYYMMDD").local():moment().local(),this.projectionsShow=t.projections_show?t.projections_show:null,this.analysisShow=t.analysis_show?t.analysis_show:null,this.subviews=[],this.dead=!1,this.insertTemplateIntoDom()},prepare:function(t){var e=this;this.toggleSpinner(!0),this.loadMatchup(function(n){return void 0===n&&"motw"!==e.matchupId?(console.log("Matchup id "+e.matchupId+" was not found, navigating to 'Match of the Week'"),Backbone.history.navigate(""+BspSoccer.Config.user_language+"/matchups/motw/",{trigger:!0})):$.when(e.createNav(),e.createAnalysisSection(),e.createProjectionsSection(),e.createMobileNavBar()).done(function(){return t&&t(),e.toggleSpinner(!1)})}).fail(function(){return t&&t(),e.toggleSpinner(!1)})},toggleSpinner:function(t){return null==t&&(t=!0),t?this.$(".matchup-data-wrapper").addClass("loading").spin():this.$(".matchup-data-wrapper").removeClass("loading").spin(!1)},insertTemplateIntoDom:function(){return this.container.html(this.$el),this.$el.html(this.template)},loadMatchup:function(t){var e,n,i=this;return e=$.Deferred(),n="motw"===this.matchupId||"next"===this.matchupId?{date:this.currentDate.format("YYYYMMDD"),competitionLevel:this.leagueId}:{},BspSoccer.Broadcaster.send("load:matchup",{matchupId:this.matchupId,params:n}).done(function(n){return n?(i.model=new BspSoccer.Models.Matchup(n),i.matchupId=i.model.get("gameId"),i.currentDate=i.model.get("gameDateTime")):i.model=null,t&&t(i.model),e.resolve()}).fail(function(t){return e.reject(t)}),e},handleScoreboardNavMatchSelected:function(t){this.updateMatchup(t.matchup)},createNav:function(){var t,e=this;if(!this.dead)return BspSoccer.Config.is_mobile?console.log("Scoreboard nav is not needed in mobile!"):(t=$.Deferred(),$.when(BspSoccer.Broadcaster.send("load:matchups",{date:BspSoccer.Helpers.startOfWeek(this.currentDate).format("YYYYMMDD"),competitionLevel:this.model?this.model.competitionLevelId():BspSoccer.Config.default_comp_level_id}),BspSoccer.Broadcaster.send("load:competitionLevels")).done(function(n,i){var r,o,s,a;return s=BspSoccer.Helpers.startOfWeek(e.currentDate),o=moment(s).add("days",7).local(),n=BspSoccer.Helpers.pruneMatchups(n,s,o),a=new BspSoccer.Collections.Matchups(n),r=new BspSoccer.Collections.CompetitionLevels(i),e.scoreboardNav=new BspSoccer.Views.ScoreboardNav({collection:a,matchupId:e.matchupId,competitionLevelId:e.model?e.model.competitionLevelId():BspSoccer.Config.default_comp_level_id,currentDate:BspSoccer.Helpers.startOfWeek(e.currentDate),competitionLevels:r}),e.subviews.push(e.scoreboardNav),BspSoccer.Broadcaster.on("Views:ScoreboardNav:matchupSelected",e.handleScoreboardNavMatchSelected,e),t.resolve()}),t)},createMobileNavBar:function(){var t,e;if(!this.dead)return BspSoccer.Config.is_mobile&&(e=$("<div>").prependTo(this.container),t=new BspSoccer.Views.NavBar({el:e,title:_.bind(this.mobileNavBarTitle,this),defaultBackUrl:this.model?"/"+BspSoccer.Config.user_language+"/matchups?date="+this.model.get("gameDateTime").format("YYYYMMDD")+"&competition_level_id="+this.model.competitionLevelId():void 0}),this.subviews.push(t)),this},mobileNavBarTitle:function(){return null!=this.model?""+BspSoccer.Helpers.translate_team(this.model.homeTeamName(),this.model.homeTeamAbbrev())+" "+BspSoccer.Globals.i18n.translate("vs").fetch()+" "+BspSoccer.Helpers.translate_team(this.model.awayTeamName(),this.model.awayTeamAbbrev()):""},createAnalysisSection:function(){return this.dead?void 0:(this.analysisSection=new BspSoccer.Views.MatchupAnalysis({model:this.model,show:this.analysisShow,container:this.$(".matchup-analysis-wrapper")}),this.subviews.push(this.analysisSection),BspSoccer.Globals.analysisView=this.analysisSection,!0)},createProjectionsSection:function(){return this.dead?void 0:(this.projectionsSection=new BspSoccer.Views.MatchupProjections({model:this.model,show:this.projectionsShow,container:this.$(".matchup-projections-wrapper")}),this.subviews.push(this.projectionsSection),BspSoccer.Globals.projectionsView=this.projectionsSection,!0)},updateMatchup:function(t){var e,n,i,r,o,s,a,l,c=this;for(e=$.Deferred(),this.toggleSpinner(!0),n=this.model,this.model=t,this.matchupId=t.id,i=[],l=this.subviews,s=0,a=l.length;a>s;s++)o=l[s],o.updateMatchup&&i.push(o.updateMatchup(t));return $("#matchup-units-picker").show(),r=n!==this.model,this.updateUrl(r),$.when.apply(null,i).done(function(){return c.toggleSpinner(!1),e.resolve(),BspSoccer.Globals.paywallView.hide()}).fail(function(t){return c.toggleSpinner(!1),e.reject(t)}),e},updateUrl:function(t){var e;e=""+BspSoccer.Config.user_language+"/matchups/"+this.matchupId+"/",t&&BspSoccer.Helpers.trackPageview(),Backbone.history.navigate(e,{trigger:!1})},render:function(){var t,e,n,i;for(i=this.subviews,e=0,n=i.length;n>e;e++)t=i[e],t.render();return this.model&&!BspSoccer.Config.is_mobile?$("#matchup-units-picker").show():$("#matchup-units-picker").hide(),this.$el.show(),BspSoccer.Config.is_mobile?$("body.mobile").attr("class","mobile"):$("body").removeClass("loading"),this},reactivateView:function(){return this.render()},cleanup:function(){var t,e,n,i;if(this.dead=!0,this.$el.hide(),this.subviews)for(i=this.subviews,e=0,n=i.length;n>e;e++)t=i[e],t.cleanup?t.cleanup():(t.undelegateEvents(),t.remove());return this.undelegateEvents(),BspSoccer.Globals.analysisView=null,BspSoccer.Globals.projectionsView=null,BspSoccer.Globals.matchupProjectionsView=null,BspSoccer.Globals.matchupAnalysisView=null,BspSoccer.Globals.matchupView=null,BspSoccer.Broadcaster.off("Views:ScoreboardNav:matchupSelected",this.handleScoreboardNavMatchSelected,this),this.remove(),this.container&&this.container.hasClass("next-view")?this.container.remove():void 0}})}.call(this),function(){BspSoccer.Views.MatchupsList=Backbone.View.extend({className:"matchups-list-view",template:function(t){return BspSoccer.Config.is_mobile?JST["templates/matchups_list_view_mobile"](t):JST["templates/matchups_list_view"](t)},events:{"click .matchup-link":"followLink","change select.matchups-list-filter-date":"handleMobileDateChange","change select.matchups-list-filter-league":"handleCompetitionLevelChange","click a.cl-option":"handleCompetitionLevelChange","click #cl-select":"toggleCLMenu"},initialize:function(t){BspSoccer.Globals.matchupsListView=this,this.container=t.container?$(t.container):$("#main-content"),this.insertTemplateIntoDom(),this.currentDate=t.date?moment(t.date,"YYYYMMDD"):moment(),this.normalizeDates(this.currentDate),this.competitionLevelId=t.competition_level_id?parseInt(t.competition_level_id,10):null,this.collection=new BspSoccer.Collections.Matchups,this.liveInterval={intervalId:null,timeoutId:null},this.timestamp=null,this.dateNavigator=new BspSoccer.Views.DateNavigator({delegate:this})},prepare:function(t){var e=this;this.toggleSpinner(!0),$.when(this.retrieveMatchupsInit(),this.retrieveCompetitionLevels()).done(function(){return e.collection.bind("reset",function(){return BspSoccer.Config.is_mobile?e.render:e.renderSubViews()}),t&&t(),e.toggleSpinner(!1)})},normalizeDates:function(t){this.startDate=BspSoccer.Helpers.startOfWeek(t),this.endDate=moment(this.startDate).add("days",6)},checkLiveInterval:function(){var t,e,n,i,r,o,s,a,l,c,u,h,d,p=this;for(e=!1,a=0,s=0,d=this.collection.toViewJSON(),u=0,h=d.length;h>u;u++)n=d[u],n.gameStatusId!==BspSoccer.Helpers.GameStatus.FULL_TIME&&n.gameStatusId!==BspSoccer.Helpers.GameStatus.POSTPONED&&(r=moment(n.gameDateTime).valueOf(),i=r-BspSoccer.Config.liveBuffer,t=this.timestamp.valueOf(),l=i-t,o=l%BspSoccer.Config.liveInterval,0>o&&(o*=-1),l-=o,e?e&&a>l&&(a=l,s=o):(e=!0,a=l,s=o));e&&null==this.liveInterval.timeoutId&&null==this.liveInterval.intervalId?(c=BspSoccer.Config.liveInterval-s,this.liveInterval.timeoutId=0>=a?window.setTimeout(function(){return p.startLiveInterval()},c):window.setTimeout(function(){return p.startLiveInterval()},a)):e||this.clearLiveInterval()},startLiveInterval:function(){var t=this;this.retrieveMatchupsLive(),this.liveInterval.intervalId=window.setInterval(function(){return t.retrieveMatchupsLive()},BspSoccer.Config.liveInterval)},clearLiveInterval:function(){window.clearTimeout(this.liveInterval.timeoutId),window.clearInterval(this.liveInterval.intervalId),this.liveInterval.timeoutId=null,this.liveInterval.intervalId=null},updateTimestamp:function(){var t=this;return BspSoccer.Helpers.updateTimestamp(function(){return t.timestamp=BspSoccer.Globals.timestamp.clone(),t.checkLiveInterval()})},insertTemplateIntoDom:function(){return this.container.html(this.$el),this.$el.css("visiblity","hidden")
},render:function(){var t,e,n,i,r,o,s,a,l;return BspSoccer.Config.is_mobile&&$("body.mobile").attr("class","mobile matchups-list"),s=this.competitionLevels&&this.competitionLevelId?this.competitionLevels.get(this.competitionLevelId):null,t=null!=(a=this.competitionLevelLookup[this.competitionLevelId])?a.nameLong:void 0,BspSoccer.Config.is_mobile&&(i=BspSoccer.Config.end_past_date,n=BspSoccer.Config.end_future_date,""===i?(r=BspSoccer.Helpers.startOfWeek(moment.utc()),r=0===moment().day()?moment(r).subtract("days",14):moment(r).subtract("days",7)):r=BspSoccer.Helpers.startOfWeek(moment.utc(i)),o=""===n?4:moment.utc(n).diff(r,"weeks"),e=[r],_.each(function(){l=[];for(var t=1;o>=1?o>=t:t>=o;o>=1?t++:t--)l.push(t);return l}.apply(this),function(t){return e.push(moment(r).add("days",7*t))}),this.startDate=BspSoccer.Helpers.startOfWeek(this.currentDate),this.endDate=BspSoccer.Helpers.startOfWeek(this.currentDate).add("days",6)),this.$el.html(this.template({competitionLevels:this.competitionLevels?this.competitionLevels.toViewJSON():[],competitionLevelLookup:this.competitionLevelLookup,competitionLevelName:t||BspSoccer.Globals.i18n.translate("All Leagues").fetch(),competitionLevelId:this.competitionLevelId,currentDate:this.currentDate,dates:e,endDate:this.endDate,matchupId:this.matchupId,matchupsPresent:this.collection.models.length>0,startDate:this.startDate,selectedCompetitionLevel:s?s.toViewJSON():null,weeklyMatchups:this.collection?this.collection.toViewJSON():[]})),BspSoccer.Config.is_mobile||this.renderSubViews(),this.$el.css("visibility","visible"),BspSoccer.Globals.footerView.render(),this.toggleSpinner(!1),this.updateUrl(),this},renderSubViews:function(){var t,e,n,i,r,o,s,a,l;for(0===this.collection.models.length?this.$(".no-matches").show():this.$(".no-matches").hide(),this.$("ul.matchups-list").empty(),e=moment(this.endDate).add("days",1),n=this.collection.filteredMatchupsByDay(this.startDate,e),s=_.keys(n),s=_.sortBy(s,function(t){return moment(t,"ddd, D MMMM YYYY").valueOf()}),a=0,l=s.length;l>a;a++)t=s[a],r=n[t],o={competitionLevelLookup:this.competitionLevelLookup,date:"live"===t?t:moment(t,"ddd, D MMMM YYYY").local(),matchups:r,$parentEl:this.$("ul.matchups-list")},i=new BspSoccer.Views.MatchupDay(o),i.render();this.dateNavigator.$el=this.$("#date-picker"),this.dateNavigator.render()},loadMotw:function(t){var e=this;return BspSoccer.Broadcaster.send("load:matchup",{matchupId:"motw",params:{date:this.currentDate.format("YYYYMMDD")}}).done(function(n){if(n){if(e.motw=new BspSoccer.Models.Matchup(n),e.currentDate=e.motw.get("gameDateTime"),e.competitionLevelId=e.motw.competitionLevelId(),t)return t(e.motw)}else if(t)return t(null)}).fail(function(){return t?t(null):void 0})},retrieveMatchups:function(t){var e=this;return this.toggleSpinner(!0),BspSoccer.Broadcaster.send("load:matchups",{date:this.currentDate.format("YYYYMMDD"),competitionLevel:this.competitionLevelId}).done(function(n){var i,r;return r=BspSoccer.Helpers.startOfWeek(e.currentDate),i=moment(r).add("days",7),n=BspSoccer.Helpers.pruneMatchups(n,r,i),e.collection.reset(n),e.render(),t&&t(),e.toggleSpinner(!1),e.updateTimestamp()})},retrieveMatchupsInit:function(t){var e=this;return BspSoccer.Broadcaster.send("load:matchups",{date:this.currentDate.format("YYYYMMDD"),competitionLevel:this.competitionLevelId}).done(function(n){var i,r;return r=BspSoccer.Helpers.startOfWeek(e.currentDate),i=moment(r).add("days",7),n=BspSoccer.Helpers.pruneMatchups(n,r,i),e.collection.reset(n),t&&t(),e.toggleSpinner(!1),e.updateTimestamp()})},retrieveMatchupsLive:function(t){var e=this;return BspSoccer.Broadcaster.send("load:matchups",{date:this.currentDate.format("YYYYMMDD"),competitionLevel:this.competitionLevelId,isLive:!0}).done(function(n){var i,r;return r=BspSoccer.Helpers.startOfWeek(e.currentDate),i=moment(r).add("days",7),n=BspSoccer.Helpers.pruneMatchups(n,r,i),e.collection.reset(n),e.updateTimestamp(),t?t():void 0})},retrieveCompetitionLevels:function(t){var e=this;return BspSoccer.Broadcaster.send("load:competitionLevels").done(function(n){return e.competitionLevels=new BspSoccer.Collections.CompetitionLevels(n),e.competitionLevelLookup=e.competitionLevels.reduce(function(t,e){return t[e.id]=e.toViewJSON(),t},{}),t?t():void 0})},handleMobileDateChange:function(t){return t.preventDefault(),this.toggleSpinner(!0),this.currentDate=BspSoccer.Helpers.startOfWeek(moment($(t.currentTarget).val(),"YYYYMMDD")),this.clearLiveInterval(),this.retrieveMatchups(),BspSoccer.Helpers.trackEvent("Match List","Change Date",moment(this.currentDate).format("LL")),!1},handleCompetitionLevelChange:function(t){var e,n;t.preventDefault(),t.stopPropagation(),this.$("#cl-select .sub-menu").hide(),this.toggleSpinner(!0),e=$(t.currentTarget).val()||$(t.currentTarget).data("cl"),this.competitionLevelId!==e&&(this.competitionLevelId=parseInt(e,10),this.clearLiveInterval(),this.retrieveMatchups(),n=this.competitionLevels&&this.competitionLevelId?this.competitionLevels.get(this.competitionLevelId):null,BspSoccer.Helpers.trackEvent("Match List","Switch League",n?n.get("nameLong"):void 0))},toggleSpinner:function(t){null==t&&(t=!0),t?this.$(".matchups-list-wrapper").addClass("loading").spin():this.$(".matchups-list-wrapper").removeClass("loading").spin(!1)},followLink:function(t){var e,n;return t.preventDefault(),this.toggleSpinner(!0),e=$(t.currentTarget),null!=e?("LI"===e[0].tagName&&(e=e.find("a")),n=e.attr("href"),Backbone.history.navigate(n,{trigger:!0}),!1):void 0},toggleCLMenu:function(){return this.$("#cl-select .sub-menu").toggle(),$("#odds-select .sub-menu").hide(),$("#language-select .sub-menu").hide(),!1},updateUrl:function(){var t;t=""+BspSoccer.Config.user_language+"/matchups?date="+this.currentDate.format("YYYYMMDD"),this.competitionLevelId&&(t+="&competition_level_id="+this.competitionLevelId),Backbone.history.navigate(t,{trigger:!1,replace:!0})},reactivateView:function(){return this.render()},cleanup:function(){var t,e,n,i;if(this.clearLiveInterval(),this.$el.hide(),$("body").removeClass("matchups-list"),this.subViews)for(i=this.subViews,e=0,n=i.length;n>e;e++)t=i[e],t.cleanup?t.cleanup():(t.undelegateEvents(),t.remove());return this.undelegateEvents(),this.remove()}})}.call(this),function(){BspSoccer.Views.Modal=Backbone.View.extend({events:{"click a.modal-link":"showModal","click div.modal-backdrop":"hideModal","click .modal .close, .modal .btn-close":"hideModal","click .btn-submit":"submitForm","submit form":"submitForm"},showModal:function(t){var e;t.preventDefault(),$("body").addClass("modal-open"),e=$(".modal, .modal-backdrop").addClass("start"),setTimeout(function(){return e.addClass("end")},100)},hideModal:function(t){var e;t.preventDefault(),e=$(".modal, .modal-backdrop").removeClass("end"),setTimeout(function(){return $("body").removeClass("modal-open"),e.removeClass("start")},600)},modalDialogueBox:function(t){return $("#modal .modal-body").html(t),$("#modal .modal-footer").html('<a class="btn btn-close btn-primary" href="#">Ok</a>')},submitForm:function(t){var e,n=this;return t.preventDefault(),e=$(t.currentTarget).is("form")?$(t.currentTarget):$(".modal form"),$.post(e.attr("action"),e.serialize(),"json").done(function(t){return n.modalDialogueBox(BspSoccer.Globals.i18n.translate(t.message).fetch())}).error(function(t){var e;return e=jQuery.parseJSON(t.responseText),$("#modal-form-alert").html("<div class='alert alert-error'>"+BspSoccer.Globals.i18n.translate(e.message).fetch()+"</div>")}),!1}}),BspSoccer.Views.FeedbackModal=BspSoccer.Views.Modal.extend({template:JST["templates/feedback_modal_view"],initialize:function(){},render:function(){return $("#modal").html(this.template)}}),BspSoccer.Views.TermsModal=BspSoccer.Views.Modal.extend({template:JST["templates/terms_modal_view"],initialize:function(){},render:function(){return $("#modal").html(this.template)}})}.call(this),function(){BspSoccer.Views.MatchupDay=Backbone.View.extend({template:JST["templates/model_views/matchup_day"],render:function(){var t;return t={date:this.options.date,matchups:_.map(this.options.matchups,function(t){return t.toViewJSON()}),competitionLevelLookup:this.options.competitionLevelLookup},this.$el=$("<div />").addClass("matchup-day"),this.$el.html(this.template(t)),this.options.$parentEl.append(this.$el),this.adjustDateElement()},adjustDateElement:function(){var t;return t=this.$el.height(),this.$el.find("p").css("line-height",t+"px")}})}.call(this),function(){BspSoccer.Views.NavBar=Backbone.View.extend({className:"nav-bar-view",template:JST["templates/nav_bar_view"],events:{"click a.btn-back":"handleBackClick","click a.btn-refresh":"handleRefreshClick"},initialize:function(t){return BspSoccer.Config.hideMobileHeader||(this.title=t.title?t.title:null,this.backButtonText=t.backButtonText?t.backButtonText:"Back",this.showBackButton=null!==t.showBackButton?t.showBackButton:!0,this.defaultBackUrl=t.defaultBackUrl?t.defaultBackUrl:null,this.showRefreshButton=t.showRefreshButton?t.showRefreshButton:!1,this.backClicked=!1,this.refreshFunction=t.refreshFunction?t.refreshFunction:void 0),this},handleBackClick:function(t){return t.preventDefault(),BspSoccer.Globals.HistoryManager.canGoBackInViewStack()?history.back():this.defaultBackUrl?(BspSoccer.Globals.HistoryManager.goingForward=!1,Backbone.history.navigate(this.defaultBackUrl,{trigger:!0})):console.log("View stack is empty and there was no defaultBackUrl!"),!1},handleRefreshClick:function(){return this.refreshFunction&&this.refreshFunction(),!1},render:function(){return BspSoccer.Config.hideMobileHeader?this.$el.html(""):this.$el.html(this.template({title:null!=this.title?this.title():"Match Analysis",backButtonText:this.backButtonText,showRefreshButton:this.showRefreshButton,showBackButton:this.showBackButton})),this}})}.call(this),function(){BspSoccer.Views.Paywall=Backbone.View.extend({className:"paywall-view",template:JST["templates/paywall_view"],events:{"click .button":"goToPurchaseUrl"},initialize:function(){this.display=!1,this.linkToUrl=""+window.location.protocol+"//"+window.location.host+"/login"},render:function(t){var e;return null!=t&&t.display&&(this.display=t.display),this.display?(e=$(".matchup-data-wrapper"),e.append(this.$el).removeClass("loading"),t&&t.linkToUrl&&(this.linkToUrl=t.linkToUrl),this.$el.html(this.template({linkToUrl:this.linkToUrl})),this.$el.show()):void 0},hide:function(){return this.$el.hide()},goToPurchaseUrl:function(t){return t.preventDefault(),window.location=this.linkToUrl,!1}})}.call(this),function(){BspSoccer.Views.ScoreboardNav=Backbone.View.extend({className:"scoreboard-nav-view",template:function(t){return BspSoccer.Config.isTablet?JST["templates/scoreboard_nav_view_tablet"](t):JST["templates/scoreboard_nav_view"](t)},events:{"click .matchup":"handleScoreboardClick","click a.scoreboard-prev":"handleScoreboardSlide","click a.scoreboard-next":"handleScoreboardSlide","change select#competition-level-id":"handleCompetitionLevelChange","click #competition-level-list h4":"handleCompetitionLevelTouch","touch #competition-level-list h4":"handleCompetitionLevelTouch"},initialize:function(t){var e,n=this;this.container=t.container?$(t.container):$("#nav-wrapper"),this.container.html(this.$el),this.matchupId=t.matchupId?t.matchupId:void 0,this.competitionLevels=t.competitionLevels?t.competitionLevels:void 0,this.competitionLevelId=void 0!==t.competitionLevelId?t.competitionLevelId:BspSoccer.Config.default_comp_level_id,e=t.currentDate?t.currentDate:moment(),this.normalizeDates(e),this.collection||(this.collection=new BspSoccer.Collections.Matchups),this.collection.bind("reset",function(){return n.render()}),this.dateNavigator=new BspSoccer.Views.DateNavigator({delegate:this}),this.scoreboardSlider={disabled:!1,offset:0},this.liveInterval={intervalId:null,timeoutId:null},this.timestamp=null,this.updateTimestamp(),this.statusRotationInterval=window.setInterval(function(){return $(".gotw .gotw-status").toggle(),$(".gotw .prematch-status").toggle()},BspSoccer.Config.statusRotationInterval)},cleanup:function(){return window.clearInterval(this.statusRotationInterval),this.clearLiveInterval(),this.undelegateEvents(),this.remove()},checkLiveInterval:function(){var t,e,n,i,r,o,s,a,l,c,u,h,d,p=this;for(e=!1,a=0,s=0,d=this.collection.toViewJSON(),u=0,h=d.length;h>u;u++)n=d[u],n.gameStatusId!==BspSoccer.Helpers.GameStatus.FULL_TIME&&n.gameStatusId!==BspSoccer.Helpers.GameStatus.POSTPONED&&(r=moment(n.gameDateTime).valueOf(),i=r-BspSoccer.Config.liveBuffer,t=this.timestamp.valueOf(),l=i-t,o=l%BspSoccer.Config.liveInterval,0>o&&(o*=-1),l-=o,e?e&&a>l&&(a=l,s=o):(e=!0,a=l,s=o));e&&null==this.liveInterval.timeoutId&&null==this.liveInterval.intervalId?(c=BspSoccer.Config.liveInterval-s,this.liveInterval.timeoutId=0>=a?window.setTimeout(function(){return p.startLiveInterval()},c):window.setTimeout(function(){return p.startLiveInterval()},a)):e||this.clearLiveInterval()},startLiveInterval:function(){var t=this;this.retrieveMatchupsLive(),this.liveInterval.intervalId=window.setInterval(function(){return t.retrieveMatchupsLive()},BspSoccer.Config.liveInterval)},clearLiveInterval:function(){window.clearTimeout(this.liveInterval.timeoutId),window.clearInterval(this.liveInterval.intervalId),this.liveInterval.timeoutId=null,this.liveInterval.intervalId=null},updateTimestamp:function(){var t=this;return BspSoccer.Helpers.updateTimestamp(function(){return t.timestamp=BspSoccer.Globals.timestamp.clone(),t.checkLiveInterval()})},render:function(){var t,e,n,i,r,o=this;return i=this.competitionLevels&&this.competitionLevelId?this.competitionLevels.get(this.competitionLevelId):null,this.$el.css("visibility","hidden").html(this.template({matchupId:this.matchupId,weeklyMatchups:this.collection?this.collection.toViewJSON():[],competitionLevels:this.competitionLevels?this.competitionLevels.toViewJSON():[],competitionLevelId:this.competitionLevelId,selectedCompetitionLevel:i?i.toViewJSON():null,startDate:this.startDate,endDate:this.endDate})),this.dateNavigator.$el=this.$("#date-picker"),this.dateNavigator.render(),this.scoreboardSlider.disabled&&(BspSoccer.Config.isTablet?this.$(".competition-level-matchups-empty, ul.matchups-list").addClass("no-transition"):this.$("#scoreboard-slider").addClass("no-transition")),BspSoccer.Config.isTablet&&this.$(".competition-level-matchups-empty, ul.matchups-list").height("370px"),this.$("select").graphicalSelect(),this.$("#scoreboard-slider").width(this.collection.length*this.matchupWidth()),n=0,this.scoreboardSlider.disabled?n=this.scoreboardSlider.offset:(e=this.$("#scoreboard-slider .selected"),e.size()>0&&(t=this.$("#scoreboard-slider .matchup"),r=t.index(e),n=-1*r*this.matchupWidth(),r+1===t.size()&&(n+=this.matchupWidth()),n>0&&(n=0))),this.$("#scoreboard-slider").css("left",n),this.$el.css("visibility","visible"),this.scoreboardSlider.disabled&&window.setTimeout(function(){return BspSoccer.Config.isTablet?o.$(".competition-level-matchups-empty, ul.matchups-list").removeClass("no-transition"):o.$("#scoreboard-slider").removeClass("no-transition"),o.scoreboardSlider.disabled=!1},0),this},matchupWidth:function(){return $("#scoreboard-slider .matchup").first().outerWidth()},handleScoreboardClick:function(t){var e,n,i,r;return t.preventDefault(),this.$(".matchup.selected").removeClass("selected"),e=$(t.currentTarget).addClass("selected"),r=e.data("matchupId"),this.matchupId!==r&&(BspSoccer.Globals.paywallView.display=!1,this.matchupId=r,BspSoccer.Broadcaster.send("Views:ScoreboardNav:matchupSelected",{matchup:this.collection.get(this.matchupId)}),i=$.trim(e.text().replace(/\s+/g," ").replace(/\, \d+:\d\d/,"")),BspSoccer.Helpers.trackEvent("Scoreboard","Select Match",i)),n=$("#competition-level-id-graphical-select .drop-down"),n.is(":visible")&&n.trigger("toggle"),!1},handleScoreboardSlide:function(t){return t.preventDefault(),$(t.currentTarget).hasClass("scoreboard-prev")?this.scoreboardSlide("right"):this.scoreboardSlide("left"),!1},scoreboardSlide:function(t){var e,n,i,r;r=BspSoccer.Helpers.is_chinese()?3:4,i=$("#scoreboard-slider"),e=parseInt(i.css("left"),10),n="left"===t?e-r*this.matchupWidth():"right"===t?e+r*this.matchupWidth():e,n>0&&(n=0),n<-1*this.collection.length*this.matchupWidth()+5&&(n=e),i.css("left",n),n!==e&&BspSoccer.Helpers.trackEvent("Scoreboard","Slide Matches")},handleCompetitionLevelTouch:function(t){var e,n,i=this;return t.preventDefault(),e=$(t.currentTarget).data("competitionLevelId"),this.competitionLevelId!==e&&(this.$(".competition-level-matchups-empty, ul.matchups-list").height("0px"),setTimeout(function(){return i.retrieveMatchups()},600),this.competitionLevelId=parseInt(e,10),n=this.competitionLevels.get(this.competitionLevelId),BspSoccer.Helpers.trackEvent("Scoreboard","Switch League",n?n.get("nameLong"):void 0)),!1},handleCompetitionLevelChange:function(t){var e,n;return t.preventDefault(),e=$(t.currentTarget).val(),this.competitionLevelId!==e&&(this.competitionLevelId=parseInt(e,10),this.clearLiveInterval(),this.retrieveMatchups(),n=this.competitionLevels.get(this.competitionLevelId),BspSoccer.Helpers.trackEvent("Scoreboard","Switch League",n?n.get("nameLong"):void 0)),!1},retrieveMatchups:function(t){var e=this;return this.toggleSpinner(!0),BspSoccer.Broadcaster.send("load:matchups",{date:this.currentDate.format("YYYYMMDD"),competitionLevel:this.competitionLevelId,isLive:null!=this.liveInterval.intervalId}).done(function(n){var i,r;return r=BspSoccer.Helpers.startOfWeek(e.currentDate),i=moment(r).add("days",7),n=BspSoccer.Helpers.pruneMatchups(n,r,i),e.collection.reset(n),e.updateTimestamp(),t&&t(),e.toggleSpinner(!1)})},retrieveMatchupsLive:function(t){var e=this;return this.disableScoreboardSlider(),BspSoccer.Broadcaster.send("load:matchups",{date:this.currentDate.format("YYYYMMDD"),competitionLevel:this.competitionLevelId,isLive:!0}).done(function(n){var i,r;return r=BspSoccer.Helpers.startOfWeek(e.currentDate),i=moment(r).add("days",7),n=BspSoccer.Helpers.pruneMatchups(n,r,i),e.collection.reset(n),e.updateTimestamp(),t?t():void 0})},disableScoreboardSlider:function(){return this.scoreboardSlider.disabled=!0,this.scoreboardSlider.offset=this.$("#scoreboard-slider").css("left")},toggleSpinner:function(t){var e;null==t&&(t=!0),BspSoccer.Config.isTablet||(e=this.$("#scoreboard"),t?e.addClass("loading").spin("small"):e.removeClass("loading").spin(!1))},normalizeDates:function(t){this.currentDate=BspSoccer.Helpers.startOfWeek(t),this.startDate=BspSoccer.Helpers.startOfWeek(t),this.endDate=moment(this.startDate).add("days",6)}})}.call(this),function(){BspSoccer.Routers.Matchups=Backbone.Router.extend({routes:{":lang/matchups/motw*params":"showMatchOfTheWeek",":lang/matchups/:id/projections*params":"showMatchupProjections",":lang/matchups/:id/analysis*params":"showMatchupAnalysis",":lang/matchups/:id*params":"showMatchup",":lang/matchups*params":"showMatchups"},updateCurrentView:function(t,e,n){var i=this;null==n&&(n={}),BspSoccer.Config.is_mobile?(BspSoccer.Globals.headerView.render(n),BspSoccer.Globals.footerView.render(),BspSoccer.Globals.HistoryManager.navigateToView(t,e)):(this.currentView&&(this.currentView.cleanup(),BspSoccer.Helpers.trackPageview()),BspSoccer.Globals.headerView.render(n),BspSoccer.Globals.footerView.render(),this.currentView=new t(e),this.currentView.prepare(function(){return i.currentView?(i.currentView.render(),$("body").removeClass("loading")):void 0}))},showMatchOfTheWeek:function(t,e){return this.showMatchup(t,"motw",e)},showMatchup:function(t,e,n){var i;return i=n?this.processQueryString(n):{},i=_.extend(i,{matchupId:e}),this.updateCurrentView(BspSoccer.Views.Matchup,i)},showMatchupProjections:function(t,e,n){var i;return i=n?this.processQueryString(n):{},i=_.extend(i,{matchupId:e}),this.updateCurrentView(BspSoccer.Views.MatchupProjectionsData,i)},showMatchupAnalysis:function(t,e,n){var i;return i=n?this.processQueryString(n):{},i=_.extend(i,{matchupId:e}),this.updateCurrentView(BspSoccer.Views.MatchupAnalysisData,i)},showMatchups:function(t,e){var n,i;return i=e?this.processQueryString(e):{},n={minimal:!0},this.updateCurrentView(BspSoccer.Views.MatchupsList,i,n)},processQueryString:function(t){var e;return e=t&&t.indexOf("?")>=0?BspSoccer.Helpers.deparam(t.substr(t.indexOf("?")+1)):{}}})}.call(this),function(){BspSoccer.Helpers.mobileVerticalLabels={rotation:-90,align:"right",x:3,style:{"font-size":"10px"}},BspSoccer.Helpers.chartConfig=function(t){var e;return e={chart:{animation:!1,events:{},height:315,width:615},credits:{enabled:!1},legend:{itemStyle:{color:"#393F4C",cursor:"default"},itemHoverStyle:{color:"#393F4C",cursor:"default"}},plotOptions:{series:{borderWidth:0,events:{legendItemClick:function(){return!1}},minPointLength:2,shadow:!1},bar:{groupPadding:.15},pie:{dataLabels:{}}},series:[],title:{style:{"font-size":"1.1em","font-weight":"bold",color:"#393F4C","text-align":"center"}}},void 0!==t.chartType&&(e.chart.type=t.chartType),void 0!==t.chartTitle&&(e.title.text=t.chartTitle),void 0!==t.legendEnabled&&(e.legend.enabled=t.legendEnabled),void 0!==t.seriesStacking&&(e.plotOptions.series.stacking=t.seriesStacking),BspSoccer.Config.is_mobile&&(e.plotOptions.pie.dataLabels={distance:-40,color:"white",style:{fontWeight:"bold"}}),BspSoccer.Config.is_mobile&&(e.plotOptions.series.animation=!1),BspSoccer.Config.is_mobile?(e.chart.width=300,e.chart.height=300):(t.width&&"half"===t.width&&(e.chart.width=300),t.height&&"noScroll"===t.height&&(e.chart.height=345)),e},BspSoccer.Helpers.matchGraphConfig=function(t,e,n){var i;return i={chart:{animation:!1,height:136,plotBackgroundColor:"#EAEAEA",renderTo:"match-graph-view",spacingBottom:0,spacingLeft:0,spacingRight:0,spacingTop:0,type:"area",width:772},colors:["#217E97","#939393","#E27511"],credits:{enabled:!1},legend:{enabled:!1},plotOptions:{series:{animation:t?{duration:1e3}:!1,borderWidth:0,events:{legendItemClick:function(){return!1}},minPointLength:2,shadow:!1},area:{lineWidth:1,marker:{enabled:!1},stacking:"percent"}},series:n,title:{text:""},tooltip:{enabled:!1},xAxis:{gridLineWidth:1,labels:{enabled:!1},max:e,min:0,tickInterval:5,tickLength:0,tickPlacement:"off",title:{text:null}},yAxis:{endOnTick:!1,labels:{align:"left",enabled:!1,formatter:function(){return BspSoccer.Helpers.unitFormatter(this.value/100)},style:{color:"#000000"},x:4},max:100,min:0,showFirstLabel:!1,showLastLabel:!1,tickInterval:25,tickPlacement:"off",title:{text:null}}}},BspSoccer.Helpers.matchTimeLineConfig=function(t,e,n){var i;return i={chart:{animation:!1,height:8,plotBackgroundColor:"#444444",renderTo:"match-time-line-bar-view",spacingBottom:0,spacingLeft:0,spacingRight:0,spacingTop:0,style:{fontSize:"8px",lineHeight:"8px"},type:"bar",width:772},colors:["rgba(247,255,50,0.5)"],credits:{enabled:!1},legend:{enabled:!1},plotOptions:{bar:{groupPadding:.15,pointWidth:8,states:{hover:{enabled:!1}}},series:{animation:t?{duration:1e3}:!1,borderWidth:0,events:{legendItemClick:function(){return!1}},minPointLength:2,shadow:!1}},series:[{data:[e]}],title:{text:""},tooltip:{enabled:!1},xAxis:{gridLineWidth:0,labels:{enabled:!1},lineWidth:0,tickPlacement:"off",title:{text:null}},yAxis:{endOnTick:!1,gridLineColor:"#666666",gridLineWidth:1,labels:{enabled:!1},max:n,min:0,tickInterval:5,tickLength:0,tickPlacement:"off",title:{text:null}}}}}.call(this),function(){BspSoccer.Helpers.blendAlpha=function(t,e,n){var i,r,o,s,a,l;return l=/^#?([a-z0-9][a-z0-9])([a-z0-9][a-z0-9])([a-z0-9][a-z0-9])$/i,i=l.exec(t),o=l.exec(e),a=Math.round(n*parseInt(o[1],16)+(1-n)*parseInt(i[1],16)),s=Math.round(n*parseInt(o[2],16)+(1-n)*parseInt(i[2],16)),r=Math.round(n*parseInt(o[3],16)+(1-n)*parseInt(i[3],16)),"#"+BspSoccer.Helpers.zeroFill(a.toString(16),2)+BspSoccer.Helpers.zeroFill(s.toString(16),2)+BspSoccer.Helpers.zeroFill(r.toString(16),2)}}.call(this),function(){moment.fn.bsp_format=function(t){return BspSoccer.Helpers.is_chinese()?"D MMM"===t?this.format("MMMD日"):"D MMM YYYY"===t?this.format("MMMD日 YYYY"):"D MMM, H:mm"===t?this.format("MMMD日, H:mm"):this.format(t):this.format(t)}}.call(this),function(){BspSoccer.Helpers.deparam=function(t){var e;return e={},t?($.each(t.split("&"),function(t,n){var i;return n?(i=n.split("="),e[i[0]]=i[1]):void 0}),e):e}}.call(this),function(){BspSoccer.Helpers.stopPropagation=function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}}.call(this),function(){BspSoccer.Helpers.trackEvent=function(t,e,n,i,r){var o;"Soccer"!==t&&(t="Soccer:"+t),o=["_trackEvent",t,e,n,i,r],_gaq.push(o)},BspSoccer.Helpers.trackCustomVars=function(){var t,e,n,i,r,o,s,a,l,c,u;window._gaq||(window._gaq=[]),null!=("undefined"!=typeof BspSoccer&&null!==BspSoccer?null!=(e=BspSoccer.Config)?e.user:void 0:void 0)&&_gaq.push(["_setCustomVar",1,"user_email",null!=(n=BspSoccer.Config.user)?n.email:void 0,1]),null!=("undefined"!=typeof BspSoccer&&null!==BspSoccer?null!=(i=BspSoccer.Config)?i.user_language:void 0:void 0)&&_gaq.push(["_setCustomVar",3,"language",BspSoccer.Config.user_language,1]),null!=("undefined"!=typeof BspSoccer&&null!==BspSoccer?null!=(r=BspSoccer.Config)?r.user:void 0:void 0)?_gaq.push(["_setCustomVar",5,"lg_entitled_soccer",""+(null!=(o=BspSoccer.Config.user)?o.has_lg_entitlements:void 0),1]):_gaq.push(["_setCustomVar",5,"lg_entitled_soccer","false",1]),("undefined"!=typeof BspSoccer&&null!==BspSoccer?null!=(s=BspSoccer.Config)?null!=(a=s.user)?a.origin:void 0:void 0:void 0)&&""!==("undefined"!=typeof BspSoccer&&null!==BspSoccer?null!=(l=BspSoccer.Config)?null!=(c=l.user)?c.origin:void 0:void 0:void 0)?t=BspSoccer.Config.user.origin:null!=("undefined"!=typeof BspSoccer&&null!==BspSoccer?null!=(u=BspSoccer.Config)?u.refrCode:void 0:void 0)?t=BspSoccer.Config.refrCode:$.cookie("bsrefr")&&(t=$.cookie("bsrefr")),t&&_gaq.push(["_setCustomVar",2,"refr",t,1])},BspSoccer.Helpers.trackPageview=function(){var t,e,n;t=null!=(e=window.location)?e.pathname:void 0,""!==(null!=(n=window.location)?n.search:void 0)&&(t+=window.location.search),_gaq.push(["_trackPageview",t]),BspSoccer.Helpers.trackCustomVars()}}.call(this),function(){BspSoccer.Helpers.FactorAnalysis={POSSESSION_PERCENTAGE:19,SHOTS:10055,SHOTS_IN_BOX:10053,SHOTS_ON_TARGET:10073}}.call(this),function(){BspSoccer.Helpers.gameEventString=function(t){return"G_A"===t||"G_H"===t?"goal":"RC_A"===t||"RC_H"===t?"red-card":"YC_A"===t||"YC_H"===t?"yellow-card":"SU_A"===t||"SU_H"===t?"substitution":"unknown"},BspSoccer.Helpers.higherPriorityEvent=function(t,e){var n,i;return n=BspSoccer.Helpers.gameEventString(t.eventTypeCode),i=BspSoccer.Helpers.gameEventString(e.eventTypeCode),n===i||"goal"===n||"red-card"===n&&"goal"!==i||"substitution"===n&&"goal"!==i&&"red-card"!==i||"yellow-card"===n&&"goal"!==i&&"red-card"!==i&&"substitution"!==i?t:e},BspSoccer.Helpers.compareEvents=function(t,e){var n,i;return n=BspSoccer.Helpers.gameEventString(t.eventTypeCode),i=BspSoccer.Helpers.gameEventString(e.eventTypeCode),n===i?0:BspSoccer.Helpers.higherPriorityEvent(t,e)===t?-1:1}}.call(this),function(){BspSoccer.Helpers.GameStatus={UNKNOWN:0,PRE_MATCH:1,FIRST_HALF:2,HALF_TIME:3,SECOND_HALF:4,EXTRA_FIRST_HALF:5,EXTRA_SECOND_HALF:6,SHOOTOUT:7,FULL_TIME:8,POSTPONED:9}}.call(this),function(){BspSoccer.Helpers.zeroFill=function(t,e){var n;for(n=t+"";n.length<e;)n="0"+n;return n}}.call(this),function(){BspSoccer.Helpers.pruneMatchups=function(t,e,n){var i,r,o,s,a;for(r=[],s=0,a=t.length;a>s;s++)o=t[s],i=("function"==typeof o.get?o.get("gameDateTime").local():void 0)||moment(o.gameDateTime).local(),n.diff(i)>0&&e.diff(i)<=0&&r.push(o);return r}}.call(this),function(){BspSoccer.Helpers.getScrollbarWidth=function(){var t,e,n;return t=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div></div>'),$("body").append(t),e=$("div",t).innerWidth(),t.css("overflow-y","auto"),n=$("div",t).innerWidth(),$(t).remove(),e-n}}.call(this),function(){BspSoccer.Helpers.startOfWeek=function(t){var e,n;for(e=moment(t),n=moment(t).local().day(5).startOf("day");n.diff(e)>0;)n.subtract("days",7);return n}}.call(this),function(){var t=this;BspSoccer.Helpers.updateTimestamp=function(e){var n;return n=BspSoccer.Broadcaster.send("load:timestamp").done(function(n){return t.BspSoccer.Globals.timestamp=moment.unix(n.timestamp),e?e():void 0})}}.call(this),function(){BspSoccer.Helpers.translate_team=function(t,e,n){return null==n&&(n=!0),BspSoccer.Helpers.is_chinese()?BspSoccer.Globals.i18n.translate(t).fetch():n?e:t},BspSoccer.Helpers.translate_league=function(t,e,n){return null==n&&(n=!0),BspSoccer.Helpers.is_chinese()||!n?BspSoccer.Globals.i18n.translate(t).fetch():e},BspSoccer.Helpers.extract_language=function(){var t,e;return t=Backbone.history.getFragment(),e=t.search(/[^a-zA-Z-]/gi),-1===e?t:t.substring(0,e)},BspSoccer.Helpers.extract_fragment=function(){var t,e;return t=Backbone.history.getFragment(),e=t.search(/[^a-zA-Z-]/gi),-1===e?t:t.substring(e)},BspSoccer.Helpers.is_chinese=function(){return"zh"===BspSoccer.Config.user_language||"zh-CN"===BspSoccer.Config.user_language||"zh-TW"===BspSoccer.Config.user_language||"zh-HK"===BspSoccer.Config.user_language}}.call(this),function(){BspSoccer.Helpers.fractionalOddsLookup=[["1/1000",99.9],["1/750",99.867],["1/500",99.8],["1/250",99.602],["1/200",99.502],["1/100",99.01],["1/80",98.765],["1/66",98.507],["1/50",98.039],["1/40",97.561],["1/33",97.059],["1/28",96.552],["1/25",96.154],["1/20",95.238],["1/16",94.118],["1/14",93.333],["1/12",92.308],["1/10",90.909],["1/9",89.928],["1/8",88.889],["2/15",87.719],["1/7",87.489],["2/13",86.655],["1/6",85.69],["2/11",84.602],["1/5",83.333],["2/9",81.766],["1/4",80],["2/7",77.76],["3/10",76.923],["1/3",74.963],["4/11",72.993],["2/5",71.429],["4/9",68.966],["9/20",68.966],["29/20",68.966],["4/9",68.966],["1/2",66.667],["8/15",65.189],["11/20",64.516],["4/7",63.613],["3/5",62.5],["8/13",61.881],["13/20",60.606],["4/6",59.988],["7/10",58.824],["8/11",57.87],["3/4",57.143],["4/5",55.556],["5/6",54.526],["17/20",54.054],["9/10",52.632],["10/11",52.356],["19/20",51.282],["Evs",50],["21/20",48.78],["11/10",47.619],["6/5",45.455],["5/4",44.444],["13/10",43.478],["11/8",42.105],["7/5",41.667],["6/4",40],["8/5",38.462],["13/8",38.095],["17/10",37.037],["7/4",36.364],["9/5",35.714],["15/8",34.783],["19/10",34.483],["2/1",33.333],["21/10",32.258],["11/5",31.25],["9/4",30.769],["23/10",30.303],["12/5",29.412],["5/2",28.571],["13/5",27.778],["27/10",27.027],["11/4",26.667],["14/5",26.316],["29/10",25.641],["3/1",25],["16/5",23.81],["10/3",23.073],["7/2",22.222],["15/4",21.053],["4/1",20],["21/5",19.231],["17/4",19.048],["9/2",18.182],["5/1",16.667],["11/2",15.385],["6/1",14.286],["13/2",13.333],["7/1",12.5],["15/2",11.765],["8/1",11.111],["17/2",10.526],["9/1",10],["19/2",9.524],["10/1",9.091],["11/1",8.333],["12/1",7.692],["14/1",6.667],["16/1",5.882],["18/1",5.263],["20/1",4.762],["22/1",4.348],["25/1",3.846],["28/1",3.448],["33/1",2.941],["40/1",2.439],["50/1",1.961],["66/1",1.493],["80/1",1.235],["100/1",.99],["125/1",.794],["150/1",.662],["200/1",.498],["250/1",.398],["300/1",.332],["350/1",.285],["400/1",.249],["450/1",.222],["500/1",.2],["600/1",.166],["700/1",.143],["750/1",.133],["1000/1",.1],["1500/1",.067],["2000/1",.05],["2500/1",.04],["3000/1",.033],["3500/1",.029],["4000/1",.025],["4500/1",.022],["5000/1",.02],["7500/1",.013],["10000/1",.01]],BspSoccer.Helpers.unitsLabel=function(t){if(BspSoccer.Config.is_mobile)switch(t){case"decimal":return"Dec";case"fraction":return"Frac";default:return"Pct"}else switch(t){case"decimal":return"Decimal";case"fraction":return"Fraction";default:return"Percentage"}},BspSoccer.Helpers.unitFormatter=function(t,e){var n,i,r,o,s,a,l,c,u;if(null==e&&(e=null),null==e&&"decimal"===BspSoccer.Config.units||"decimal"===e)return 0!==t?(i=1/t,i>BspSoccer.Config.decimalCap?BspSoccer.Config.decimalCap.toFixed(2):i.toFixed(2)):0;if((null!=e||"fraction"!==BspSoccer.Config.units)&&"fraction"!==e)return""+(100*t).toFixed(1)+"%";for(n=100*t,u=BspSoccer.Helpers.fractionalOddsLookup,r=l=0,c=u.length;c>l;r=++l){if(a=u[r],!BspSoccer.Helpers.fractionalOddsLookup[r+1])return a[0];if(s=a[1],o=BspSoccer.Helpers.fractionalOddsLookup[r+1][1],n>s)return a[0];if(s>=n&&n>=o)return Math.abs(n-s)<Math.abs(n-o)?a[0]:BspSoccer.Helpers.fractionalOddsLookup[r+1][0]}}}.call(this);